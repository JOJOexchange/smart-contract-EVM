{"abi":[{"type":"function","name":"approveTrade","inputs":[{"name":"orderSender","type":"address","internalType":"address"},{"name":"tradeData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"traderList","type":"address[]","internalType":"address[]"},{"name":"paperChangeList","type":"int256[]","internalType":"int256[]"},{"name":"creditChangeList","type":"int256[]","internalType":"int256[]"}],"stateMutability":"nonpayable"},{"type":"function","name":"deposit","inputs":[{"name":"primaryAmount","type":"uint256","internalType":"uint256"},{"name":"secondaryAmount","type":"uint256","internalType":"uint256"},{"name":"to","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"executeWithdraw","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"to","type":"address","internalType":"address"},{"name":"isInternal","type":"bool","internalType":"bool"},{"name":"param","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"fastWithdraw","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"to","type":"address","internalType":"address"},{"name":"primaryAmount","type":"uint256","internalType":"uint256"},{"name":"secondaryAmount","type":"uint256","internalType":"uint256"},{"name":"isInternal","type":"bool","internalType":"bool"},{"name":"param","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAllRegisteredPerps","inputs":[],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getCreditOf","inputs":[{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"primaryCredit","type":"int256","internalType":"int256"},{"name":"secondaryCredit","type":"uint256","internalType":"uint256"},{"name":"pendingPrimaryWithdraw","type":"uint256","internalType":"uint256"},{"name":"pendingSecondaryWithdraw","type":"uint256","internalType":"uint256"},{"name":"executionTimestamp","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getFundingRate","inputs":[{"name":"perp","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getLiquidationCost","inputs":[{"name":"perp","type":"address","internalType":"address"},{"name":"liquidatedTrader","type":"address","internalType":"address"},{"name":"requestPaperAmount","type":"int256","internalType":"int256"}],"outputs":[{"name":"liqtorPaperChange","type":"int256","internalType":"int256"},{"name":"liqtorCreditChange","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getLiquidationPrice","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"perp","type":"address","internalType":"address"}],"outputs":[{"name":"liquidationPrice","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getMarkPrice","inputs":[{"name":"perp","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getOrderFilledAmount","inputs":[{"name":"orderHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"filledAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPositions","inputs":[{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getRiskParams","inputs":[{"name":"perp","type":"address","internalType":"address"}],"outputs":[{"name":"params","type":"tuple","internalType":"struct Types.RiskParams","components":[{"name":"initialMarginRatio","type":"uint256","internalType":"uint256"},{"name":"liquidationThreshold","type":"uint256","internalType":"uint256"},{"name":"liquidationPriceOff","type":"uint256","internalType":"uint256"},{"name":"insuranceFeeRate","type":"uint256","internalType":"uint256"},{"name":"markPriceSource","type":"address","internalType":"address"},{"name":"name","type":"string","internalType":"string"},{"name":"isRegistered","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getTraderRisk","inputs":[{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"netValue","type":"int256","internalType":"int256"},{"name":"exposure","type":"uint256","internalType":"uint256"},{"name":"initialMargin","type":"uint256","internalType":"uint256"},{"name":"maintenanceMargin","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"handleBadDebt","inputs":[{"name":"liquidatedTrader","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isAllSafe","inputs":[{"name":"traderList","type":"address[]","internalType":"address[]"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isCreditAllowed","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"spender","type":"address","internalType":"address"}],"outputs":[{"name":"primaryCreditAllowed","type":"uint256","internalType":"uint256"},{"name":"secondaryCreditAllowed","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"isFastWithdrawalValid","inputs":[{"name":"fastWithdrawOperator","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isOperatorValid","inputs":[{"name":"client","type":"address","internalType":"address"},{"name":"operator","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isOrderSenderValid","inputs":[{"name":"orderSender","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isSafe","inputs":[{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"openPosition","inputs":[{"name":"trader","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"realizePnl","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"pnl","type":"int256","internalType":"int256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"requestLiquidation","inputs":[{"name":"executor","type":"address","internalType":"address"},{"name":"liquidator","type":"address","internalType":"address"},{"name":"liquidatedTrader","type":"address","internalType":"address"},{"name":"requestPaperAmount","type":"int256","internalType":"int256"}],"outputs":[{"name":"liqtorPaperChange","type":"int256","internalType":"int256"},{"name":"liqtorCreditChange","type":"int256","internalType":"int256"},{"name":"liqedPaperChange","type":"int256","internalType":"int256"},{"name":"liqedCreditChange","type":"int256","internalType":"int256"}],"stateMutability":"nonpayable"},{"type":"function","name":"requestWithdraw","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"primaryAmount","type":"uint256","internalType":"uint256"},{"name":"secondaryAmount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setOperator","inputs":[{"name":"operator","type":"address","internalType":"address"},{"name":"isValid","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateFundingRate","inputs":[{"name":"perpList","type":"address[]","internalType":"address[]"},{"name":"rateList","type":"int256[]","internalType":"int256[]"}],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"approveTrade(address,bytes)":"3cd9523d","deposit(uint256,uint256,address)":"8dbdbe6d","executeWithdraw(address,address,bool,bytes)":"17a4dbaa","fastWithdraw(address,address,uint256,uint256,bool,bytes)":"da22b46c","getAllRegisteredPerps()":"92e189a6","getCreditOf(address)":"c97ab30c","getFundingRate(address)":"0baaa528","getLiquidationCost(address,address,int256)":"59cd592d","getLiquidationPrice(address,address)":"1867b480","getMarkPrice(address)":"5d6f9c14","getOrderFilledAmount(bytes32)":"55559a86","getPositions(address)":"3eeb530e","getRiskParams(address)":"4f33cb53","getTraderRisk(address)":"6e753010","handleBadDebt(address)":"11fd52e1","isAllSafe(address[])":"181f4922","isCreditAllowed(address,address)":"23d30198","isFastWithdrawalValid(address)":"74bf9b57","isOperatorValid(address,address)":"a5fcf803","isOrderSenderValid(address)":"fc92b495","isSafe(address)":"769a28ac","openPosition(address)":"ebbeba6e","realizePnl(address,int256)":"15e3ecb9","requestLiquidation(address,address,address,int256)":"be5b0371","requestWithdraw(address,uint256,uint256)":"3a2bf94e","setOperator(address,bool)":"558a7297","updateFundingRate(address[],int256[])":"854a8041"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"orderSender\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"tradeData\",\"type\":\"bytes\"}],\"name\":\"approveTrade\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"traderList\",\"type\":\"address[]\"},{\"internalType\":\"int256[]\",\"name\":\"paperChangeList\",\"type\":\"int256[]\"},{\"internalType\":\"int256[]\",\"name\":\"creditChangeList\",\"type\":\"int256[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"primaryAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"secondaryAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isInternal\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"param\",\"type\":\"bytes\"}],\"name\":\"executeWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"primaryAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"secondaryAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isInternal\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"param\",\"type\":\"bytes\"}],\"name\":\"fastWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAllRegisteredPerps\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"getCreditOf\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"primaryCredit\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"secondaryCredit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingPrimaryWithdraw\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingSecondaryWithdraw\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"executionTimestamp\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"}],\"name\":\"getFundingRate\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"},{\"internalType\":\"int256\",\"name\":\"requestPaperAmount\",\"type\":\"int256\"}],\"name\":\"getLiquidationCost\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"liqtorPaperChange\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"liqtorCreditChange\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"}],\"name\":\"getLiquidationPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"liquidationPrice\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"}],\"name\":\"getMarkPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"orderHash\",\"type\":\"bytes32\"}],\"name\":\"getOrderFilledAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"filledAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"getPositions\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"}],\"name\":\"getRiskParams\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"initialMarginRatio\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"liquidationThreshold\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"liquidationPriceOff\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"insuranceFeeRate\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"markPriceSource\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"isRegistered\",\"type\":\"bool\"}],\"internalType\":\"struct Types.RiskParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"getTraderRisk\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"netValue\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"exposure\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialMargin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maintenanceMargin\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"}],\"name\":\"handleBadDebt\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"traderList\",\"type\":\"address[]\"}],\"name\":\"isAllSafe\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"isCreditAllowed\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"primaryCreditAllowed\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"secondaryCreditAllowed\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"fastWithdrawOperator\",\"type\":\"address\"}],\"name\":\"isFastWithdrawalValid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"client\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isOperatorValid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"orderSender\",\"type\":\"address\"}],\"name\":\"isOrderSenderValid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"isSafe\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"openPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"int256\",\"name\":\"pnl\",\"type\":\"int256\"}],\"name\":\"realizePnl\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"executor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"liquidator\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"},{\"internalType\":\"int256\",\"name\":\"requestPaperAmount\",\"type\":\"int256\"}],\"name\":\"requestLiquidation\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"liqtorPaperChange\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"liqtorCreditChange\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"liqedPaperChange\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"liqedCreditChange\",\"type\":\"int256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"primaryAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"secondaryAmount\",\"type\":\"uint256\"}],\"name\":\"requestWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isValid\",\"type\":\"bool\"}],\"name\":\"setOperator\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"perpList\",\"type\":\"address[]\"},{\"internalType\":\"int256[]\",\"name\":\"rateList\",\"type\":\"int256[]\"}],\"name\":\"updateFundingRate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"approveTrade(address,bytes)\":{\"details\":\"only perpetual contract can call this function\",\"params\":{\"orderSender\":\"is the one who submit tradeData.\",\"tradeData\":\"contains orders, signatures and match info.\"}},\"deposit(uint256,uint256,address)\":{\"params\":{\"primaryAmount\":\"is the amount of primary asset you want to deposit.\",\"secondaryAmount\":\"is the amount of secondary asset you want to deposit.\",\"to\":\"is the account you want to deposit to.\"}},\"executeWithdraw(address,address,bool,bytes)\":{\"params\":{\"from\":\"The deducted account.\",\"isInternal\":\"Only internal credit transfers will be made, and ERC20 transfers will not happen.\",\"param\":\"call \\\"to\\\" with param if not null.\",\"to\":\"is the address receiving assets.\"}},\"fastWithdraw(address,address,uint256,uint256,bool,bytes)\":{\"params\":{\"from\":\"The deducted account.\",\"isInternal\":\"Only internal credit transfers will be made, and ERC20 transfers will not happen.\",\"param\":\"call \\\"to\\\" with param if not null.\",\"primaryAmount\":\"is the amount of primary asset you want to withdraw.\",\"secondaryAmount\":\"is the amount of secondary asset you want to\",\"to\":\"is the address receiving assets.\"}},\"getLiquidationPrice(address,address)\":{\"details\":\"This function is for directional use. The margin of error is typically within 10 wei.\",\"returns\":{\"liquidationPrice\":\"equals 0 if there is no liquidation price.\"}},\"getOrderFilledAmount(bytes32)\":{\"returns\":{\"filledAmount\":\"includes paper amount\"}},\"getRiskParams(address)\":{\"params\":{\"perp\":\"the address of perpetual contract market\"}},\"getTraderRisk(address)\":{\"returns\":{\"exposure\":\"open position value of the trader across all markets\",\"initialMargin\":\"Funds required to open a position.\",\"maintenanceMargin\":\"Funds needed to keep a position open.\",\"netValue\":\"net value of trader including credit amount\"}},\"isAllSafe(address[])\":{\"details\":\"This function is more gas effective than isSafe, by caching mark prices.\"},\"openPosition(address)\":{\"details\":\"Only perpetual contract can call this function when someone's position is opened.\"},\"realizePnl(address,int256)\":{\"details\":\"Only perpetual contract can call this function when someone's position is closed.\"},\"requestLiquidation(address,address,address,int256)\":{\"details\":\"Only perpetual contract can call this function. liqtor is short for liquidator, liqed is short for liquidated trader.\",\"params\":{\"liquidatedTrader\":\"is the one who is being liquidated.\",\"liquidator\":\"is the one who will take over positions.\",\"requestPaperAmount\":\"is the size that the liquidator wants to take. Positive if the position is long, negative if the position is short.\"}},\"requestWithdraw(address,uint256,uint256)\":{\"params\":{\"from\":\"The deducted account.\",\"primaryAmount\":\"is the amount of primary asset you want to withdraw.\",\"secondaryAmount\":\"is the amount of secondary asset you want to withdraw.\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"approveTrade(address,bytes)\":{\"notice\":\"Help perpetual contract parse tradeData and return the balance changes of each trader.\"},\"deposit(uint256,uint256,address)\":{\"notice\":\"Deposit fund to get credit for\"},\"executeWithdraw(address,address,bool,bytes)\":{\"notice\":\"Execute the withdrawal request.\"},\"fastWithdraw(address,address,uint256,uint256,bool,bytes)\":{\"notice\":\"Withdraw without waiting.\"},\"getAllRegisteredPerps()\":{\"notice\":\"Return all registered perpetual contract market.\"},\"getCreditOf(address)\":{\"notice\":\"Return the credit details of the trader. You cannot use credit as net value or net margin of a trader. The net value of positions would also be included.\"},\"getFundingRate(address)\":{\"notice\":\"Get funding rate of a perpetual market. Funding rate is a 1e18 based decimal.\"},\"getLiquidationCost(address,address,int256)\":{\"notice\":\"a view version of requestLiquidation, liquidators can use this function to check how much you have to pay in advance.\"},\"getLiquidationPrice(address,address)\":{\"notice\":\"Get liquidation price of a position\"},\"getMarkPrice(address)\":{\"notice\":\"Return mark price of a perpetual market. price is a 1e18 based decimal.\"},\"getOrderFilledAmount(bytes32)\":{\"notice\":\"Get filled paper amount of an order to avoid double matching.\"},\"getPositions(address)\":{\"notice\":\"Get all open positions of the trader.\"},\"getTraderRisk(address)\":{\"notice\":\"Get the risk profile data of a trader.\"},\"handleBadDebt(address)\":{\"notice\":\"Transfer all bad debt to insurance account, including primary and secondary balances.\"},\"isAllSafe(address[])\":{\"notice\":\"Check if a list of traders are safe.\"},\"isOperatorValid(address,address)\":{\"notice\":\"check if operator is valid\"},\"isOrderSenderValid(address)\":{\"notice\":\"check if order sender is valid\"},\"isSafe(address)\":{\"notice\":\"Check if the trader's margin is enough (>= maintenance margin). If so, the trader is \\\"safe\\\". The trader's positions under all markets will be liquidated if he is not safe.\"},\"openPosition(address)\":{\"notice\":\"Register the trader's position into dealer.\"},\"realizePnl(address,int256)\":{\"notice\":\"Accrual realized pnl and remove the trader's position from dealer.\"},\"requestLiquidation(address,address,address,int256)\":{\"notice\":\"Calculate the paper and credit change of liquidator and liquidated trader.\"},\"requestWithdraw(address,uint256,uint256)\":{\"notice\":\"Submit withdrawal request, which can be executed after the timelock. The main purpose of this function is to avoid the failure of counterparty caused by withdrawal.\"},\"setOperator(address,bool)\":{\"notice\":\"Register operator. The operator can sign order on your behalf.\"},\"updateFundingRate(address[],int256[])\":{\"notice\":\"Update multiple funding rate at once. Can only be called by funding rate keeper.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IDealer.sol\":\"IDealer\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"src/interfaces/IDealer.sol\":{\"keccak256\":\"0x75721ae87c7539c2422d90b9d9f1af2c30a069f9f76209afcd9a235c5d23dd6a\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://de64678f24f41d796feb3e00702fc30bf6697b610ddb1d8f8d50c7259655806e\",\"dweb:/ipfs/QmTa34m3xMupCjoNKMaEy2sev18VWP8eFadmrNbBYooUvt\"]},\"src/libraries/Types.sol\":{\"keccak256\":\"0xe6475cf1a9e65093ae313d167011b7014cdbd6fdcf84b922317f26cfdb1b12a4\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://279e941708975cc4565f0cb403036d3f74e121444845fa97f0d4dc9eaafefd3e\",\"dweb:/ipfs/QmVh5pLcqZ2SzcGJprNg7hGh3VVqd2SFPfNZ4VMGzbkR47\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.9+commit.e5eed63a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"orderSender","type":"address"},{"internalType":"bytes","name":"tradeData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"approveTrade","outputs":[{"internalType":"address[]","name":"traderList","type":"address[]"},{"internalType":"int256[]","name":"paperChangeList","type":"int256[]"},{"internalType":"int256[]","name":"creditChangeList","type":"int256[]"}]},{"inputs":[{"internalType":"uint256","name":"primaryAmount","type":"uint256"},{"internalType":"uint256","name":"secondaryAmount","type":"uint256"},{"internalType":"address","name":"to","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"deposit"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bool","name":"isInternal","type":"bool"},{"internalType":"bytes","name":"param","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"executeWithdraw"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"primaryAmount","type":"uint256"},{"internalType":"uint256","name":"secondaryAmount","type":"uint256"},{"internalType":"bool","name":"isInternal","type":"bool"},{"internalType":"bytes","name":"param","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"fastWithdraw"},{"inputs":[],"stateMutability":"view","type":"function","name":"getAllRegisteredPerps","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"getCreditOf","outputs":[{"internalType":"int256","name":"primaryCredit","type":"int256"},{"internalType":"uint256","name":"secondaryCredit","type":"uint256"},{"internalType":"uint256","name":"pendingPrimaryWithdraw","type":"uint256"},{"internalType":"uint256","name":"pendingSecondaryWithdraw","type":"uint256"},{"internalType":"uint256","name":"executionTimestamp","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"perp","type":"address"}],"stateMutability":"view","type":"function","name":"getFundingRate","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[{"internalType":"address","name":"perp","type":"address"},{"internalType":"address","name":"liquidatedTrader","type":"address"},{"internalType":"int256","name":"requestPaperAmount","type":"int256"}],"stateMutability":"view","type":"function","name":"getLiquidationCost","outputs":[{"internalType":"int256","name":"liqtorPaperChange","type":"int256"},{"internalType":"int256","name":"liqtorCreditChange","type":"int256"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"address","name":"perp","type":"address"}],"stateMutability":"view","type":"function","name":"getLiquidationPrice","outputs":[{"internalType":"uint256","name":"liquidationPrice","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"perp","type":"address"}],"stateMutability":"view","type":"function","name":"getMarkPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"orderHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getOrderFilledAmount","outputs":[{"internalType":"uint256","name":"filledAmount","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"getPositions","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"perp","type":"address"}],"stateMutability":"view","type":"function","name":"getRiskParams","outputs":[{"internalType":"struct Types.RiskParams","name":"params","type":"tuple","components":[{"internalType":"uint256","name":"initialMarginRatio","type":"uint256"},{"internalType":"uint256","name":"liquidationThreshold","type":"uint256"},{"internalType":"uint256","name":"liquidationPriceOff","type":"uint256"},{"internalType":"uint256","name":"insuranceFeeRate","type":"uint256"},{"internalType":"address","name":"markPriceSource","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"bool","name":"isRegistered","type":"bool"}]}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"getTraderRisk","outputs":[{"internalType":"int256","name":"netValue","type":"int256"},{"internalType":"uint256","name":"exposure","type":"uint256"},{"internalType":"uint256","name":"initialMargin","type":"uint256"},{"internalType":"uint256","name":"maintenanceMargin","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"liquidatedTrader","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"handleBadDebt"},{"inputs":[{"internalType":"address[]","name":"traderList","type":"address[]"}],"stateMutability":"view","type":"function","name":"isAllSafe","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"stateMutability":"view","type":"function","name":"isCreditAllowed","outputs":[{"internalType":"uint256","name":"primaryCreditAllowed","type":"uint256"},{"internalType":"uint256","name":"secondaryCreditAllowed","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"fastWithdrawOperator","type":"address"}],"stateMutability":"view","type":"function","name":"isFastWithdrawalValid","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"client","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"stateMutability":"view","type":"function","name":"isOperatorValid","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"orderSender","type":"address"}],"stateMutability":"view","type":"function","name":"isOrderSenderValid","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"isSafe","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"openPosition"},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"int256","name":"pnl","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"realizePnl"},{"inputs":[{"internalType":"address","name":"executor","type":"address"},{"internalType":"address","name":"liquidator","type":"address"},{"internalType":"address","name":"liquidatedTrader","type":"address"},{"internalType":"int256","name":"requestPaperAmount","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"requestLiquidation","outputs":[{"internalType":"int256","name":"liqtorPaperChange","type":"int256"},{"internalType":"int256","name":"liqtorCreditChange","type":"int256"},{"internalType":"int256","name":"liqedPaperChange","type":"int256"},{"internalType":"int256","name":"liqedCreditChange","type":"int256"}]},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"primaryAmount","type":"uint256"},{"internalType":"uint256","name":"secondaryAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"requestWithdraw"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"isValid","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setOperator"},{"inputs":[{"internalType":"address[]","name":"perpList","type":"address[]"},{"internalType":"int256[]","name":"rateList","type":"int256[]"}],"stateMutability":"nonpayable","type":"function","name":"updateFundingRate"}],"devdoc":{"kind":"dev","methods":{"approveTrade(address,bytes)":{"details":"only perpetual contract can call this function","params":{"orderSender":"is the one who submit tradeData.","tradeData":"contains orders, signatures and match info."}},"deposit(uint256,uint256,address)":{"params":{"primaryAmount":"is the amount of primary asset you want to deposit.","secondaryAmount":"is the amount of secondary asset you want to deposit.","to":"is the account you want to deposit to."}},"executeWithdraw(address,address,bool,bytes)":{"params":{"from":"The deducted account.","isInternal":"Only internal credit transfers will be made, and ERC20 transfers will not happen.","param":"call \"to\" with param if not null.","to":"is the address receiving assets."}},"fastWithdraw(address,address,uint256,uint256,bool,bytes)":{"params":{"from":"The deducted account.","isInternal":"Only internal credit transfers will be made, and ERC20 transfers will not happen.","param":"call \"to\" with param if not null.","primaryAmount":"is the amount of primary asset you want to withdraw.","secondaryAmount":"is the amount of secondary asset you want to","to":"is the address receiving assets."}},"getLiquidationPrice(address,address)":{"details":"This function is for directional use. The margin of error is typically within 10 wei.","returns":{"liquidationPrice":"equals 0 if there is no liquidation price."}},"getOrderFilledAmount(bytes32)":{"returns":{"filledAmount":"includes paper amount"}},"getRiskParams(address)":{"params":{"perp":"the address of perpetual contract market"}},"getTraderRisk(address)":{"returns":{"exposure":"open position value of the trader across all markets","initialMargin":"Funds required to open a position.","maintenanceMargin":"Funds needed to keep a position open.","netValue":"net value of trader including credit amount"}},"isAllSafe(address[])":{"details":"This function is more gas effective than isSafe, by caching mark prices."},"openPosition(address)":{"details":"Only perpetual contract can call this function when someone's position is opened."},"realizePnl(address,int256)":{"details":"Only perpetual contract can call this function when someone's position is closed."},"requestLiquidation(address,address,address,int256)":{"details":"Only perpetual contract can call this function. liqtor is short for liquidator, liqed is short for liquidated trader.","params":{"liquidatedTrader":"is the one who is being liquidated.","liquidator":"is the one who will take over positions.","requestPaperAmount":"is the size that the liquidator wants to take. Positive if the position is long, negative if the position is short."}},"requestWithdraw(address,uint256,uint256)":{"params":{"from":"The deducted account.","primaryAmount":"is the amount of primary asset you want to withdraw.","secondaryAmount":"is the amount of secondary asset you want to withdraw."}}},"version":1},"userdoc":{"kind":"user","methods":{"approveTrade(address,bytes)":{"notice":"Help perpetual contract parse tradeData and return the balance changes of each trader."},"deposit(uint256,uint256,address)":{"notice":"Deposit fund to get credit for"},"executeWithdraw(address,address,bool,bytes)":{"notice":"Execute the withdrawal request."},"fastWithdraw(address,address,uint256,uint256,bool,bytes)":{"notice":"Withdraw without waiting."},"getAllRegisteredPerps()":{"notice":"Return all registered perpetual contract market."},"getCreditOf(address)":{"notice":"Return the credit details of the trader. You cannot use credit as net value or net margin of a trader. The net value of positions would also be included."},"getFundingRate(address)":{"notice":"Get funding rate of a perpetual market. Funding rate is a 1e18 based decimal."},"getLiquidationCost(address,address,int256)":{"notice":"a view version of requestLiquidation, liquidators can use this function to check how much you have to pay in advance."},"getLiquidationPrice(address,address)":{"notice":"Get liquidation price of a position"},"getMarkPrice(address)":{"notice":"Return mark price of a perpetual market. price is a 1e18 based decimal."},"getOrderFilledAmount(bytes32)":{"notice":"Get filled paper amount of an order to avoid double matching."},"getPositions(address)":{"notice":"Get all open positions of the trader."},"getTraderRisk(address)":{"notice":"Get the risk profile data of a trader."},"handleBadDebt(address)":{"notice":"Transfer all bad debt to insurance account, including primary and secondary balances."},"isAllSafe(address[])":{"notice":"Check if a list of traders are safe."},"isOperatorValid(address,address)":{"notice":"check if operator is valid"},"isOrderSenderValid(address)":{"notice":"check if order sender is valid"},"isSafe(address)":{"notice":"Check if the trader's margin is enough (>= maintenance margin). If so, the trader is \"safe\". The trader's positions under all markets will be liquidated if he is not safe."},"openPosition(address)":{"notice":"Register the trader's position into dealer."},"realizePnl(address,int256)":{"notice":"Accrual realized pnl and remove the trader's position from dealer."},"requestLiquidation(address,address,address,int256)":{"notice":"Calculate the paper and credit change of liquidator and liquidated trader."},"requestWithdraw(address,uint256,uint256)":{"notice":"Submit withdrawal request, which can be executed after the timelock. The main purpose of this function is to avoid the failure of counterparty caused by withdrawal."},"setOperator(address,bool)":{"notice":"Register operator. The operator can sign order on your behalf."},"updateFundingRate(address[],int256[])":{"notice":"Update multiple funding rate at once. Can only be called by funding rate keeper."}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/IDealer.sol":"IDealer"},"libraries":{}},"sources":{"src/interfaces/IDealer.sol":{"keccak256":"0x75721ae87c7539c2422d90b9d9f1af2c30a069f9f76209afcd9a235c5d23dd6a","urls":["bzz-raw://de64678f24f41d796feb3e00702fc30bf6697b610ddb1d8f8d50c7259655806e","dweb:/ipfs/QmTa34m3xMupCjoNKMaEy2sev18VWP8eFadmrNbBYooUvt"],"license":"BUSL-1.1"},"src/libraries/Types.sol":{"keccak256":"0xe6475cf1a9e65093ae313d167011b7014cdbd6fdcf84b922317f26cfdb1b12a4","urls":["bzz-raw://279e941708975cc4565f0cb403036d3f74e121444845fa97f0d4dc9eaafefd3e","dweb:/ipfs/QmVh5pLcqZ2SzcGJprNg7hGh3VVqd2SFPfNZ4VMGzbkR47"],"license":"BUSL-1.1"}},"version":1},"ast":{"absolutePath":"src/interfaces/IDealer.sol","id":52004,"exportedSymbols":{"IDealer":[52003],"Types":[55316]},"nodeType":"SourceUnit","src":"78:8638:57","nodes":[{"id":51722,"nodeType":"PragmaDirective","src":"78:22:57","nodes":[],"literals":["solidity","0.8",".9"]},{"id":51723,"nodeType":"ImportDirective","src":"102:32:57","nodes":[],"absolutePath":"src/libraries/Types.sol","file":"../libraries/Types.sol","nameLocation":"-1:-1:-1","scope":52004,"sourceUnit":55317,"symbolAliases":[],"unitAlias":""},{"id":52003,"nodeType":"ContractDefinition","src":"136:8579:57","nodes":[{"id":51733,"nodeType":"FunctionDefinition","src":"430:116:57","nodes":[],"documentation":{"id":51724,"nodeType":"StructuredDocumentation","src":"160:265:57","text":"@notice Deposit fund to get credit for\n @param primaryAmount is the amount of primary asset you want to deposit.\n @param secondaryAmount is the amount of secondary asset you want to deposit.\n @param to is the account you want to deposit to."},"functionSelector":"8dbdbe6d","implemented":false,"kind":"function","modifiers":[],"name":"deposit","nameLocation":"439:7:57","parameters":{"id":51731,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51726,"mutability":"mutable","name":"primaryAmount","nameLocation":"464:13:57","nodeType":"VariableDeclaration","scope":51733,"src":"456:21:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51725,"name":"uint256","nodeType":"ElementaryTypeName","src":"456:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51728,"mutability":"mutable","name":"secondaryAmount","nameLocation":"495:15:57","nodeType":"VariableDeclaration","scope":51733,"src":"487:23:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51727,"name":"uint256","nodeType":"ElementaryTypeName","src":"487:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51730,"mutability":"mutable","name":"to","nameLocation":"528:2:57","nodeType":"VariableDeclaration","scope":51733,"src":"520:10:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51729,"name":"address","nodeType":"ElementaryTypeName","src":"520:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"446:90:57"},"returnParameters":{"id":51732,"nodeType":"ParameterList","parameters":[],"src":"545:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51743,"nodeType":"FunctionDefinition","src":"959:126:57","nodes":[],"documentation":{"id":51734,"nodeType":"StructuredDocumentation","src":"552:402:57","text":"@notice Submit withdrawal request, which can be executed after\n the timelock. The main purpose of this function is to avoid the\n failure of counterparty caused by withdrawal.\n @param from The deducted account.\n @param primaryAmount is the amount of primary asset you want to withdraw.\n @param secondaryAmount is the amount of secondary asset you want to withdraw."},"functionSelector":"3a2bf94e","implemented":false,"kind":"function","modifiers":[],"name":"requestWithdraw","nameLocation":"968:15:57","parameters":{"id":51741,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51736,"mutability":"mutable","name":"from","nameLocation":"1001:4:57","nodeType":"VariableDeclaration","scope":51743,"src":"993:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51735,"name":"address","nodeType":"ElementaryTypeName","src":"993:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51738,"mutability":"mutable","name":"primaryAmount","nameLocation":"1023:13:57","nodeType":"VariableDeclaration","scope":51743,"src":"1015:21:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51737,"name":"uint256","nodeType":"ElementaryTypeName","src":"1015:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51740,"mutability":"mutable","name":"secondaryAmount","nameLocation":"1054:15:57","nodeType":"VariableDeclaration","scope":51743,"src":"1046:23:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51739,"name":"uint256","nodeType":"ElementaryTypeName","src":"1046:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"983:92:57"},"returnParameters":{"id":51742,"nodeType":"ParameterList","parameters":[],"src":"1084:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51755,"nodeType":"FunctionDefinition","src":"1403:135:57","nodes":[],"documentation":{"id":51744,"nodeType":"StructuredDocumentation","src":"1091:307:57","text":"@notice Execute the withdrawal request.\n @param from The deducted account.\n @param to is the address receiving assets.\n @param isInternal Only internal credit transfers will be made,\n and ERC20 transfers will not happen.\n @param param call \"to\" with param if not null."},"functionSelector":"17a4dbaa","implemented":false,"kind":"function","modifiers":[],"name":"executeWithdraw","nameLocation":"1412:15:57","parameters":{"id":51753,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51746,"mutability":"mutable","name":"from","nameLocation":"1445:4:57","nodeType":"VariableDeclaration","scope":51755,"src":"1437:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51745,"name":"address","nodeType":"ElementaryTypeName","src":"1437:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51748,"mutability":"mutable","name":"to","nameLocation":"1467:2:57","nodeType":"VariableDeclaration","scope":51755,"src":"1459:10:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51747,"name":"address","nodeType":"ElementaryTypeName","src":"1459:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51750,"mutability":"mutable","name":"isInternal","nameLocation":"1484:10:57","nodeType":"VariableDeclaration","scope":51755,"src":"1479:15:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51749,"name":"bool","nodeType":"ElementaryTypeName","src":"1479:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51752,"mutability":"mutable","name":"param","nameLocation":"1517:5:57","nodeType":"VariableDeclaration","scope":51755,"src":"1504:18:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":51751,"name":"bytes","nodeType":"ElementaryTypeName","src":"1504:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1427:101:57"},"returnParameters":{"id":51754,"nodeType":"ParameterList","parameters":[],"src":"1537:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51771,"nodeType":"FunctionDefinition","src":"2008:196:57","nodes":[],"documentation":{"id":51756,"nodeType":"StructuredDocumentation","src":"1544:459:57","text":"@notice Withdraw without waiting.\n @param from The deducted account.\n @param to is the address receiving assets.\n @param primaryAmount is the amount of primary asset you want to withdraw.\n @param secondaryAmount is the amount of secondary asset you want to\n @param isInternal Only internal credit transfers will be made,\n and ERC20 transfers will not happen.\n @param param call \"to\" with param if not null."},"functionSelector":"da22b46c","implemented":false,"kind":"function","modifiers":[],"name":"fastWithdraw","nameLocation":"2017:12:57","parameters":{"id":51769,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51758,"mutability":"mutable","name":"from","nameLocation":"2047:4:57","nodeType":"VariableDeclaration","scope":51771,"src":"2039:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51757,"name":"address","nodeType":"ElementaryTypeName","src":"2039:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51760,"mutability":"mutable","name":"to","nameLocation":"2069:2:57","nodeType":"VariableDeclaration","scope":51771,"src":"2061:10:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51759,"name":"address","nodeType":"ElementaryTypeName","src":"2061:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51762,"mutability":"mutable","name":"primaryAmount","nameLocation":"2089:13:57","nodeType":"VariableDeclaration","scope":51771,"src":"2081:21:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51761,"name":"uint256","nodeType":"ElementaryTypeName","src":"2081:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51764,"mutability":"mutable","name":"secondaryAmount","nameLocation":"2120:15:57","nodeType":"VariableDeclaration","scope":51771,"src":"2112:23:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51763,"name":"uint256","nodeType":"ElementaryTypeName","src":"2112:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51766,"mutability":"mutable","name":"isInternal","nameLocation":"2150:10:57","nodeType":"VariableDeclaration","scope":51771,"src":"2145:15:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51765,"name":"bool","nodeType":"ElementaryTypeName","src":"2145:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51768,"mutability":"mutable","name":"param","nameLocation":"2183:5:57","nodeType":"VariableDeclaration","scope":51771,"src":"2170:18:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":51767,"name":"bytes","nodeType":"ElementaryTypeName","src":"2170:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2029:165:57"},"returnParameters":{"id":51770,"nodeType":"ParameterList","parameters":[],"src":"2203:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51788,"nodeType":"FunctionDefinition","src":"2510:267:57","nodes":[],"documentation":{"id":51772,"nodeType":"StructuredDocumentation","src":"2210:295:57","text":"@notice Help perpetual contract parse tradeData and return\n the balance changes of each trader.\n @dev only perpetual contract can call this function\n @param orderSender is the one who submit tradeData.\n @param tradeData contains orders, signatures and match info."},"functionSelector":"3cd9523d","implemented":false,"kind":"function","modifiers":[],"name":"approveTrade","nameLocation":"2519:12:57","parameters":{"id":51777,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51774,"mutability":"mutable","name":"orderSender","nameLocation":"2549:11:57","nodeType":"VariableDeclaration","scope":51788,"src":"2541:19:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51773,"name":"address","nodeType":"ElementaryTypeName","src":"2541:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51776,"mutability":"mutable","name":"tradeData","nameLocation":"2585:9:57","nodeType":"VariableDeclaration","scope":51788,"src":"2570:24:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":51775,"name":"bytes","nodeType":"ElementaryTypeName","src":"2570:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2531:69:57"},"returnParameters":{"id":51787,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51780,"mutability":"mutable","name":"traderList","nameLocation":"2665:10:57","nodeType":"VariableDeclaration","scope":51788,"src":"2648:27:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":51778,"name":"address","nodeType":"ElementaryTypeName","src":"2648:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":51779,"nodeType":"ArrayTypeName","src":"2648:9:57","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":51783,"mutability":"mutable","name":"paperChangeList","nameLocation":"2705:15:57","nodeType":"VariableDeclaration","scope":51788,"src":"2689:31:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":51781,"name":"int256","nodeType":"ElementaryTypeName","src":"2689:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":51782,"nodeType":"ArrayTypeName","src":"2689:8:57","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"visibility":"internal"},{"constant":false,"id":51786,"mutability":"mutable","name":"creditChangeList","nameLocation":"2750:16:57","nodeType":"VariableDeclaration","scope":51788,"src":"2734:32:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":51784,"name":"int256","nodeType":"ElementaryTypeName","src":"2734:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":51785,"nodeType":"ArrayTypeName","src":"2734:8:57","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"visibility":"internal"}],"src":"2634:142:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51796,"nodeType":"FunctionDefinition","src":"2995:61:57","nodes":[],"documentation":{"id":51789,"nodeType":"StructuredDocumentation","src":"2783:207:57","text":"@notice Check if the trader's margin is enough (>= maintenance margin).\n If so, the trader is \"safe\".\n The trader's positions under all markets will be liquidated if he is\n not safe."},"functionSelector":"769a28ac","implemented":false,"kind":"function","modifiers":[],"name":"isSafe","nameLocation":"3004:6:57","parameters":{"id":51792,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51791,"mutability":"mutable","name":"trader","nameLocation":"3019:6:57","nodeType":"VariableDeclaration","scope":51796,"src":"3011:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51790,"name":"address","nodeType":"ElementaryTypeName","src":"3011:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3010:16:57"},"returnParameters":{"id":51795,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51794,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51796,"src":"3050:4:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51793,"name":"bool","nodeType":"ElementaryTypeName","src":"3050:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3049:6:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51805,"nodeType":"FunctionDefinition","src":"3209:93:57","nodes":[],"documentation":{"id":51797,"nodeType":"StructuredDocumentation","src":"3062:142:57","text":"@notice Check if a list of traders are safe.\n @dev This function is more gas effective than isSafe, by caching\n mark prices."},"functionSelector":"181f4922","implemented":false,"kind":"function","modifiers":[],"name":"isAllSafe","nameLocation":"3218:9:57","parameters":{"id":51801,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51800,"mutability":"mutable","name":"traderList","nameLocation":"3256:10:57","nodeType":"VariableDeclaration","scope":51805,"src":"3237:29:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":51798,"name":"address","nodeType":"ElementaryTypeName","src":"3237:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":51799,"nodeType":"ArrayTypeName","src":"3237:9:57","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"3227:45:57"},"returnParameters":{"id":51804,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51803,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51805,"src":"3296:4:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51802,"name":"bool","nodeType":"ElementaryTypeName","src":"3296:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3295:6:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51813,"nodeType":"FunctionDefinition","src":"3410:69:57","nodes":[],"documentation":{"id":51806,"nodeType":"StructuredDocumentation","src":"3308:97:57","text":"@notice Get funding rate of a perpetual market.\n Funding rate is a 1e18 based decimal."},"functionSelector":"0baaa528","implemented":false,"kind":"function","modifiers":[],"name":"getFundingRate","nameLocation":"3419:14:57","parameters":{"id":51809,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51808,"mutability":"mutable","name":"perp","nameLocation":"3442:4:57","nodeType":"VariableDeclaration","scope":51813,"src":"3434:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51807,"name":"address","nodeType":"ElementaryTypeName","src":"3434:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3433:14:57"},"returnParameters":{"id":51812,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51811,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51813,"src":"3471:6:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51810,"name":"int256","nodeType":"ElementaryTypeName","src":"3471:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"3470:8:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51823,"nodeType":"FunctionDefinition","src":"3590:115:57","nodes":[],"documentation":{"id":51814,"nodeType":"StructuredDocumentation","src":"3485:100:57","text":"@notice Update multiple funding rate at once.\n Can only be called by funding rate keeper."},"functionSelector":"854a8041","implemented":false,"kind":"function","modifiers":[],"name":"updateFundingRate","nameLocation":"3599:17:57","parameters":{"id":51821,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51817,"mutability":"mutable","name":"perpList","nameLocation":"3645:8:57","nodeType":"VariableDeclaration","scope":51823,"src":"3626:27:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":51815,"name":"address","nodeType":"ElementaryTypeName","src":"3626:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":51816,"nodeType":"ArrayTypeName","src":"3626:9:57","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":51820,"mutability":"mutable","name":"rateList","nameLocation":"3681:8:57","nodeType":"VariableDeclaration","scope":51823,"src":"3663:26:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_calldata_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":51818,"name":"int256","nodeType":"ElementaryTypeName","src":"3663:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":51819,"nodeType":"ArrayTypeName","src":"3663:8:57","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"visibility":"internal"}],"src":"3616:79:57"},"returnParameters":{"id":51822,"nodeType":"ParameterList","parameters":[],"src":"3704:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51843,"nodeType":"FunctionDefinition","src":"4242:353:57","nodes":[],"documentation":{"id":51824,"nodeType":"StructuredDocumentation","src":"3711:526:57","text":"@notice Calculate the paper and credit change of liquidator and\n liquidated trader.\n @dev Only perpetual contract can call this function.\n liqtor is short for liquidator, liqed is short for liquidated trader.\n @param liquidator is the one who will take over positions.\n @param liquidatedTrader is the one who is being liquidated.\n @param requestPaperAmount is the size that the liquidator wants to take.\n Positive if the position is long, negative if the position is short."},"functionSelector":"be5b0371","implemented":false,"kind":"function","modifiers":[],"name":"requestLiquidation","nameLocation":"4251:18:57","parameters":{"id":51833,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51826,"mutability":"mutable","name":"executor","nameLocation":"4287:8:57","nodeType":"VariableDeclaration","scope":51843,"src":"4279:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51825,"name":"address","nodeType":"ElementaryTypeName","src":"4279:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51828,"mutability":"mutable","name":"liquidator","nameLocation":"4313:10:57","nodeType":"VariableDeclaration","scope":51843,"src":"4305:18:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51827,"name":"address","nodeType":"ElementaryTypeName","src":"4305:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51830,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"4341:16:57","nodeType":"VariableDeclaration","scope":51843,"src":"4333:24:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51829,"name":"address","nodeType":"ElementaryTypeName","src":"4333:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51832,"mutability":"mutable","name":"requestPaperAmount","nameLocation":"4374:18:57","nodeType":"VariableDeclaration","scope":51843,"src":"4367:25:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51831,"name":"int256","nodeType":"ElementaryTypeName","src":"4367:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"4269:129:57"},"returnParameters":{"id":51842,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51835,"mutability":"mutable","name":"liqtorPaperChange","nameLocation":"4453:17:57","nodeType":"VariableDeclaration","scope":51843,"src":"4446:24:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51834,"name":"int256","nodeType":"ElementaryTypeName","src":"4446:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51837,"mutability":"mutable","name":"liqtorCreditChange","nameLocation":"4491:18:57","nodeType":"VariableDeclaration","scope":51843,"src":"4484:25:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51836,"name":"int256","nodeType":"ElementaryTypeName","src":"4484:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51839,"mutability":"mutable","name":"liqedPaperChange","nameLocation":"4530:16:57","nodeType":"VariableDeclaration","scope":51843,"src":"4523:23:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51838,"name":"int256","nodeType":"ElementaryTypeName","src":"4523:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51841,"mutability":"mutable","name":"liqedCreditChange","nameLocation":"4567:17:57","nodeType":"VariableDeclaration","scope":51843,"src":"4560:24:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51840,"name":"int256","nodeType":"ElementaryTypeName","src":"4560:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"4432:162:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51849,"nodeType":"FunctionDefinition","src":"4711:58:57","nodes":[],"documentation":{"id":51844,"nodeType":"StructuredDocumentation","src":"4601:105:57","text":"@notice Transfer all bad debt to insurance account,\n including primary and secondary balances."},"functionSelector":"11fd52e1","implemented":false,"kind":"function","modifiers":[],"name":"handleBadDebt","nameLocation":"4720:13:57","parameters":{"id":51847,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51846,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"4742:16:57","nodeType":"VariableDeclaration","scope":51849,"src":"4734:24:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51845,"name":"address","nodeType":"ElementaryTypeName","src":"4734:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4733:26:57"},"returnParameters":{"id":51848,"nodeType":"ParameterList","parameters":[],"src":"4768:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51855,"nodeType":"FunctionDefinition","src":"4938:47:57","nodes":[],"documentation":{"id":51850,"nodeType":"StructuredDocumentation","src":"4775:158:57","text":"@notice Register the trader's position into dealer.\n @dev Only perpetual contract can call this function when\n someone's position is opened."},"functionSelector":"ebbeba6e","implemented":false,"kind":"function","modifiers":[],"name":"openPosition","nameLocation":"4947:12:57","parameters":{"id":51853,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51852,"mutability":"mutable","name":"trader","nameLocation":"4968:6:57","nodeType":"VariableDeclaration","scope":51855,"src":"4960:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51851,"name":"address","nodeType":"ElementaryTypeName","src":"4960:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4959:16:57"},"returnParameters":{"id":51854,"nodeType":"ParameterList","parameters":[],"src":"4984:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51863,"nodeType":"FunctionDefinition","src":"5177:57:57","nodes":[],"documentation":{"id":51856,"nodeType":"StructuredDocumentation","src":"4991:181:57","text":"@notice Accrual realized pnl and remove the trader's position from dealer.\n @dev Only perpetual contract can call this function when\n someone's position is closed."},"functionSelector":"15e3ecb9","implemented":false,"kind":"function","modifiers":[],"name":"realizePnl","nameLocation":"5186:10:57","parameters":{"id":51861,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51858,"mutability":"mutable","name":"trader","nameLocation":"5205:6:57","nodeType":"VariableDeclaration","scope":51863,"src":"5197:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51857,"name":"address","nodeType":"ElementaryTypeName","src":"5197:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51860,"mutability":"mutable","name":"pnl","nameLocation":"5220:3:57","nodeType":"VariableDeclaration","scope":51863,"src":"5213:10:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51859,"name":"int256","nodeType":"ElementaryTypeName","src":"5213:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"5196:28:57"},"returnParameters":{"id":51862,"nodeType":"ParameterList","parameters":[],"src":"5233:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51871,"nodeType":"FunctionDefinition","src":"5327:62:57","nodes":[],"documentation":{"id":51864,"nodeType":"StructuredDocumentation","src":"5240:82:57","text":"@notice Register operator.\n The operator can sign order on your behalf."},"functionSelector":"558a7297","implemented":false,"kind":"function","modifiers":[],"name":"setOperator","nameLocation":"5336:11:57","parameters":{"id":51869,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51866,"mutability":"mutable","name":"operator","nameLocation":"5356:8:57","nodeType":"VariableDeclaration","scope":51871,"src":"5348:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51865,"name":"address","nodeType":"ElementaryTypeName","src":"5348:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51868,"mutability":"mutable","name":"isValid","nameLocation":"5371:7:57","nodeType":"VariableDeclaration","scope":51871,"src":"5366:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51867,"name":"bool","nodeType":"ElementaryTypeName","src":"5366:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"5347:32:57"},"returnParameters":{"id":51870,"nodeType":"ParameterList","parameters":[],"src":"5388:0:57"},"scope":52003,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51880,"nodeType":"FunctionDefinition","src":"5456:106:57","nodes":[],"documentation":{"id":51872,"nodeType":"StructuredDocumentation","src":"5395:56:57","text":"@param perp the address of perpetual contract market"},"functionSelector":"4f33cb53","implemented":false,"kind":"function","modifiers":[],"name":"getRiskParams","nameLocation":"5465:13:57","parameters":{"id":51875,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51874,"mutability":"mutable","name":"perp","nameLocation":"5496:4:57","nodeType":"VariableDeclaration","scope":51880,"src":"5488:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51873,"name":"address","nodeType":"ElementaryTypeName","src":"5488:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5478:28:57"},"returnParameters":{"id":51879,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51878,"mutability":"mutable","name":"params","nameLocation":"5554:6:57","nodeType":"VariableDeclaration","scope":51880,"src":"5530:30:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_memory_ptr","typeString":"struct Types.RiskParams"},"typeName":{"id":51877,"nodeType":"UserDefinedTypeName","pathNode":{"id":51876,"name":"Types.RiskParams","nodeType":"IdentifierPath","referencedDeclaration":55298,"src":"5530:16:57"},"referencedDeclaration":55298,"src":"5530:16:57","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams"}},"visibility":"internal"}],"src":"5529:32:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51887,"nodeType":"FunctionDefinition","src":"5633:74:57","nodes":[],"documentation":{"id":51881,"nodeType":"StructuredDocumentation","src":"5568:60:57","text":"@notice Return all registered perpetual contract market."},"functionSelector":"92e189a6","implemented":false,"kind":"function","modifiers":[],"name":"getAllRegisteredPerps","nameLocation":"5642:21:57","parameters":{"id":51882,"nodeType":"ParameterList","parameters":[],"src":"5663:2:57"},"returnParameters":{"id":51886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51885,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51887,"src":"5689:16:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":51883,"name":"address","nodeType":"ElementaryTypeName","src":"5689:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":51884,"nodeType":"ArrayTypeName","src":"5689:9:57","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"5688:18:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51895,"nodeType":"FunctionDefinition","src":"5809:68:57","nodes":[],"documentation":{"id":51888,"nodeType":"StructuredDocumentation","src":"5713:91:57","text":"@notice Return mark price of a perpetual market.\n price is a 1e18 based decimal."},"functionSelector":"5d6f9c14","implemented":false,"kind":"function","modifiers":[],"name":"getMarkPrice","nameLocation":"5818:12:57","parameters":{"id":51891,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51890,"mutability":"mutable","name":"perp","nameLocation":"5839:4:57","nodeType":"VariableDeclaration","scope":51895,"src":"5831:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51889,"name":"address","nodeType":"ElementaryTypeName","src":"5831:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5830:14:57"},"returnParameters":{"id":51894,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51893,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51895,"src":"5868:7:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51892,"name":"uint256","nodeType":"ElementaryTypeName","src":"5868:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5867:9:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51904,"nodeType":"FunctionDefinition","src":"5937:93:57","nodes":[],"documentation":{"id":51896,"nodeType":"StructuredDocumentation","src":"5883:49:57","text":"@notice Get all open positions of the trader."},"functionSelector":"3eeb530e","implemented":false,"kind":"function","modifiers":[],"name":"getPositions","nameLocation":"5946:12:57","parameters":{"id":51899,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51898,"mutability":"mutable","name":"trader","nameLocation":"5976:6:57","nodeType":"VariableDeclaration","scope":51904,"src":"5968:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51897,"name":"address","nodeType":"ElementaryTypeName","src":"5968:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5958:30:57"},"returnParameters":{"id":51903,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51902,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51904,"src":"6012:16:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":51900,"name":"address","nodeType":"ElementaryTypeName","src":"6012:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":51901,"nodeType":"ArrayTypeName","src":"6012:9:57","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"6011:18:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51920,"nodeType":"FunctionDefinition","src":"6222:309:57","nodes":[],"documentation":{"id":51905,"nodeType":"StructuredDocumentation","src":"6036:181:57","text":"@notice Return the credit details of the trader.\n You cannot use credit as net value or net margin of a trader.\n The net value of positions would also be included."},"functionSelector":"c97ab30c","implemented":false,"kind":"function","modifiers":[],"name":"getCreditOf","nameLocation":"6231:11:57","parameters":{"id":51908,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51907,"mutability":"mutable","name":"trader","nameLocation":"6260:6:57","nodeType":"VariableDeclaration","scope":51920,"src":"6252:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51906,"name":"address","nodeType":"ElementaryTypeName","src":"6252:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6242:30:57"},"returnParameters":{"id":51919,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51910,"mutability":"mutable","name":"primaryCredit","nameLocation":"6340:13:57","nodeType":"VariableDeclaration","scope":51920,"src":"6333:20:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51909,"name":"int256","nodeType":"ElementaryTypeName","src":"6333:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51912,"mutability":"mutable","name":"secondaryCredit","nameLocation":"6375:15:57","nodeType":"VariableDeclaration","scope":51920,"src":"6367:23:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51911,"name":"uint256","nodeType":"ElementaryTypeName","src":"6367:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51914,"mutability":"mutable","name":"pendingPrimaryWithdraw","nameLocation":"6412:22:57","nodeType":"VariableDeclaration","scope":51920,"src":"6404:30:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51913,"name":"uint256","nodeType":"ElementaryTypeName","src":"6404:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51916,"mutability":"mutable","name":"pendingSecondaryWithdraw","nameLocation":"6456:24:57","nodeType":"VariableDeclaration","scope":51920,"src":"6448:32:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51915,"name":"uint256","nodeType":"ElementaryTypeName","src":"6448:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51918,"mutability":"mutable","name":"executionTimestamp","nameLocation":"6502:18:57","nodeType":"VariableDeclaration","scope":51920,"src":"6494:26:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51917,"name":"uint256","nodeType":"ElementaryTypeName","src":"6494:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6319:211:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51934,"nodeType":"FunctionDefinition","src":"6876:243:57","nodes":[],"documentation":{"id":51921,"nodeType":"StructuredDocumentation","src":"6537:334:57","text":"@notice Get the risk profile data of a trader.\n @return netValue net value of trader including credit amount\n @return exposure open position value of the trader across all markets\n @return initialMargin Funds required to open a position.\n @return maintenanceMargin Funds needed to keep a position open."},"functionSelector":"6e753010","implemented":false,"kind":"function","modifiers":[],"name":"getTraderRisk","nameLocation":"6885:13:57","parameters":{"id":51924,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51923,"mutability":"mutable","name":"trader","nameLocation":"6916:6:57","nodeType":"VariableDeclaration","scope":51934,"src":"6908:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51922,"name":"address","nodeType":"ElementaryTypeName","src":"6908:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6898:30:57"},"returnParameters":{"id":51933,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51926,"mutability":"mutable","name":"netValue","nameLocation":"6996:8:57","nodeType":"VariableDeclaration","scope":51934,"src":"6989:15:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51925,"name":"int256","nodeType":"ElementaryTypeName","src":"6989:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51928,"mutability":"mutable","name":"exposure","nameLocation":"7026:8:57","nodeType":"VariableDeclaration","scope":51934,"src":"7018:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51927,"name":"uint256","nodeType":"ElementaryTypeName","src":"7018:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51930,"mutability":"mutable","name":"initialMargin","nameLocation":"7056:13:57","nodeType":"VariableDeclaration","scope":51934,"src":"7048:21:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51929,"name":"uint256","nodeType":"ElementaryTypeName","src":"7048:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51932,"mutability":"mutable","name":"maintenanceMargin","nameLocation":"7091:17:57","nodeType":"VariableDeclaration","scope":51934,"src":"7083:25:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51931,"name":"uint256","nodeType":"ElementaryTypeName","src":"7083:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6975:143:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51944,"nodeType":"FunctionDefinition","src":"7360:130:57","nodes":[],"documentation":{"id":51935,"nodeType":"StructuredDocumentation","src":"7125:230:57","text":"@notice Get liquidation price of a position\n @dev This function is for directional use. The margin of error is typically\n within 10 wei.\n @return liquidationPrice equals 0 if there is no liquidation price."},"functionSelector":"1867b480","implemented":false,"kind":"function","modifiers":[],"name":"getLiquidationPrice","nameLocation":"7369:19:57","parameters":{"id":51940,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51937,"mutability":"mutable","name":"trader","nameLocation":"7406:6:57","nodeType":"VariableDeclaration","scope":51944,"src":"7398:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51936,"name":"address","nodeType":"ElementaryTypeName","src":"7398:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51939,"mutability":"mutable","name":"perp","nameLocation":"7430:4:57","nodeType":"VariableDeclaration","scope":51944,"src":"7422:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51938,"name":"address","nodeType":"ElementaryTypeName","src":"7422:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7388:52:57"},"returnParameters":{"id":51943,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51942,"mutability":"mutable","name":"liquidationPrice","nameLocation":"7472:16:57","nodeType":"VariableDeclaration","scope":51944,"src":"7464:24:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51941,"name":"uint256","nodeType":"ElementaryTypeName","src":"7464:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7463:26:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51958,"nodeType":"FunctionDefinition","src":"7638:225:57","nodes":[],"documentation":{"id":51945,"nodeType":"StructuredDocumentation","src":"7496:137:57","text":"@notice a view version of requestLiquidation, liquidators can use\n this function to check how much you have to pay in advance."},"functionSelector":"59cd592d","implemented":false,"kind":"function","modifiers":[],"name":"getLiquidationCost","nameLocation":"7647:18:57","parameters":{"id":51952,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51947,"mutability":"mutable","name":"perp","nameLocation":"7683:4:57","nodeType":"VariableDeclaration","scope":51958,"src":"7675:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51946,"name":"address","nodeType":"ElementaryTypeName","src":"7675:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51949,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"7705:16:57","nodeType":"VariableDeclaration","scope":51958,"src":"7697:24:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51948,"name":"address","nodeType":"ElementaryTypeName","src":"7697:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51951,"mutability":"mutable","name":"requestPaperAmount","nameLocation":"7738:18:57","nodeType":"VariableDeclaration","scope":51958,"src":"7731:25:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51950,"name":"int256","nodeType":"ElementaryTypeName","src":"7731:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"7665:97:57"},"returnParameters":{"id":51957,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51954,"mutability":"mutable","name":"liqtorPaperChange","nameLocation":"7817:17:57","nodeType":"VariableDeclaration","scope":51958,"src":"7810:24:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51953,"name":"int256","nodeType":"ElementaryTypeName","src":"7810:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51956,"mutability":"mutable","name":"liqtorCreditChange","nameLocation":"7843:18:57","nodeType":"VariableDeclaration","scope":51958,"src":"7836:25:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51955,"name":"int256","nodeType":"ElementaryTypeName","src":"7836:6:57","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"7809:53:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51966,"nodeType":"FunctionDefinition","src":"7998:108:57","nodes":[],"documentation":{"id":51959,"nodeType":"StructuredDocumentation","src":"7869:124:57","text":"@notice Get filled paper amount of an order to avoid double matching.\n @return filledAmount includes paper amount"},"functionSelector":"55559a86","implemented":false,"kind":"function","modifiers":[],"name":"getOrderFilledAmount","nameLocation":"8007:20:57","parameters":{"id":51962,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51961,"mutability":"mutable","name":"orderHash","nameLocation":"8045:9:57","nodeType":"VariableDeclaration","scope":51966,"src":"8037:17:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51960,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8037:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"8027:33:57"},"returnParameters":{"id":51965,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51964,"mutability":"mutable","name":"filledAmount","nameLocation":"8092:12:57","nodeType":"VariableDeclaration","scope":51966,"src":"8084:20:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51963,"name":"uint256","nodeType":"ElementaryTypeName","src":"8084:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8083:22:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51974,"nodeType":"FunctionDefinition","src":"8159:92:57","nodes":[],"documentation":{"id":51967,"nodeType":"StructuredDocumentation","src":"8112:42:57","text":"@notice check if order sender is valid"},"functionSelector":"fc92b495","implemented":false,"kind":"function","modifiers":[],"name":"isOrderSenderValid","nameLocation":"8168:18:57","parameters":{"id":51970,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51969,"mutability":"mutable","name":"orderSender","nameLocation":"8204:11:57","nodeType":"VariableDeclaration","scope":51974,"src":"8196:19:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51968,"name":"address","nodeType":"ElementaryTypeName","src":"8196:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8186:35:57"},"returnParameters":{"id":51973,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51972,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51974,"src":"8245:4:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51971,"name":"bool","nodeType":"ElementaryTypeName","src":"8245:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8244:6:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51981,"nodeType":"FunctionDefinition","src":"8257:104:57","nodes":[],"functionSelector":"74bf9b57","implemented":false,"kind":"function","modifiers":[],"name":"isFastWithdrawalValid","nameLocation":"8266:21:57","parameters":{"id":51977,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51976,"mutability":"mutable","name":"fastWithdrawOperator","nameLocation":"8305:20:57","nodeType":"VariableDeclaration","scope":51981,"src":"8297:28:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51975,"name":"address","nodeType":"ElementaryTypeName","src":"8297:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8287:44:57"},"returnParameters":{"id":51980,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51979,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51981,"src":"8355:4:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51978,"name":"bool","nodeType":"ElementaryTypeName","src":"8355:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8354:6:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51991,"nodeType":"FunctionDefinition","src":"8410:110:57","nodes":[],"documentation":{"id":51982,"nodeType":"StructuredDocumentation","src":"8367:38:57","text":"@notice check if operator is valid"},"functionSelector":"a5fcf803","implemented":false,"kind":"function","modifiers":[],"name":"isOperatorValid","nameLocation":"8419:15:57","parameters":{"id":51987,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51984,"mutability":"mutable","name":"client","nameLocation":"8452:6:57","nodeType":"VariableDeclaration","scope":51991,"src":"8444:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51983,"name":"address","nodeType":"ElementaryTypeName","src":"8444:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51986,"mutability":"mutable","name":"operator","nameLocation":"8476:8:57","nodeType":"VariableDeclaration","scope":51991,"src":"8468:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51985,"name":"address","nodeType":"ElementaryTypeName","src":"8468:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8434:56:57"},"returnParameters":{"id":51990,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51989,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51991,"src":"8514:4:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51988,"name":"bool","nodeType":"ElementaryTypeName","src":"8514:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8513:6:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":52002,"nodeType":"FunctionDefinition","src":"8526:187:57","nodes":[],"functionSelector":"23d30198","implemented":false,"kind":"function","modifiers":[],"name":"isCreditAllowed","nameLocation":"8535:15:57","parameters":{"id":51996,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51993,"mutability":"mutable","name":"from","nameLocation":"8568:4:57","nodeType":"VariableDeclaration","scope":52002,"src":"8560:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51992,"name":"address","nodeType":"ElementaryTypeName","src":"8560:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51995,"mutability":"mutable","name":"spender","nameLocation":"8590:7:57","nodeType":"VariableDeclaration","scope":52002,"src":"8582:15:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51994,"name":"address","nodeType":"ElementaryTypeName","src":"8582:7:57","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8550:53:57"},"returnParameters":{"id":52001,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51998,"mutability":"mutable","name":"primaryCreditAllowed","nameLocation":"8659:20:57","nodeType":"VariableDeclaration","scope":52002,"src":"8651:28:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51997,"name":"uint256","nodeType":"ElementaryTypeName","src":"8651:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52000,"mutability":"mutable","name":"secondaryCreditAllowed","nameLocation":"8689:22:57","nodeType":"VariableDeclaration","scope":52002,"src":"8681:30:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51999,"name":"uint256","nodeType":"ElementaryTypeName","src":"8681:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8650:62:57"},"scope":52003,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IDealer","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[52003],"name":"IDealer","nameLocation":"146:7:57","scope":52004,"usedErrors":[]}],"license":"BUSL-1.1"},"id":57}