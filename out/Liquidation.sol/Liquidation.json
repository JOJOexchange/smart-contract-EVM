{"abi":[{"type":"event","name":"BeingLiquidated","inputs":[{"name":"perp","type":"address","indexed":true,"internalType":"address"},{"name":"liquidatedTrader","type":"address","indexed":true,"internalType":"address"},{"name":"paperChange","type":"int256","indexed":false,"internalType":"int256"},{"name":"creditChange","type":"int256","indexed":false,"internalType":"int256"},{"name":"positionSerialNum","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ChargeInsurance","inputs":[{"name":"perp","type":"address","indexed":true,"internalType":"address"},{"name":"liquidatedTrader","type":"address","indexed":true,"internalType":"address"},{"name":"fee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"HandleBadDebt","inputs":[{"name":"liquidatedTrader","type":"address","indexed":true,"internalType":"address"},{"name":"primaryCredit","type":"int256","indexed":false,"internalType":"int256"},{"name":"secondaryCredit","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"JoinLiquidation","inputs":[{"name":"perp","type":"address","indexed":true,"internalType":"address"},{"name":"liquidator","type":"address","indexed":true,"internalType":"address"},{"name":"liquidatedTrader","type":"address","indexed":true,"internalType":"address"},{"name":"paperChange","type":"int256","indexed":false,"internalType":"int256"},{"name":"creditChange","type":"int256","indexed":false,"internalType":"int256"},{"name":"positionSerialNum","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x61143161003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe730000000000000000000000000000000000000000301460806040526004361061006c5760003560e01c806335b270c81461007157806339a9cd2214610093578063471bd8a0146100d85780638bb9082c146100eb578063a67da8b01461010c578063f4392a951461013a575b600080fd5b81801561007d57600080fd5b5061009161008c366004611019565b61014d565b005b81801561009f57600080fd5b506100b36100ae366004611045565b610257565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100b36100e6366004611019565b610563565b6100fe6100f93660046110ab565b61083e565b6040519081526020016100cf565b61011f61011a3660046110e7565b610baf565b604080519384526020840192909252908201526060016100cf565b6100fe610148366004611019565b610e81565b6001600160a01b0381166000908152600c8301602052604090205415801561017c575061017a8282610f10565b155b15610253576001600160a01b03808216600090815260028401602081815260408084208054600389018452828620805492879055869055601389015490961685529290915282208054919284926101d4908490611141565b909155505060138401546001600160a01b0316600090815260038501602052604081208054839290610207908490611182565b909155505060408051838152602081018390526001600160a01b038516917f9a85af690143cddcc98411e3b473b0f8b231b5ccd06f34f01aeea120928bc1f1910160405180910390a250505b5050565b600080600080866001600160a01b0316886001600160a01b031614806102a457506001600160a01b03808816600090815260128c0160209081526040808320938c168352929052205460ff165b60405180606001604052806021815260200161139560219139906102e45760405162461bcd60e51b81526004016102db919061119a565b60405180910390fd5b50866001600160a01b0316866001600160a01b031614156040518060600160405280602181526020016113b660219139906103325760405162461bcd60e51b81526004016102db919061119a565b5060006103418b8b8989610baf565b9196509450905061035181610f3a565b60138c01546001600160a01b0316600090815260028d0160205260408120805490919061037f908490611141565b9091555061038e905081610f3a565b61039a856000196111ef565b6103a49190611274565b91506103b2856000196111ef565b925060008b600d016000896001600160a01b03166001600160a01b0316815260200190815260200160002060008c6001600160a01b03166001600160a01b0316815260200190815260200160002054905060008c600d0160008b6001600160a01b03166001600160a01b0316815260200190815260200160002060008d6001600160a01b03166001600160a01b03168152602001908152602001600020549050886001600160a01b03168c6001600160a01b03167f2fb7b7e90b5c64be4cf896093038c228a8c7b10de2d00203147e92b7579885828787866040516104aa939291909283526020830191909152604082015260600190565b60405180910390a360408051888152602081018890529081018290526001600160a01b03808b16918c8216918f16907f3cd850c81398158b5f1d64d3b8abfb27fb238d53b198487867f0baf0d8bdabe39060600160405180910390a4886001600160a01b03168c6001600160a01b03167f64f299799ee8ebad60b5669136b409478231d92f78a4ef652f1e5ce6fd82febe8560405161054b91815260200190565b60405180910390a35050509650965096509692505050565b600080808080805b6001600160a01b0387166000908152600c890160205260409020548110156107de576001600160a01b0387166000908152600c8901602052604081208054829190849081106105bc576105bc6112b3565b6000918252602090912001546040516370a0823160e01b81526001600160a01b038b81166004830152909116906370a0823190602401604080518083038186803b15801561060957600080fd5b505afa15801561061d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061064191906112c9565b9150915060008a600a0160008c600c0160008d6001600160a01b03166001600160a01b031681526020019081526020016000208681548110610685576106856112b3565b60009182526020808320909101546001600160a01b039081168452838201949094526040928301822060048082015485516330204b1960e11b81529551929750939561072d959416936360409632938183019390929091829003018186803b1580156106f057600080fd5b505afa158015610704573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061072891906112ed565b610f3a565b90508261073a8583610fa8565b6107449190611141565b61074e9087611141565b9550600061076461075f8684610fa8565b610fc7565b9050610770818b611182565b9950670de0b6b3a764000083600101548261078b9190611306565b610795919061133b565b61079f9089611182565b8354909850670de0b6b3a7640000906107b89083611306565b6107c2919061133b565b6107cc908a611182565b9850856001019550505050505061056b565b506001600160a01b038616600090815260038801602052604090205461080390610f3a565b6001600160a01b03871660009081526002890160205260409020546108289083611141565b6108329190611141565b94505092959194509250565b6001600160a01b03821660009081526003840160205260408120548190819061086690610f3a565b6001600160a01b038616600090815260028801602052604090205461088b9190611141565b905060005b6001600160a01b0386166000908152600c88016020526040902054811015610a57576001600160a01b0386166000908152600c8801602052604081208054839081106108de576108de6112b3565b6000918252602090912001546001600160a01b03908116915086168114610a4e576040516370a0823160e01b81526001600160a01b03888116600483015260009182918416906370a0823190602401604080518083038186803b15801561094457600080fd5b505afa158015610958573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061097c91906112c9565b6001600160a01b038086166000908152600a8e016020908152604080832060048082015483516330204b1960e11b81529351989a50969850909693956109df95169363604096329383830193909290829003018186803b1580156106f057600080fd5b9050826109ec8583610fa8565b6109f69190611141565b610a009088611141565b9650610a3d670de0b6b3a76400008360010154610a2961075f8589610fa890919063ffffffff16565b610a339190611306565b610728919061133b565b610a479089611141565b9750505050505b50600101610890565b506040516370a0823160e01b81526001600160a01b03868116600483015260009182918716906370a0823190602401604080518083038186803b158015610a9d57600080fd5b505afa158015610ab1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ad591906112c9565b915091508160001415610aef576000945050505050610ba8565b6000808313610b31576001600160a01b0387166000908152600a8a016020526040902060010154610b2c9061072890670de0b6b3a7640000611182565b610b65565b6001600160a01b0387166000908152600a8a016020526040902060010154610b659061072890670de0b6b3a764000061134f565b90506000610b8c82610b868686610b7c8a8c611274565b610b869190611274565b90610fe8565b905060008112610b9c5780610b9f565b60005b96505050505050505b9392505050565b6000806000610bbe8786610f10565b15604051806040016040528060148152602001734a4f4a4f5f4143434f554e545f49535f5341464560601b81525090610c0a5760405162461bcd60e51b81526004016102db919061119a565b506040516370a0823160e01b81526001600160a01b038681166004830152600091908816906370a0823190602401604080518083038186803b158015610c4f57600080fd5b505afa158015610c63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c8791906112c9565b5060408051808201909152601b81527f4a4f4a4f5f5452414445525f4841535f4e4f5f504f534954494f4e0000000000602082015290915081610cdd5760405162461bcd60e51b81526004016102db919061119a565b506000610cea82876111ef565b136040518060600160405280602581526020016113d76025913990610d225760405162461bcd60e51b81526004016102db919061119a565b50610d2c81610fc7565b610d3586610fc7565b11610d405784610d42565b805b6001600160a01b038089166000908152600a8b016020908152604080832060048082015483516330204b1960e11b81529351979b5091969495919091169363604096329383830193909290829003018186803b158015610da157600080fd5b505afa158015610db5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610dd991906112ed565b90506000670de0b6b3a7640000836002015483610df69190611306565b610e00919061133b565b905060008713610e1957610e148183611182565b610e23565b610e23818361134f565b9150610e38610e3183610f3a565b8890610fa8565b610e44906000196111ef565b9550670de0b6b3a76400008360030154610e5d88610fc7565b610e679190611306565b610e71919061133b565b9450505050509450945094915050565b6001600160a01b038082166000908152600a84016020908152604080832060049081015482516330204b1960e11b815292519495169363604096329383830193909290829003018186803b158015610ed857600080fd5b505afa158015610eec573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ba891906112ed565b6000806000610f1f8585610563565b935050509150610f2e81610f3a565b90911215949350505050565b60006001600160ff1b03821115610fa45760405162461bcd60e51b815260206004820152602860248201527f53616665436173743a2076616c756520646f65736e27742066697420696e2061604482015267371034b73a191a9b60c11b60648201526084016102db565b5090565b6000670de0b6b3a7640000610fbd83856111ef565b610ba89190611366565b6000808212610fd65781610fe2565b610fe2826000196111ef565b92915050565b600081610fbd670de0b6b3a7640000856111ef565b80356001600160a01b038116811461101457600080fd5b919050565b6000806040838503121561102c57600080fd5b8235915061103c60208401610ffd565b90509250929050565b60008060008060008060c0878903121561105e57600080fd5b8635955061106e60208801610ffd565b945061107c60408801610ffd565b935061108a60608801610ffd565b925061109860808801610ffd565b915060a087013590509295509295509295565b6000806000606084860312156110c057600080fd5b833592506110d060208501610ffd565b91506110de60408501610ffd565b90509250925092565b600080600080608085870312156110fd57600080fd5b8435935061110d60208601610ffd565b925061111b60408601610ffd565b9396929550929360600135925050565b634e487b7160e01b600052601160045260246000fd5b600080821280156001600160ff1b03849003851316156111635761116361112b565b600160ff1b839003841281161561117c5761117c61112b565b50500190565b600082198211156111955761119561112b565b500190565b600060208083528351808285015260005b818110156111c7578581018301518582016040015282016111ab565b818111156111d9576000604083870101525b50601f01601f1916929092016040019392505050565b60006001600160ff1b03818413828413808216868404861116156112155761121561112b565b600160ff1b60008712828116878305891216156112345761123461112b565b600087129250878205871284841616156112505761125061112b565b878505871281841616156112665761126661112b565b505050929093029392505050565b60008083128015600160ff1b8501841216156112925761129261112b565b6001600160ff1b03840183138116156112ad576112ad61112b565b50500390565b634e487b7160e01b600052603260045260246000fd5b600080604083850312156112dc57600080fd5b505080516020909101519092909150565b6000602082840312156112ff57600080fd5b5051919050565b60008160001904831182151516156113205761132061112b565b500290565b634e487b7160e01b600052601260045260246000fd5b60008261134a5761134a611325565b500490565b6000828210156113615761136161112b565b500390565b60008261137557611375611325565b600160ff1b82146000198414161561138f5761138f61112b565b50059056fe4a4f4a4f5f494e56414c49445f4c49515549444154494f4e5f4558454355544f524a4f4a4f5f53454c465f4c49515549444154494f4e5f4e4f545f414c4c4f5745444a4f4a4f5f4c49515549444154494f4e5f524551554553545f414d4f554e545f57524f4e47a264697066735822122032f79715843663a1ad871ef2cf6e1bd754cbe88d0f4ee9d06e3c042d20699cdc64736f6c63430008090033","sourceMap":"371:12575:65:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;371:12575:65;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040526004361061006c5760003560e01c806335b270c81461007157806339a9cd2214610093578063471bd8a0146100d85780638bb9082c146100eb578063a67da8b01461010c578063f4392a951461013a575b600080fd5b81801561007d57600080fd5b5061009161008c366004611019565b61014d565b005b81801561009f57600080fd5b506100b36100ae366004611045565b610257565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100b36100e6366004611019565b610563565b6100fe6100f93660046110ab565b61083e565b6040519081526020016100cf565b61011f61011a3660046110e7565b610baf565b604080519384526020840192909252908201526060016100cf565b6100fe610148366004611019565b610e81565b6001600160a01b0381166000908152600c8301602052604090205415801561017c575061017a8282610f10565b155b15610253576001600160a01b03808216600090815260028401602081815260408084208054600389018452828620805492879055869055601389015490961685529290915282208054919284926101d4908490611141565b909155505060138401546001600160a01b0316600090815260038501602052604081208054839290610207908490611182565b909155505060408051838152602081018390526001600160a01b038516917f9a85af690143cddcc98411e3b473b0f8b231b5ccd06f34f01aeea120928bc1f1910160405180910390a250505b5050565b600080600080866001600160a01b0316886001600160a01b031614806102a457506001600160a01b03808816600090815260128c0160209081526040808320938c168352929052205460ff165b60405180606001604052806021815260200161139560219139906102e45760405162461bcd60e51b81526004016102db919061119a565b60405180910390fd5b50866001600160a01b0316866001600160a01b031614156040518060600160405280602181526020016113b660219139906103325760405162461bcd60e51b81526004016102db919061119a565b5060006103418b8b8989610baf565b9196509450905061035181610f3a565b60138c01546001600160a01b0316600090815260028d0160205260408120805490919061037f908490611141565b9091555061038e905081610f3a565b61039a856000196111ef565b6103a49190611274565b91506103b2856000196111ef565b925060008b600d016000896001600160a01b03166001600160a01b0316815260200190815260200160002060008c6001600160a01b03166001600160a01b0316815260200190815260200160002054905060008c600d0160008b6001600160a01b03166001600160a01b0316815260200190815260200160002060008d6001600160a01b03166001600160a01b03168152602001908152602001600020549050886001600160a01b03168c6001600160a01b03167f2fb7b7e90b5c64be4cf896093038c228a8c7b10de2d00203147e92b7579885828787866040516104aa939291909283526020830191909152604082015260600190565b60405180910390a360408051888152602081018890529081018290526001600160a01b03808b16918c8216918f16907f3cd850c81398158b5f1d64d3b8abfb27fb238d53b198487867f0baf0d8bdabe39060600160405180910390a4886001600160a01b03168c6001600160a01b03167f64f299799ee8ebad60b5669136b409478231d92f78a4ef652f1e5ce6fd82febe8560405161054b91815260200190565b60405180910390a35050509650965096509692505050565b600080808080805b6001600160a01b0387166000908152600c890160205260409020548110156107de576001600160a01b0387166000908152600c8901602052604081208054829190849081106105bc576105bc6112b3565b6000918252602090912001546040516370a0823160e01b81526001600160a01b038b81166004830152909116906370a0823190602401604080518083038186803b15801561060957600080fd5b505afa15801561061d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061064191906112c9565b9150915060008a600a0160008c600c0160008d6001600160a01b03166001600160a01b031681526020019081526020016000208681548110610685576106856112b3565b60009182526020808320909101546001600160a01b039081168452838201949094526040928301822060048082015485516330204b1960e11b81529551929750939561072d959416936360409632938183019390929091829003018186803b1580156106f057600080fd5b505afa158015610704573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061072891906112ed565b610f3a565b90508261073a8583610fa8565b6107449190611141565b61074e9087611141565b9550600061076461075f8684610fa8565b610fc7565b9050610770818b611182565b9950670de0b6b3a764000083600101548261078b9190611306565b610795919061133b565b61079f9089611182565b8354909850670de0b6b3a7640000906107b89083611306565b6107c2919061133b565b6107cc908a611182565b9850856001019550505050505061056b565b506001600160a01b038616600090815260038801602052604090205461080390610f3a565b6001600160a01b03871660009081526002890160205260409020546108289083611141565b6108329190611141565b94505092959194509250565b6001600160a01b03821660009081526003840160205260408120548190819061086690610f3a565b6001600160a01b038616600090815260028801602052604090205461088b9190611141565b905060005b6001600160a01b0386166000908152600c88016020526040902054811015610a57576001600160a01b0386166000908152600c8801602052604081208054839081106108de576108de6112b3565b6000918252602090912001546001600160a01b03908116915086168114610a4e576040516370a0823160e01b81526001600160a01b03888116600483015260009182918416906370a0823190602401604080518083038186803b15801561094457600080fd5b505afa158015610958573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061097c91906112c9565b6001600160a01b038086166000908152600a8e016020908152604080832060048082015483516330204b1960e11b81529351989a50969850909693956109df95169363604096329383830193909290829003018186803b1580156106f057600080fd5b9050826109ec8583610fa8565b6109f69190611141565b610a009088611141565b9650610a3d670de0b6b3a76400008360010154610a2961075f8589610fa890919063ffffffff16565b610a339190611306565b610728919061133b565b610a479089611141565b9750505050505b50600101610890565b506040516370a0823160e01b81526001600160a01b03868116600483015260009182918716906370a0823190602401604080518083038186803b158015610a9d57600080fd5b505afa158015610ab1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ad591906112c9565b915091508160001415610aef576000945050505050610ba8565b6000808313610b31576001600160a01b0387166000908152600a8a016020526040902060010154610b2c9061072890670de0b6b3a7640000611182565b610b65565b6001600160a01b0387166000908152600a8a016020526040902060010154610b659061072890670de0b6b3a764000061134f565b90506000610b8c82610b868686610b7c8a8c611274565b610b869190611274565b90610fe8565b905060008112610b9c5780610b9f565b60005b96505050505050505b9392505050565b6000806000610bbe8786610f10565b15604051806040016040528060148152602001734a4f4a4f5f4143434f554e545f49535f5341464560601b81525090610c0a5760405162461bcd60e51b81526004016102db919061119a565b506040516370a0823160e01b81526001600160a01b038681166004830152600091908816906370a0823190602401604080518083038186803b158015610c4f57600080fd5b505afa158015610c63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c8791906112c9565b5060408051808201909152601b81527f4a4f4a4f5f5452414445525f4841535f4e4f5f504f534954494f4e0000000000602082015290915081610cdd5760405162461bcd60e51b81526004016102db919061119a565b506000610cea82876111ef565b136040518060600160405280602581526020016113d76025913990610d225760405162461bcd60e51b81526004016102db919061119a565b50610d2c81610fc7565b610d3586610fc7565b11610d405784610d42565b805b6001600160a01b038089166000908152600a8b016020908152604080832060048082015483516330204b1960e11b81529351979b5091969495919091169363604096329383830193909290829003018186803b158015610da157600080fd5b505afa158015610db5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610dd991906112ed565b90506000670de0b6b3a7640000836002015483610df69190611306565b610e00919061133b565b905060008713610e1957610e148183611182565b610e23565b610e23818361134f565b9150610e38610e3183610f3a565b8890610fa8565b610e44906000196111ef565b9550670de0b6b3a76400008360030154610e5d88610fc7565b610e679190611306565b610e71919061133b565b9450505050509450945094915050565b6001600160a01b038082166000908152600a84016020908152604080832060049081015482516330204b1960e11b815292519495169363604096329383830193909290829003018186803b158015610ed857600080fd5b505afa158015610eec573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ba891906112ed565b6000806000610f1f8585610563565b935050509150610f2e81610f3a565b90911215949350505050565b60006001600160ff1b03821115610fa45760405162461bcd60e51b815260206004820152602860248201527f53616665436173743a2076616c756520646f65736e27742066697420696e2061604482015267371034b73a191a9b60c11b60648201526084016102db565b5090565b6000670de0b6b3a7640000610fbd83856111ef565b610ba89190611366565b6000808212610fd65781610fe2565b610fe2826000196111ef565b92915050565b600081610fbd670de0b6b3a7640000856111ef565b80356001600160a01b038116811461101457600080fd5b919050565b6000806040838503121561102c57600080fd5b8235915061103c60208401610ffd565b90509250929050565b60008060008060008060c0878903121561105e57600080fd5b8635955061106e60208801610ffd565b945061107c60408801610ffd565b935061108a60608801610ffd565b925061109860808801610ffd565b915060a087013590509295509295509295565b6000806000606084860312156110c057600080fd5b833592506110d060208501610ffd565b91506110de60408501610ffd565b90509250925092565b600080600080608085870312156110fd57600080fd5b8435935061110d60208601610ffd565b925061111b60408601610ffd565b9396929550929360600135925050565b634e487b7160e01b600052601160045260246000fd5b600080821280156001600160ff1b03849003851316156111635761116361112b565b600160ff1b839003841281161561117c5761117c61112b565b50500190565b600082198211156111955761119561112b565b500190565b600060208083528351808285015260005b818110156111c7578581018301518582016040015282016111ab565b818111156111d9576000604083870101525b50601f01601f1916929092016040019392505050565b60006001600160ff1b03818413828413808216868404861116156112155761121561112b565b600160ff1b60008712828116878305891216156112345761123461112b565b600087129250878205871284841616156112505761125061112b565b878505871281841616156112665761126661112b565b505050929093029392505050565b60008083128015600160ff1b8501841216156112925761129261112b565b6001600160ff1b03840183138116156112ad576112ad61112b565b50500390565b634e487b7160e01b600052603260045260246000fd5b600080604083850312156112dc57600080fd5b505080516020909101519092909150565b6000602082840312156112ff57600080fd5b5051919050565b60008160001904831182151516156113205761132061112b565b500290565b634e487b7160e01b600052601260045260246000fd5b60008261134a5761134a611325565b500490565b6000828210156113615761136161112b565b500390565b60008261137557611375611325565b600160ff1b82146000198414161561138f5761138f61112b565b50059056fe4a4f4a4f5f494e56414c49445f4c49515549444154494f4e5f4558454355544f524a4f4a4f5f53454c465f4c49515549444154494f4e5f4e4f545f414c4c4f5745444a4f4a4f5f4c49515549444154494f4e5f524551554553545f414d4f554e545f57524f4e47a264697066735822122032f79715843663a1ad871ef2cf6e1bd754cbe88d0f4ee9d06e3c042d20699cdc64736f6c63430008090033","sourceMap":"371:12575:65:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;12123:821;;;;;;;;;;-1:-1:-1;12123:821:65;;;;;:::i;:::-;;:::i;:::-;;9982:1893;;;;;;;;;;-1:-1:-1;9982:1893:65;;;;;:::i;:::-;;:::i;:::-;;;;1283:25:94;;;1339:2;1324:18;;1317:34;;;;1367:18;;;1360:34;1425:2;1410:18;;1403:34;1270:3;1255:19;9982:1893:65;;;;;;;;1282:1534;;;;;;:::i;:::-;;:::i;4616:3531::-;;;;;;:::i;:::-;;:::i;:::-;;;2362:25:94;;;2350:2;2335:18;4616:3531:65;2208:185:94;8313:1617:65;;;;;;:::i;:::-;;:::i;:::-;;;;3030:25:94;;;3086:2;3071:18;;3064:34;;;;3114:18;;;3107:34;3018:2;3003:18;8313:1617:65;2824:323:94;11881:236:65;;;;;;:::i;:::-;;:::i;12123:821::-;-1:-1:-1;;;;;12257:37:65;;;;;;:19;;;:37;;;;;:44;:49;:112;;;;;12323:46;12345:5;12352:16;12323:21;:46::i;:::-;12322:47;12257:112;12240:698;;;-1:-1:-1;;;;;12417:37:65;;;12394:20;12417:37;;;:19;;;:37;;;;;;;;;;12494:21;;;:39;;;;;;;12547:41;;;;12602:43;;;12679:15;;;;;;;12659:36;;;;;;;;:53;;12494:39;;12417:37;;12659:53;;12417:37;;12659:53;:::i;:::-;;;;-1:-1:-1;;12748:15:65;;;;-1:-1:-1;;;;;12748:15:65;12726:38;;;;:21;;;:38;;;;;:57;;12768:15;;12726:38;:57;;12768:15;;12726:57;:::i;:::-;;;;-1:-1:-1;;12802:125:65;;;3859:25:94;;;3915:2;3900:18;;3893:34;;;-1:-1:-1;;;;;12802:125:65;;;;;3832:18:94;12802:125:65;;;;;;;12380:558;;12240:698;12123:821;;:::o;9982:1893::-;10243:24;10281:25;10320:23;10357:24;10439:10;-1:-1:-1;;;;;10427:22:65;:8;-1:-1:-1;;;;;10427:22:65;;:86;;;-1:-1:-1;;;;;;10469:34:65;;;;;;;:22;;;:34;;;;;;;;:44;;;;;;;;;;;;10427:86;10527:35;;;;;;;;;;;;;;;;;10406:166;;;;;-1:-1:-1;;;10406:166:65;;;;;;;;:::i;:::-;;;;;;;;;;10623:10;-1:-1:-1;;;;;10603:30:65;:16;-1:-1:-1;;;;;10603:30:65;;;10647:35;;;;;;;;;;;;;;;;;10582:110;;;;;-1:-1:-1;;;10582:110:65;;;;;;;;:::i;:::-;;10702:20;10834:133;10872:5;10891:4;10909:16;10939:18;10834:24;:133::i;:::-;10732:235;;-1:-1:-1;10732:235:65;-1:-1:-1;10732:235:65;-1:-1:-1;11017:31:65;10732:235;11017:17;:31::i;:::-;10997:15;;;;-1:-1:-1;;;;;10997:15:65;10977:36;;;;:19;;;:36;;;;;:71;;:36;;;:71;;;;;:::i;:::-;;;;-1:-1:-1;11185:31:65;;-1:-1:-1;11203:12:65;11185:17;:31::i;:::-;11135:35;:18;-1:-1:-1;;11135:35:65;:::i;:::-;:81;;;;:::i;:::-;11103:113;-1:-1:-1;11245:22:65;:17;-1:-1:-1;;11245:22:65;:::i;:::-;11226:41;;11296:12;11311:5;:23;;:41;11335:16;-1:-1:-1;;;;;11311:41:65;-1:-1:-1;;;;;11311:41:65;;;;;;;;;;;;:47;11353:4;-1:-1:-1;;;;;11311:47:65;-1:-1:-1;;;;;11311:47:65;;;;;;;;;;;;;11296:62;;11368:20;11391:5;:23;;:35;11415:10;-1:-1:-1;;;;;11391:35:65;-1:-1:-1;;;;;11391:35:65;;;;;;;;;;;;:41;11427:4;-1:-1:-1;;;;;11391:41:65;-1:-1:-1;;;;;11391:41:65;;;;;;;;;;;;;11368:64;;11494:16;-1:-1:-1;;;;;11447:152:65;11476:4;-1:-1:-1;;;;;11447:152:65;;11524:16;11554:17;11585:4;11447:152;;;;;;;3030:25:94;;;3086:2;3071:18;;3064:34;;;;3129:2;3114:18;;3107:34;3018:2;3003:18;;2824:323;11447:152:65;;;;;;;;11614:186;;;3030:25:94;;;3086:2;3071:18;;3064:34;;;3114:18;;;3107:34;;;-1:-1:-1;;;;;11614:186:65;;;;;;;;;;;;;3018:2:94;3003:18;11614:186:65;;;;;;;11837:16;-1:-1:-1;;;;;11815:53:65;11831:4;-1:-1:-1;;;;;11815:53:65;;11855:12;11815:53;;;;2362:25:94;;2350:2;2335:18;;2208:185;11815:53:65;;;;;;;;10396:1479;;;9982:1893;;;;;;;;;;;:::o;1282:1534::-;1431:15;;;;;;1664:992;-1:-1:-1;;;;;1688:27:65;;;;;;:19;;;:27;;;;;:34;1684:38;;1664:992;;;-1:-1:-1;;;;;1812:27:65;;1741:18;1812:27;;;:19;;;:27;;;;;:30;;1741:18;;1812:27;1840:1;;1812:30;;;;;;:::i;:::-;;;;;;;;;;;1784:90;;-1:-1:-1;;;1784:90:65;;-1:-1:-1;;;;;6168:32:94;;;1784:90:65;;;6150:51:94;1812:30:65;;;;1784:82;;6123:18:94;;1784:90:65;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1740:134;;;;1888:31;1922:5;:20;;:82;1960:5;:19;;:27;1980:6;-1:-1:-1;;;;;1960:27:65;-1:-1:-1;;;;;1960:27:65;;;;;;;;;;;;1988:1;1960:30;;;;;;;;:::i;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;1960:30:65;;;1922:82;;;;;;;;;;;;;;;2085:22;;;;;2068:55;;-1:-1:-1;;;2068:55:65;;;;1922:82;;-1:-1:-1;1960:30:65;;2033:104;;2085:22;;;2068:53;;:55;;;;1960:30;;2068:55;;;;;;;2085:22;2068:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2033:17;:104::i;:::-;2018:119;-1:-1:-1;2204:12:65;2172:29;:11;2018:119;2172:22;:29::i;:::-;:44;;;;:::i;:::-;2152:64;;;;:::i;:::-;;-1:-1:-1;2230:25:65;2258:35;:29;:11;2281:5;2258:22;:29::i;:::-;:33;:35::i;:::-;2230:63;-1:-1:-1;2307:29:65;2230:63;2307:29;;:::i;:::-;;;5402:8:70;2408:6:65;:27;;;2388:17;:47;;;;:::i;:::-;2387:77;;;;:::i;:::-;2350:114;;;;:::i;:::-;2532:25;;2350:114;;-1:-1:-1;5402:8:70;;2512:45:65;;:17;:45;:::i;:::-;2511:75;;;;:::i;:::-;2478:108;;;;:::i;:::-;;;2628:3;;;;;1726:930;;;;;1664:992;;;-1:-1:-1;;;;;;2779:29:65;;;;;;:21;;;:29;;;;;;2761:48;;:17;:48::i;:::-;-1:-1:-1;;;;;2719:27:65;;;;;;:19;;;:27;;;;;;2688:58;;:16;:58;:::i;:::-;:121;;;;:::i;:::-;2665:144;;1565:1251;1282:1534;;;;;;;:::o;4616:3531::-;-1:-1:-1;;;;;6479:29:65;;4755:24;6479:29;;;:21;;;:29;;;;;;4755:24;;;;6461:48;;:17;:48::i;:::-;-1:-1:-1;;;;;6419:27:65;;;;;;:19;;;:27;;;;;;:90;;;;:::i;:::-;6396:113;;6524:9;6519:950;-1:-1:-1;;;;;6543:27:65;;;;;;:19;;;:27;;;;;:34;6539:38;;6519:950;;;-1:-1:-1;;;;;6607:27:65;;6595:9;6607:27;;;:19;;;:27;;;;;:30;;6635:1;;6607:30;;;;;;:::i;:::-;;;;;;;;;;;-1:-1:-1;;;;;6607:30:65;;;;-1:-1:-1;6655:9:65;;;;6651:749;;6796:31;;-1:-1:-1;;;6796:31:65;;-1:-1:-1;;;;;6168:32:94;;;6796:31:65;;;6150:51:94;6706:23:65;;;;6796;;;;;6123:18:94;;6796:31:65;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;6879:23:65;;;6845:31;6879:23;;;:20;;;:23;;;;;;;;6991:22;;;;;6974:55;;-1:-1:-1;;;6974:55:65;;;;6684:143;;-1:-1:-1;6684:143:65;;-1:-1:-1;6879:23:65;;6845:31;;6935:112;;6991:22;;6974:53;;:55;;;;6879:23;;6974:55;;;;;;6991:22;6974:55;;;;;;;;;;6935:112;6920:127;-1:-1:-1;7159:17:65;7102:34;:16;6920:127;7102:27;:34::i;:::-;:74;;;;:::i;:::-;7065:111;;;;:::i;:::-;;;7220:165;5402:8:70;7327:6:65;:27;;;7260:40;:34;7288:5;7260:16;:27;;:34;;;;:::i;:40::-;:94;;;;:::i;:::-;7259:108;;;;:::i;7220:165::-;7194:191;;;;:::i;:::-;;;6666:734;;;;6651:749;-1:-1:-1;7441:3:65;;6519:950;;;-1:-1:-1;7522:56:65;;-1:-1:-1;;;7522:56:65;;-1:-1:-1;;;;;6168:32:94;;;7522:56:65;;;6150:51:94;7479:18:65;;;;7522:26;;;;;6123:18:94;;7522:56:65;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;7478:100;;;;7592:11;7607:1;7592:16;7588:55;;;7631:1;7624:8;;;;;;;;7588:55;7652:17;7686:1;7672:11;:15;:261;;-1:-1:-1;;;;;7872:26:65;;;;;;:20;;;:26;;;;;:47;;;7825:108;;7860:59;;5402:8:70;7860:59:65;:::i;7825:108::-;7672:261;;;-1:-1:-1;;;;;7749:26:65;;;;;;:20;;;:26;;;;;:47;;;7702:108;;7737:59;;5402:8:70;7737:59:65;:::i;7702:108::-;7652:281;-1:-1:-1;7943:15:65;7961:126;7652:281;7961:103;8052:11;8027:12;7962:50;7999:13;7962:22;:50;:::i;:::-;:77;;;;:::i;:::-;7961:90;;:103::i;:126::-;7943:144;;8115:1;8104:8;:12;:36;;8131:8;8104:36;;;8119:1;8104:36;8097:43;;;;;;;;4616:3531;;;;;;:::o;8313:1617::-;8537:24;8575:25;8614:20;8711:34;8721:5;8728:16;8711:9;:34::i;:::-;8710:35;8747:22;;;;;;;;;;;;;-1:-1:-1;;;8747:22:65;;;8702:68;;;;;-1:-1:-1;;;8702:68:65;;;;;;;;:::i;:::-;-1:-1:-1;8881:66:65;;-1:-1:-1;;;8881:66:65;;-1:-1:-1;;;;;6168:32:94;;;8881:66:65;;;6150:51:94;8851:24:65;;8881:26;;;;;;6123:18:94;;8881:66:65;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;8989:29:65;;;;;;;;;;;;;;;;;8850:97;;-1:-1:-1;8965:22:65;8957:62;;;;-1:-1:-1;;;8957:62:65;;;;;;;;:::i;:::-;-1:-1:-1;9091:1:65;9050:38;9071:17;9050:18;:38;:::i;:::-;:42;9106:39;;;;;;;;;;;;;;;;;9029:126;;;;;-1:-1:-1;;;9029:126:65;;;;;;;;:::i;:::-;;9212:23;:17;:21;:23::i;:::-;9185:24;:18;:22;:24::i;:::-;:50;:115;;9282:18;9185:115;;;9250:17;9185:115;-1:-1:-1;;;;;9366:26:65;;;9332:31;9366:26;;;:20;;;:26;;;;;;;;9435:22;;;;;9418:55;;-1:-1:-1;;;9418:55:65;;;;9165:135;;-1:-1:-1;9366:26:65;;9332:31;;9435:22;;;;;9418:53;;:55;;;;9366:26;;9418:55;;;;;;9435:22;9418:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;9402:71;;9483:19;5402:8:70;9514:6:65;:26;;;9506:5;:34;;;;:::i;:::-;9505:48;;;;:::i;:::-;9483:70;;9591:1;9571:17;:21;:89;;9641:19;9649:11;9641:5;:19;:::i;:::-;9571:89;;;9607:19;9615:11;9607:5;:19;:::i;:::-;9563:97;;9756:54;9785:24;9803:5;9785:17;:24::i;:::-;9756:17;;:28;:54::i;:::-;9739:71;;-1:-1:-1;;9739:71:65;:::i;:::-;9706:104;;5402:8:70;9875:6:65;:23;;;9848:24;:18;:22;:24::i;:::-;:50;;;;:::i;:::-;9847:76;;;;:::i;:::-;9820:103;;8649:1281;;;;8313:1617;;;;;;;;:::o;11881:236::-;-1:-1:-1;;;;;12039:26:65;;;11989:13;12039:26;;;:20;;;:26;;;;;;;;:42;;;;;12022:88;;-1:-1:-1;;;12022:88:65;;;;11989:13;;12039:42;;12022:86;;:88;;;;12039:26;;12022:88;;;;;;12039:42;12022:88;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;2822:311::-;2929:4;2946:15;2967:25;2996:65;3026:5;3045:6;2996:16;:65::i;:::-;2945:116;;;;;;3090:36;3108:17;3090;:36::i;:::-;3078:48;;;;;2822:311;-1:-1:-1;;;;2822:311:65:o;34781:297:35:-;34837:6;-1:-1:-1;;;;;34962:5:35;:34;;34954:87;;;;-1:-1:-1;;;34954:87:35;;7411:2:94;34954:87:35;;;7393:21:94;7450:2;7430:18;;;7423:30;7489:34;7469:18;;;7462:62;-1:-1:-1;;;7540:18:94;;;7533:38;7588:19;;34954:87:35;7209:404:94;34954:87:35;-1:-1:-1;35065:5:35;34781:297::o;226:114:68:-;289:6;211:8;315:5;319:1;315;:5;:::i;:::-;314:19;;;;:::i;466:115::-;512:7;542:1;538;:5;:36;;572:1;538:36;;;554:6;:1;-1:-1:-1;;554:6:68;:::i;:::-;531:43;466:115;-1:-1:-1;;466:115:68:o;346:114::-;409:6;452:1;435:13;211:8;435:1;:13;:::i;14:173:94:-;82:20;;-1:-1:-1;;;;;131:31:94;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:279::-;285:6;293;346:2;334:9;325:7;321:23;317:32;314:52;;;362:1;359;352:12;314:52;398:9;385:23;375:33;;427:38;461:2;450:9;446:18;427:38;:::i;:::-;417:48;;192:279;;;;;:::o;476:571::-;604:6;612;620;628;636;644;697:3;685:9;676:7;672:23;668:33;665:53;;;714:1;711;704:12;665:53;750:9;737:23;727:33;;779:38;813:2;802:9;798:18;779:38;:::i;:::-;769:48;;836:38;870:2;859:9;855:18;836:38;:::i;:::-;826:48;;893:38;927:2;916:9;912:18;893:38;:::i;:::-;883:48;;950:39;984:3;973:9;969:19;950:39;:::i;:::-;940:49;;1036:3;1025:9;1021:19;1008:33;998:43;;476:571;;;;;;;;:::o;1850:353::-;1952:6;1960;1968;2021:2;2009:9;2000:7;1996:23;1992:32;1989:52;;;2037:1;2034;2027:12;1989:52;2073:9;2060:23;2050:33;;2102:38;2136:2;2125:9;2121:18;2102:38;:::i;:::-;2092:48;;2159:38;2193:2;2182:9;2178:18;2159:38;:::i;:::-;2149:48;;1850:353;;;;;:::o;2398:421::-;2508:6;2516;2524;2532;2585:3;2573:9;2564:7;2560:23;2556:33;2553:53;;;2602:1;2599;2592:12;2553:53;2638:9;2625:23;2615:33;;2667:38;2701:2;2690:9;2686:18;2667:38;:::i;:::-;2657:48;;2724:38;2758:2;2747:9;2743:18;2724:38;:::i;:::-;2398:421;;;;-1:-1:-1;2714:48:94;;2809:2;2794:18;2781:32;;-1:-1:-1;;2398:421:94:o;3152:127::-;3213:10;3208:3;3204:20;3201:1;3194:31;3244:4;3241:1;3234:15;3268:4;3265:1;3258:15;3284:265;3323:3;3351:9;;;3376:10;;-1:-1:-1;;;;;3395:27:94;;;3388:35;;3372:52;3369:78;;;3427:18;;:::i;:::-;-1:-1:-1;;;3474:19:94;;;3467:27;;3459:36;;3456:62;;;3498:18;;:::i;:::-;-1:-1:-1;;3534:9:94;;3284:265::o;3554:128::-;3594:3;3625:1;3621:6;3618:1;3615:13;3612:39;;;3631:18;;:::i;:::-;-1:-1:-1;3667:9:94;;3554:128::o;3938:597::-;4050:4;4079:2;4108;4097:9;4090:21;4140:6;4134:13;4183:6;4178:2;4167:9;4163:18;4156:34;4208:1;4218:140;4232:6;4229:1;4226:13;4218:140;;;4327:14;;;4323:23;;4317:30;4293:17;;;4312:2;4289:26;4282:66;4247:10;;4218:140;;;4376:6;4373:1;4370:13;4367:91;;;4446:1;4441:2;4432:6;4421:9;4417:22;4413:31;4406:42;4367:91;-1:-1:-1;4519:2:94;4498:15;-1:-1:-1;;4494:29:94;4479:45;;;;4526:2;4475:54;;3938:597;-1:-1:-1;;;3938:597:94:o;4540:553::-;4579:7;-1:-1:-1;;;;;4649:9:94;;;4677;;;4702:11;;;4721:10;;;4715:17;;4698:35;4695:61;;;4736:18;;:::i;:::-;-1:-1:-1;;;4812:1:94;4805:9;;4830:11;;;4850;;;4843:19;;4826:37;4823:63;;;4866:18;;:::i;:::-;4912:1;4909;4905:9;4895:19;;4959:1;4955:2;4950:11;4947:1;4943:19;4938:2;4934;4930:11;4926:37;4923:63;;;4966:18;;:::i;:::-;5031:1;5027:2;5022:11;5019:1;5015:19;5010:2;5006;5002:11;4998:37;4995:63;;;5038:18;;:::i;:::-;-1:-1:-1;;;5078:9:94;;;;;4540:553;-1:-1:-1;;;4540:553:94:o;5098:267::-;5137:4;5166:9;;;5191:10;;-1:-1:-1;;;5210:19:94;;5203:27;;5187:44;5184:70;;;5234:18;;:::i;:::-;-1:-1:-1;;;;;5281:27:94;;5274:35;;5266:44;;5263:70;;;5313:18;;:::i;:::-;-1:-1:-1;;5350:9:94;;5098:267::o;5872:127::-;5933:10;5928:3;5924:20;5921:1;5914:31;5964:4;5961:1;5954:15;5988:4;5985:1;5978:15;6212:243;6289:6;6297;6350:2;6338:9;6329:7;6325:23;6321:32;6318:52;;;6366:1;6363;6356:12;6318:52;-1:-1:-1;;6389:16:94;;6445:2;6430:18;;;6424:25;6389:16;;6424:25;;-1:-1:-1;6212:243:94:o;6460:184::-;6530:6;6583:2;6571:9;6562:7;6558:23;6554:32;6551:52;;;6599:1;6596;6589:12;6551:52;-1:-1:-1;6622:16:94;;6460:184;-1:-1:-1;6460:184:94:o;6649:168::-;6689:7;6755:1;6751;6747:6;6743:14;6740:1;6737:21;6732:1;6725:9;6718:17;6714:45;6711:71;;;6762:18;;:::i;:::-;-1:-1:-1;6802:9:94;;6649:168::o;6822:127::-;6883:10;6878:3;6874:20;6871:1;6864:31;6914:4;6911:1;6904:15;6938:4;6935:1;6928:15;6954:120;6994:1;7020;7010:35;;7025:18;;:::i;:::-;-1:-1:-1;7059:9:94;;6954:120::o;7079:125::-;7119:4;7147:1;7144;7141:8;7138:34;;;7152:18;;:::i;:::-;-1:-1:-1;7189:9:94;;7079:125::o;7618:193::-;7657:1;7683;7673:35;;7688:18;;:::i;:::-;-1:-1:-1;;;7724:18:94;;-1:-1:-1;;7744:13:94;;7720:38;7717:64;;;7761:18;;:::i;:::-;-1:-1:-1;7795:10:94;;7618:193::o","linkReferences":{}},"methodIdentifiers":{"getLiquidateCreditAmount(Types.State storage,address,address,int256)":"a67da8b0","getLiquidationPrice(Types.State storage,address,address)":"8bb9082c","getMarkPrice(Types.State storage,address)":"f4392a95","getTotalExposure(Types.State storage,address)":"471bd8a0","handleBadDebt(Types.State storage,address)":"35b270c8","requestLiquidation(Types.State storage,address,address,address,address,int256)":"39a9cd22"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"paperChange\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"creditChange\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"positionSerialNum\",\"type\":\"uint256\"}],\"name\":\"BeingLiquidated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"ChargeInsurance\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"primaryCredit\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"secondaryCredit\",\"type\":\"uint256\"}],\"name\":\"HandleBadDebt\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"perp\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"liquidator\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"paperChange\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"creditChange\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"positionSerialNum\",\"type\":\"uint256\"}],\"name\":\"JoinLiquidation\",\"type\":\"event\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"getLiquidationPrice(Types.State storage,address,address)\":{\"returns\":{\"liquidationPrice\":\"It should be considered as the position can never be liquidated (absolutely safe) or being liquidated at the present if return 0.\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getLiquidateCreditAmount(Types.State storage,address,address,int256)\":{\"notice\":\"Using a fixed discount price model. Charge fee from liquidated trader. Will limit you liquidation request to the position size.\"},\"requestLiquidation(Types.State storage,address,address,address,address,int256)\":{\"notice\":\"execute a liquidation request\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/libraries/Liquidation.sol\":\"Liquidation\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/utils/math/SafeCast.sol\":{\"keccak256\":\"0x52a8cfb0f5239d11b457dcdd1b326992ef672714ca8da71a157255bddd13f3ad\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://495145362c7ff1c9ca88c58bbbbcb412e3c2004406647412394486552ff6c278\",\"dweb:/ipfs/QmNNCeng6d5eRPDn6tkWSQhjE39XWfQEfjA63rRwHmr1iH\"]},\"src/interfaces/IMarkPriceSource.sol\":{\"keccak256\":\"0x4fed7ab51143676e39eee8f73d4cb77e5e58f45ac4bfa55d59b5ecf9d1ff2740\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://ef4c061c1878a4250736eb77337897e85bae3205d4f65c2e451de314429a6444\",\"dweb:/ipfs/QmVmtSm4YttaiwowmKfT51FANoeb9uU3SSTa58TD3NpE3J\"]},\"src/interfaces/IPerpetual.sol\":{\"keccak256\":\"0x96a1288126570e5dd1c32d5a7c4f5c19f6d8a355ae002443479acdc70e4ad9e6\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://b0a3144f3979e8c01b6bd0cad28c46ca5a665fb8afa2e67d199cb616543d6e6e\",\"dweb:/ipfs/QmbSXwP8xqFBXiD6haLEJhWWcehqZspXZktZKBo49aEs2M\"]},\"src/libraries/Errors.sol\":{\"keccak256\":\"0x5be983b6123b2e77cfb611035474d747b78d9dc907f339fe833cc218fffe4483\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://d6a3ee5c6dad5e9b1d679f8746ee4c898475f24eb5c0bf3e0019abc059efd08b\",\"dweb:/ipfs/Qmdysu6PgGS6Bgm3hh3tmCsoqrPwid3iA7jivz41hvYSk3\"]},\"src/libraries/Liquidation.sol\":{\"keccak256\":\"0x16c1589ee6f6d84137d1d9cc2cb1bb7356caa763337131642ce2a519a49a7f88\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://628929f7a6a87ac17fb31fa41bb79bc049c01560da6568ecfe271e3b935a3438\",\"dweb:/ipfs/QmVCFA9U3a3b42DGytrnk4Z3xxQxUATX56MTQJDvXKb6Nb\"]},\"src/libraries/Position.sol\":{\"keccak256\":\"0x2370cf962bb62de3f38e7a7fbd2f1dc1b385ea8db2a7a74299f46414ef17abfd\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://b78188458b4f9a00ba014bc6581b7cc88ab0fe142dac10af17074f357104f29e\",\"dweb:/ipfs/QmdPQTAPQUEjw9cECcJLnGZHAN8abAh2QxMtYJyfxbYG6S\"]},\"src/libraries/SignedDecimalMath.sol\":{\"keccak256\":\"0x53ee6a1510209b37d5f32882c37d6796a04a5da2bf06ea98decf72b79c4cbebb\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://e62ad6d0430727f6e6d9a7515e6adfd38ebea1dd026bfc23a70c75218b1f427d\",\"dweb:/ipfs/QmUWiRu1kcp68ZQKwtDVkwvCcQPv3W7kxdVHd1eTncGZJf\"]},\"src/libraries/Types.sol\":{\"keccak256\":\"0xe6475cf1a9e65093ae313d167011b7014cdbd6fdcf84b922317f26cfdb1b12a4\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://279e941708975cc4565f0cb403036d3f74e121444845fa97f0d4dc9eaafefd3e\",\"dweb:/ipfs/QmVh5pLcqZ2SzcGJprNg7hGh3VVqd2SFPfNZ4VMGzbkR47\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.9+commit.e5eed63a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"perp","type":"address","indexed":true},{"internalType":"address","name":"liquidatedTrader","type":"address","indexed":true},{"internalType":"int256","name":"paperChange","type":"int256","indexed":false},{"internalType":"int256","name":"creditChange","type":"int256","indexed":false},{"internalType":"uint256","name":"positionSerialNum","type":"uint256","indexed":false}],"type":"event","name":"BeingLiquidated","anonymous":false},{"inputs":[{"internalType":"address","name":"perp","type":"address","indexed":true},{"internalType":"address","name":"liquidatedTrader","type":"address","indexed":true},{"internalType":"uint256","name":"fee","type":"uint256","indexed":false}],"type":"event","name":"ChargeInsurance","anonymous":false},{"inputs":[{"internalType":"address","name":"liquidatedTrader","type":"address","indexed":true},{"internalType":"int256","name":"primaryCredit","type":"int256","indexed":false},{"internalType":"uint256","name":"secondaryCredit","type":"uint256","indexed":false}],"type":"event","name":"HandleBadDebt","anonymous":false},{"inputs":[{"internalType":"address","name":"perp","type":"address","indexed":true},{"internalType":"address","name":"liquidator","type":"address","indexed":true},{"internalType":"address","name":"liquidatedTrader","type":"address","indexed":true},{"internalType":"int256","name":"paperChange","type":"int256","indexed":false},{"internalType":"int256","name":"creditChange","type":"int256","indexed":false},{"internalType":"uint256","name":"positionSerialNum","type":"uint256","indexed":false}],"type":"event","name":"JoinLiquidation","anonymous":false}],"devdoc":{"kind":"dev","methods":{"getLiquidationPrice(Types.State storage,address,address)":{"returns":{"liquidationPrice":"It should be considered as the position can never be liquidated (absolutely safe) or being liquidated at the present if return 0."}}},"version":1},"userdoc":{"kind":"user","methods":{"getLiquidateCreditAmount(Types.State storage,address,address,int256)":{"notice":"Using a fixed discount price model. Charge fee from liquidated trader. Will limit you liquidation request to the position size."},"requestLiquidation(Types.State storage,address,address,address,address,int256)":{"notice":"execute a liquidation request"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/libraries/Liquidation.sol":"Liquidation"},"libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/utils/math/SafeCast.sol":{"keccak256":"0x52a8cfb0f5239d11b457dcdd1b326992ef672714ca8da71a157255bddd13f3ad","urls":["bzz-raw://495145362c7ff1c9ca88c58bbbbcb412e3c2004406647412394486552ff6c278","dweb:/ipfs/QmNNCeng6d5eRPDn6tkWSQhjE39XWfQEfjA63rRwHmr1iH"],"license":"MIT"},"src/interfaces/IMarkPriceSource.sol":{"keccak256":"0x4fed7ab51143676e39eee8f73d4cb77e5e58f45ac4bfa55d59b5ecf9d1ff2740","urls":["bzz-raw://ef4c061c1878a4250736eb77337897e85bae3205d4f65c2e451de314429a6444","dweb:/ipfs/QmVmtSm4YttaiwowmKfT51FANoeb9uU3SSTa58TD3NpE3J"],"license":"BUSL-1.1"},"src/interfaces/IPerpetual.sol":{"keccak256":"0x96a1288126570e5dd1c32d5a7c4f5c19f6d8a355ae002443479acdc70e4ad9e6","urls":["bzz-raw://b0a3144f3979e8c01b6bd0cad28c46ca5a665fb8afa2e67d199cb616543d6e6e","dweb:/ipfs/QmbSXwP8xqFBXiD6haLEJhWWcehqZspXZktZKBo49aEs2M"],"license":"BUSL-1.1"},"src/libraries/Errors.sol":{"keccak256":"0x5be983b6123b2e77cfb611035474d747b78d9dc907f339fe833cc218fffe4483","urls":["bzz-raw://d6a3ee5c6dad5e9b1d679f8746ee4c898475f24eb5c0bf3e0019abc059efd08b","dweb:/ipfs/Qmdysu6PgGS6Bgm3hh3tmCsoqrPwid3iA7jivz41hvYSk3"],"license":"BUSL-1.1"},"src/libraries/Liquidation.sol":{"keccak256":"0x16c1589ee6f6d84137d1d9cc2cb1bb7356caa763337131642ce2a519a49a7f88","urls":["bzz-raw://628929f7a6a87ac17fb31fa41bb79bc049c01560da6568ecfe271e3b935a3438","dweb:/ipfs/QmVCFA9U3a3b42DGytrnk4Z3xxQxUATX56MTQJDvXKb6Nb"],"license":"BUSL-1.1"},"src/libraries/Position.sol":{"keccak256":"0x2370cf962bb62de3f38e7a7fbd2f1dc1b385ea8db2a7a74299f46414ef17abfd","urls":["bzz-raw://b78188458b4f9a00ba014bc6581b7cc88ab0fe142dac10af17074f357104f29e","dweb:/ipfs/QmdPQTAPQUEjw9cECcJLnGZHAN8abAh2QxMtYJyfxbYG6S"],"license":"BUSL-1.1"},"src/libraries/SignedDecimalMath.sol":{"keccak256":"0x53ee6a1510209b37d5f32882c37d6796a04a5da2bf06ea98decf72b79c4cbebb","urls":["bzz-raw://e62ad6d0430727f6e6d9a7515e6adfd38ebea1dd026bfc23a70c75218b1f427d","dweb:/ipfs/QmUWiRu1kcp68ZQKwtDVkwvCcQPv3W7kxdVHd1eTncGZJf"],"license":"BUSL-1.1"},"src/libraries/Types.sol":{"keccak256":"0xe6475cf1a9e65093ae313d167011b7014cdbd6fdcf84b922317f26cfdb1b12a4","urls":["bzz-raw://279e941708975cc4565f0cb403036d3f74e121444845fa97f0d4dc9eaafefd3e","dweb:/ipfs/QmVh5pLcqZ2SzcGJprNg7hGh3VVqd2SFPfNZ4VMGzbkR47"],"license":"BUSL-1.1"}},"version":1},"ast":{"absolutePath":"src/libraries/Liquidation.sol","id":53824,"exportedSymbols":{"Errors":[52288],"IMarkPriceSource":[52020],"IPerpetual":[52067],"Liquidation":[53823],"Position":[54488],"SafeCast":[49160],"SignedDecimalMath":[54555],"Types":[55316]},"nodeType":"SourceUnit","src":"78:12869:65","nodes":[{"id":52919,"nodeType":"PragmaDirective","src":"78:22:65","nodes":[],"literals":["solidity","0.8",".9"]},{"id":52920,"nodeType":"ImportDirective","src":"102:57:65","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/math/SafeCast.sol","file":"@openzeppelin/contracts/utils/math/SafeCast.sol","nameLocation":"-1:-1:-1","scope":53824,"sourceUnit":49161,"symbolAliases":[],"unitAlias":""},{"id":52921,"nodeType":"ImportDirective","src":"160:44:65","nodes":[],"absolutePath":"src/interfaces/IMarkPriceSource.sol","file":"../interfaces/IMarkPriceSource.sol","nameLocation":"-1:-1:-1","scope":53824,"sourceUnit":52021,"symbolAliases":[],"unitAlias":""},{"id":52922,"nodeType":"ImportDirective","src":"205:38:65","nodes":[],"absolutePath":"src/interfaces/IPerpetual.sol","file":"../interfaces/IPerpetual.sol","nameLocation":"-1:-1:-1","scope":53824,"sourceUnit":52068,"symbolAliases":[],"unitAlias":""},{"id":52923,"nodeType":"ImportDirective","src":"244:44:65","nodes":[],"absolutePath":"src/libraries/SignedDecimalMath.sol","file":"../libraries/SignedDecimalMath.sol","nameLocation":"-1:-1:-1","scope":53824,"sourceUnit":54556,"symbolAliases":[],"unitAlias":""},{"id":52924,"nodeType":"ImportDirective","src":"289:33:65","nodes":[],"absolutePath":"src/libraries/Errors.sol","file":"../libraries/Errors.sol","nameLocation":"-1:-1:-1","scope":53824,"sourceUnit":52289,"symbolAliases":[],"unitAlias":""},{"id":52925,"nodeType":"ImportDirective","src":"323:21:65","nodes":[],"absolutePath":"src/libraries/Types.sol","file":"./Types.sol","nameLocation":"-1:-1:-1","scope":53824,"sourceUnit":55317,"symbolAliases":[],"unitAlias":""},{"id":52926,"nodeType":"ImportDirective","src":"345:24:65","nodes":[],"absolutePath":"src/libraries/Position.sol","file":"./Position.sol","nameLocation":"-1:-1:-1","scope":53824,"sourceUnit":54489,"symbolAliases":[],"unitAlias":""},{"id":53823,"nodeType":"ContractDefinition","src":"371:12575:65","nodes":[{"id":52929,"nodeType":"UsingForDirective","src":"397:35:65","nodes":[],"libraryName":{"id":52927,"name":"SignedDecimalMath","nodeType":"IdentifierPath","referencedDeclaration":54555,"src":"403:17:65"},"typeName":{"id":52928,"name":"int256","nodeType":"ElementaryTypeName","src":"425:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":52941,"nodeType":"EventDefinition","src":"475:192:65","nodes":[],"anonymous":false,"name":"BeingLiquidated","nameLocation":"481:15:65","parameters":{"id":52940,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52931,"indexed":true,"mutability":"mutable","name":"perp","nameLocation":"522:4:65","nodeType":"VariableDeclaration","scope":52941,"src":"506:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52930,"name":"address","nodeType":"ElementaryTypeName","src":"506:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52933,"indexed":true,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"552:16:65","nodeType":"VariableDeclaration","scope":52941,"src":"536:32:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52932,"name":"address","nodeType":"ElementaryTypeName","src":"536:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52935,"indexed":false,"mutability":"mutable","name":"paperChange","nameLocation":"585:11:65","nodeType":"VariableDeclaration","scope":52941,"src":"578:18:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":52934,"name":"int256","nodeType":"ElementaryTypeName","src":"578:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":52937,"indexed":false,"mutability":"mutable","name":"creditChange","nameLocation":"613:12:65","nodeType":"VariableDeclaration","scope":52941,"src":"606:19:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":52936,"name":"int256","nodeType":"ElementaryTypeName","src":"606:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":52939,"indexed":false,"mutability":"mutable","name":"positionSerialNum","nameLocation":"643:17:65","nodeType":"VariableDeclaration","scope":52941,"src":"635:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52938,"name":"uint256","nodeType":"ElementaryTypeName","src":"635:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"496:170:65"}},{"id":52955,"nodeType":"EventDefinition","src":"673:228:65","nodes":[],"anonymous":false,"name":"JoinLiquidation","nameLocation":"679:15:65","parameters":{"id":52954,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52943,"indexed":true,"mutability":"mutable","name":"perp","nameLocation":"720:4:65","nodeType":"VariableDeclaration","scope":52955,"src":"704:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52942,"name":"address","nodeType":"ElementaryTypeName","src":"704:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52945,"indexed":true,"mutability":"mutable","name":"liquidator","nameLocation":"750:10:65","nodeType":"VariableDeclaration","scope":52955,"src":"734:26:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52944,"name":"address","nodeType":"ElementaryTypeName","src":"734:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52947,"indexed":true,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"786:16:65","nodeType":"VariableDeclaration","scope":52955,"src":"770:32:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52946,"name":"address","nodeType":"ElementaryTypeName","src":"770:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52949,"indexed":false,"mutability":"mutable","name":"paperChange","nameLocation":"819:11:65","nodeType":"VariableDeclaration","scope":52955,"src":"812:18:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":52948,"name":"int256","nodeType":"ElementaryTypeName","src":"812:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":52951,"indexed":false,"mutability":"mutable","name":"creditChange","nameLocation":"847:12:65","nodeType":"VariableDeclaration","scope":52955,"src":"840:19:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":52950,"name":"int256","nodeType":"ElementaryTypeName","src":"840:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":52953,"indexed":false,"mutability":"mutable","name":"positionSerialNum","nameLocation":"877:17:65","nodeType":"VariableDeclaration","scope":52955,"src":"869:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52952,"name":"uint256","nodeType":"ElementaryTypeName","src":"869:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"694:206:65"}},{"id":52963,"nodeType":"EventDefinition","src":"968:121:65","nodes":[],"anonymous":false,"name":"ChargeInsurance","nameLocation":"974:15:65","parameters":{"id":52962,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52957,"indexed":true,"mutability":"mutable","name":"perp","nameLocation":"1015:4:65","nodeType":"VariableDeclaration","scope":52963,"src":"999:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52956,"name":"address","nodeType":"ElementaryTypeName","src":"999:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52959,"indexed":true,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"1045:16:65","nodeType":"VariableDeclaration","scope":52963,"src":"1029:32:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52958,"name":"address","nodeType":"ElementaryTypeName","src":"1029:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52961,"indexed":false,"mutability":"mutable","name":"fee","nameLocation":"1079:3:65","nodeType":"VariableDeclaration","scope":52963,"src":"1071:11:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52960,"name":"uint256","nodeType":"ElementaryTypeName","src":"1071:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"989:99:65"}},{"id":52971,"nodeType":"EventDefinition","src":"1095:131:65","nodes":[],"anonymous":false,"name":"HandleBadDebt","nameLocation":"1101:13:65","parameters":{"id":52970,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52965,"indexed":true,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"1140:16:65","nodeType":"VariableDeclaration","scope":52971,"src":"1124:32:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52964,"name":"address","nodeType":"ElementaryTypeName","src":"1124:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":52967,"indexed":false,"mutability":"mutable","name":"primaryCredit","nameLocation":"1173:13:65","nodeType":"VariableDeclaration","scope":52971,"src":"1166:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":52966,"name":"int256","nodeType":"ElementaryTypeName","src":"1166:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":52969,"indexed":false,"mutability":"mutable","name":"secondaryCredit","nameLocation":"1204:15:65","nodeType":"VariableDeclaration","scope":52971,"src":"1196:23:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52968,"name":"uint256","nodeType":"ElementaryTypeName","src":"1196:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1114:111:65"}},{"id":53112,"nodeType":"FunctionDefinition","src":"1282:1534:65","nodes":[],"body":{"id":53111,"nodeType":"Block","src":"1565:1251:65","nodes":[],"statements":[{"assignments":[52988],"declarations":[{"constant":false,"id":52988,"mutability":"mutable","name":"netPositionValue","nameLocation":"1582:16:65","nodeType":"VariableDeclaration","scope":53111,"src":"1575:23:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":52987,"name":"int256","nodeType":"ElementaryTypeName","src":"1575:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":52989,"nodeType":"VariableDeclarationStatement","src":"1575:23:65"},{"body":{"id":53092,"nodeType":"Block","src":"1726:930:65","statements":[{"assignments":[53002,53004],"declarations":[{"constant":false,"id":53002,"mutability":"mutable","name":"paperAmount","nameLocation":"1748:11:65","nodeType":"VariableDeclaration","scope":53092,"src":"1741:18:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53001,"name":"int256","nodeType":"ElementaryTypeName","src":"1741:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53004,"mutability":"mutable","name":"creditAmount","nameLocation":"1768:12:65","nodeType":"VariableDeclaration","scope":53092,"src":"1761:19:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53003,"name":"int256","nodeType":"ElementaryTypeName","src":"1761:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53016,"initialValue":{"arguments":[{"id":53014,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52976,"src":"1867:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"baseExpression":{"baseExpression":{"expression":{"id":53006,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52974,"src":"1812:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53007,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"openPositions","nodeType":"MemberAccess","referencedDeclaration":55234,"src":"1812:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_array$_t_address_$dyn_storage_$","typeString":"mapping(address => address[] storage ref)"}},"id":53009,"indexExpression":{"id":53008,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52976,"src":"1832:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1812:27:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":53011,"indexExpression":{"id":53010,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52991,"src":"1840:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1812:30:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53005,"name":"IPerpetual","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52067,"src":"1784:10:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPerpetual_$52067_$","typeString":"type(contract IPerpetual)"}},"id":53012,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1784:72:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPerpetual_$52067","typeString":"contract IPerpetual"}},"id":53013,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":52032,"src":"1784:82:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_int256_$_t_int256_$","typeString":"function (address) view external returns (int256,int256)"}},"id":53015,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1784:90:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$","typeString":"tuple(int256,int256)"}},"nodeType":"VariableDeclarationStatement","src":"1740:134:65"},{"assignments":[53021],"declarations":[{"constant":false,"id":53021,"mutability":"mutable","name":"params","nameLocation":"1913:6:65","nodeType":"VariableDeclaration","scope":53092,"src":"1888:31:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams"},"typeName":{"id":53020,"nodeType":"UserDefinedTypeName","pathNode":{"id":53019,"name":"Types.RiskParams","nodeType":"IdentifierPath","referencedDeclaration":55298,"src":"1888:16:65"},"referencedDeclaration":55298,"src":"1888:16:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams"}},"visibility":"internal"}],"id":53031,"initialValue":{"baseExpression":{"expression":{"id":53022,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52974,"src":"1922:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53023,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"perpRiskParams","nodeType":"MemberAccess","referencedDeclaration":55226,"src":"1922:20:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_RiskParams_$55298_storage_$","typeString":"mapping(address => struct Types.RiskParams storage ref)"}},"id":53030,"indexExpression":{"baseExpression":{"baseExpression":{"expression":{"id":53024,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52974,"src":"1960:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53025,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"openPositions","nodeType":"MemberAccess","referencedDeclaration":55234,"src":"1960:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_array$_t_address_$dyn_storage_$","typeString":"mapping(address => address[] storage ref)"}},"id":53027,"indexExpression":{"id":53026,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52976,"src":"1980:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1960:27:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":53029,"indexExpression":{"id":53028,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52991,"src":"1988:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1960:30:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1922:82:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage","typeString":"struct Types.RiskParams storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1888:116:65"},{"assignments":[53033],"declarations":[{"constant":false,"id":53033,"mutability":"mutable","name":"price","nameLocation":"2025:5:65","nodeType":"VariableDeclaration","scope":53092,"src":"2018:12:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53032,"name":"int256","nodeType":"ElementaryTypeName","src":"2018:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53043,"initialValue":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":53037,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53021,"src":"2085:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53038,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"markPriceSource","nodeType":"MemberAccess","referencedDeclaration":55293,"src":"2085:22:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53036,"name":"IMarkPriceSource","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52020,"src":"2068:16:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IMarkPriceSource_$52020_$","typeString":"type(contract IMarkPriceSource)"}},"id":53039,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2068:40:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IMarkPriceSource_$52020","typeString":"contract IMarkPriceSource"}},"id":53040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getMarkPrice","nodeType":"MemberAccess","referencedDeclaration":52019,"src":"2068:53:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53041,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2068:55:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53034,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"2033:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"2033:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53042,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2033:104:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"2018:119:65"},{"expression":{"id":53051,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53044,"name":"netPositionValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52988,"src":"2152:16:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53050,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":53047,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53033,"src":"2195:5:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":53045,"name":"paperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53002,"src":"2172:11:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53046,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":54513,"src":"2172:22:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":53048,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2172:29:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":53049,"name":"creditAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53004,"src":"2204:12:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2172:44:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2152:64:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53052,"nodeType":"ExpressionStatement","src":"2152:64:65"},{"assignments":[53054],"declarations":[{"constant":false,"id":53054,"mutability":"mutable","name":"exposureIncrement","nameLocation":"2238:17:65","nodeType":"VariableDeclaration","scope":53092,"src":"2230:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53053,"name":"uint256","nodeType":"ElementaryTypeName","src":"2230:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53061,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53057,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53033,"src":"2281:5:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":53055,"name":"paperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53002,"src":"2258:11:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":54513,"src":"2258:22:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":53058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2258:29:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"abs","nodeType":"MemberAccess","referencedDeclaration":54554,"src":"2258:33:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_uint256_$bound_to$_t_int256_$","typeString":"function (int256) pure returns (uint256)"}},"id":53060,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2258:35:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2230:63:65"},{"expression":{"id":53064,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53062,"name":"exposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52981,"src":"2307:8:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":53063,"name":"exposureIncrement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53054,"src":"2319:17:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2307:29:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53065,"nodeType":"ExpressionStatement","src":"2307:29:65"},{"expression":{"id":53075,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53066,"name":"maintenanceMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52985,"src":"2350:17:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53074,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53070,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53067,"name":"exposureIncrement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53054,"src":"2388:17:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":53068,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53021,"src":"2408:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53069,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"liquidationThreshold","nodeType":"MemberAccess","referencedDeclaration":55287,"src":"2408:27:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2388:47:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53071,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2387:49:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":53072,"name":"Types","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55316,"src":"2455:5:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Types_$55316_$","typeString":"type(library Types)"}},"id":53073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ONE","nodeType":"MemberAccess","referencedDeclaration":55315,"src":"2455:9:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2387:77:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2350:114:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53076,"nodeType":"ExpressionStatement","src":"2350:114:65"},{"expression":{"id":53086,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53077,"name":"initialMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52983,"src":"2478:13:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53085,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53081,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53078,"name":"exposureIncrement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53054,"src":"2512:17:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":53079,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53021,"src":"2532:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53080,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"initialMarginRatio","nodeType":"MemberAccess","referencedDeclaration":55285,"src":"2532:25:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2512:45:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53082,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2511:47:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":53083,"name":"Types","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55316,"src":"2577:5:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Types_$55316_$","typeString":"type(library Types)"}},"id":53084,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ONE","nodeType":"MemberAccess","referencedDeclaration":55315,"src":"2577:9:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2511:75:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2478:108:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53087,"nodeType":"ExpressionStatement","src":"2478:108:65"},{"id":53091,"nodeType":"UncheckedBlock","src":"2600:46:65","statements":[{"expression":{"id":53089,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2628:3:65","subExpression":{"id":53088,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52991,"src":"2630:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53090,"nodeType":"ExpressionStatement","src":"2628:3:65"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52994,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52991,"src":"1684:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"baseExpression":{"expression":{"id":52995,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52974,"src":"1688:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":52996,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"openPositions","nodeType":"MemberAccess","referencedDeclaration":55234,"src":"1688:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_array$_t_address_$dyn_storage_$","typeString":"mapping(address => address[] storage ref)"}},"id":52998,"indexExpression":{"id":52997,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52976,"src":"1708:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1688:27:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":52999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"1688:34:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1684:38:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53093,"initializationExpression":{"assignments":[52991],"declarations":[{"constant":false,"id":52991,"mutability":"mutable","name":"i","nameLocation":"1677:1:65","nodeType":"VariableDeclaration","scope":53093,"src":"1669:9:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52990,"name":"uint256","nodeType":"ElementaryTypeName","src":"1669:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52993,"initialValue":{"hexValue":"30","id":52992,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1681:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1669:13:65"},"nodeType":"ForStatement","src":"1664:992:65"},{"expression":{"id":53109,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53094,"name":"netValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52979,"src":"2665:8:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53095,"name":"netPositionValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52988,"src":"2688:16:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"baseExpression":{"expression":{"id":53096,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52974,"src":"2719:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53097,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"primaryCredit","nodeType":"MemberAccess","referencedDeclaration":55191,"src":"2719:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_int256_$","typeString":"mapping(address => int256)"}},"id":53099,"indexExpression":{"id":53098,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52976,"src":"2739:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2719:27:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2688:58:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"baseExpression":{"expression":{"id":53103,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52974,"src":"2779:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53104,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondaryCredit","nodeType":"MemberAccess","referencedDeclaration":55195,"src":"2779:21:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53106,"indexExpression":{"id":53105,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52976,"src":"2801:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2779:29:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53101,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"2761:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"2761:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53107,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2761:48:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2688:121:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2665:144:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53110,"nodeType":"ExpressionStatement","src":"2665:144:65"}]},"functionSelector":"471bd8a0","implemented":true,"kind":"function","modifiers":[],"name":"getTotalExposure","nameLocation":"1291:16:65","parameters":{"id":52977,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52974,"mutability":"mutable","name":"state","nameLocation":"1337:5:65","nodeType":"VariableDeclaration","scope":53112,"src":"1317:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":52973,"nodeType":"UserDefinedTypeName","pathNode":{"id":52972,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"1317:11:65"},"referencedDeclaration":55267,"src":"1317:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":52976,"mutability":"mutable","name":"trader","nameLocation":"1360:6:65","nodeType":"VariableDeclaration","scope":53112,"src":"1352:14:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":52975,"name":"address","nodeType":"ElementaryTypeName","src":"1352:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1307:65:65"},"returnParameters":{"id":52986,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52979,"mutability":"mutable","name":"netValue","nameLocation":"1438:8:65","nodeType":"VariableDeclaration","scope":53112,"src":"1431:15:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":52978,"name":"int256","nodeType":"ElementaryTypeName","src":"1431:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":52981,"mutability":"mutable","name":"exposure","nameLocation":"1468:8:65","nodeType":"VariableDeclaration","scope":53112,"src":"1460:16:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52980,"name":"uint256","nodeType":"ElementaryTypeName","src":"1460:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52983,"mutability":"mutable","name":"initialMargin","nameLocation":"1498:13:65","nodeType":"VariableDeclaration","scope":53112,"src":"1490:21:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52982,"name":"uint256","nodeType":"ElementaryTypeName","src":"1490:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52985,"mutability":"mutable","name":"maintenanceMargin","nameLocation":"1533:17:65","nodeType":"VariableDeclaration","scope":53112,"src":"1525:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52984,"name":"uint256","nodeType":"ElementaryTypeName","src":"1525:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1417:143:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":53139,"nodeType":"FunctionDefinition","src":"2822:311:65","nodes":[],"body":{"id":53138,"nodeType":"Block","src":"2935:198:65","nodes":[],"statements":[{"assignments":[53123,null,null,53125],"declarations":[{"constant":false,"id":53123,"mutability":"mutable","name":"netValue","nameLocation":"2953:8:65","nodeType":"VariableDeclaration","scope":53138,"src":"2946:15:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53122,"name":"int256","nodeType":"ElementaryTypeName","src":"2946:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},null,null,{"constant":false,"id":53125,"mutability":"mutable","name":"maintenanceMargin","nameLocation":"2975:17:65","nodeType":"VariableDeclaration","scope":53138,"src":"2967:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53124,"name":"uint256","nodeType":"ElementaryTypeName","src":"2967:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53130,"initialValue":{"arguments":[{"id":53127,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53115,"src":"3026:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},{"id":53128,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53117,"src":"3045:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":53126,"name":"getTotalExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53112,"src":"2996:16:65","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_State_$55267_storage_ptr_$_t_address_$returns$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (struct Types.State storage pointer,address) view returns (int256,uint256,uint256,uint256)"}},"id":53129,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2996:65:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(int256,uint256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"2945:116:65"},{"expression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53136,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53131,"name":"netValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53123,"src":"3078:8:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"arguments":[{"id":53134,"name":"maintenanceMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53125,"src":"3108:17:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53132,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"3090:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"3090:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53135,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3090:36:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3078:48:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":53121,"id":53137,"nodeType":"Return","src":"3071:55:65"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_isMMSafe","nameLocation":"2831:9:65","parameters":{"id":53118,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53115,"mutability":"mutable","name":"state","nameLocation":"2870:5:65","nodeType":"VariableDeclaration","scope":53139,"src":"2850:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53114,"nodeType":"UserDefinedTypeName","pathNode":{"id":53113,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"2850:11:65"},"referencedDeclaration":55267,"src":"2850:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53117,"mutability":"mutable","name":"trader","nameLocation":"2893:6:65","nodeType":"VariableDeclaration","scope":53139,"src":"2885:14:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53116,"name":"address","nodeType":"ElementaryTypeName","src":"2885:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2840:65:65"},"returnParameters":{"id":53121,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53120,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53139,"src":"2929:4:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53119,"name":"bool","nodeType":"ElementaryTypeName","src":"2929:4:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2928:6:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":53166,"nodeType":"FunctionDefinition","src":"3139:303:65","nodes":[],"body":{"id":53165,"nodeType":"Block","src":"3252:190:65","nodes":[],"statements":[{"assignments":[53150,null,53152,null],"declarations":[{"constant":false,"id":53150,"mutability":"mutable","name":"netValue","nameLocation":"3270:8:65","nodeType":"VariableDeclaration","scope":53165,"src":"3263:15:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53149,"name":"int256","nodeType":"ElementaryTypeName","src":"3263:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},null,{"constant":false,"id":53152,"mutability":"mutable","name":"initialMargin","nameLocation":"3290:13:65","nodeType":"VariableDeclaration","scope":53165,"src":"3282:21:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53151,"name":"uint256","nodeType":"ElementaryTypeName","src":"3282:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null],"id":53157,"initialValue":{"arguments":[{"id":53154,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53142,"src":"3339:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},{"id":53155,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53144,"src":"3358:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":53153,"name":"getTotalExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53112,"src":"3309:16:65","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_State_$55267_storage_ptr_$_t_address_$returns$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (struct Types.State storage pointer,address) view returns (int256,uint256,uint256,uint256)"}},"id":53156,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3309:65:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(int256,uint256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"3262:112:65"},{"expression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53158,"name":"netValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53150,"src":"3391:8:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"arguments":[{"id":53161,"name":"initialMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53152,"src":"3421:13:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53159,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"3403:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53160,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"3403:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53162,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3403:32:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3391:44:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":53148,"id":53164,"nodeType":"Return","src":"3384:51:65"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_isIMSafe","nameLocation":"3148:9:65","parameters":{"id":53145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53142,"mutability":"mutable","name":"state","nameLocation":"3187:5:65","nodeType":"VariableDeclaration","scope":53166,"src":"3167:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53141,"nodeType":"UserDefinedTypeName","pathNode":{"id":53140,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"3167:11:65"},"referencedDeclaration":55267,"src":"3167:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53144,"mutability":"mutable","name":"trader","nameLocation":"3210:6:65","nodeType":"VariableDeclaration","scope":53166,"src":"3202:14:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53143,"name":"address","nodeType":"ElementaryTypeName","src":"3202:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3157:65:65"},"returnParameters":{"id":53148,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53147,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53166,"src":"3246:4:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53146,"name":"bool","nodeType":"ElementaryTypeName","src":"3246:4:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3245:6:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":53206,"nodeType":"FunctionDefinition","src":"3617:400:65","nodes":[],"body":{"id":53205,"nodeType":"Block","src":"3735:282:65","nodes":[],"statements":[{"assignments":[53178,null,53180,null],"declarations":[{"constant":false,"id":53178,"mutability":"mutable","name":"netValue","nameLocation":"3753:8:65","nodeType":"VariableDeclaration","scope":53205,"src":"3746:15:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53177,"name":"int256","nodeType":"ElementaryTypeName","src":"3746:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},null,{"constant":false,"id":53180,"mutability":"mutable","name":"initialMargin","nameLocation":"3773:13:65","nodeType":"VariableDeclaration","scope":53205,"src":"3765:21:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53179,"name":"uint256","nodeType":"ElementaryTypeName","src":"3765:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null],"id":53185,"initialValue":{"arguments":[{"id":53182,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53170,"src":"3822:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},{"id":53183,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53172,"src":"3841:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":53181,"name":"getTotalExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53112,"src":"3792:16:65","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_State_$55267_storage_ptr_$_t_address_$returns$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (struct Types.State storage pointer,address) view returns (int256,uint256,uint256,uint256)"}},"id":53184,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3792:65:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(int256,uint256,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"3745:112:65"},{"expression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53203,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53196,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53186,"name":"netValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53178,"src":"3886:8:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"baseExpression":{"expression":{"id":53189,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53170,"src":"3915:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53190,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondaryCredit","nodeType":"MemberAccess","referencedDeclaration":55195,"src":"3915:21:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53192,"indexExpression":{"id":53191,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53172,"src":"3937:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3915:29:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53187,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"3897:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"3897:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53193,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3897:48:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3886:59:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":53195,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3949:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3886:64:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53197,"name":"netValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53178,"src":"3966:8:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"arguments":[{"id":53200,"name":"initialMargin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53180,"src":"3996:13:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53198,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"3978:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"3978:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53201,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3978:32:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3966:44:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3886:124:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":53176,"id":53204,"nodeType":"Return","src":"3867:143:65"}]},"documentation":{"id":53167,"nodeType":"StructuredDocumentation","src":"3448:164:65","text":"@notice More strict than _isIMSafe.\n Additional requirement: netPositionValue + primaryCredit >= 0\n used when traders transfer out primary credit."},"implemented":true,"kind":"function","modifiers":[],"name":"_isSolidIMSafe","nameLocation":"3626:14:65","parameters":{"id":53173,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53170,"mutability":"mutable","name":"state","nameLocation":"3670:5:65","nodeType":"VariableDeclaration","scope":53206,"src":"3650:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53169,"nodeType":"UserDefinedTypeName","pathNode":{"id":53168,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"3650:11:65"},"referencedDeclaration":55267,"src":"3650:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53172,"mutability":"mutable","name":"trader","nameLocation":"3693:6:65","nodeType":"VariableDeclaration","scope":53206,"src":"3685:14:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53171,"name":"address","nodeType":"ElementaryTypeName","src":"3685:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3640:65:65"},"returnParameters":{"id":53176,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53175,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53206,"src":"3729:4:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53174,"name":"bool","nodeType":"ElementaryTypeName","src":"3729:4:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3728:6:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":53249,"nodeType":"FunctionDefinition","src":"4023:416:65","nodes":[],"body":{"id":53248,"nodeType":"Block","src":"4154:285:65","nodes":[],"statements":[{"body":{"id":53244,"nodeType":"Block","src":"4209:203:65","statements":[{"assignments":[53226],"declarations":[{"constant":false,"id":53226,"mutability":"mutable","name":"trader","nameLocation":"4231:6:65","nodeType":"VariableDeclaration","scope":53244,"src":"4223:14:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53225,"name":"address","nodeType":"ElementaryTypeName","src":"4223:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":53230,"initialValue":{"baseExpression":{"id":53227,"name":"traderList","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53212,"src":"4240:10:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[] calldata"}},"id":53229,"indexExpression":{"id":53228,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53218,"src":"4251:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4240:13:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"4223:30:65"},{"condition":{"id":53235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4271:25:65","subExpression":{"arguments":[{"id":53232,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53209,"src":"4282:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},{"id":53233,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53226,"src":"4289:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":53231,"name":"_isMMSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53139,"src":"4272:9:65","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_State_$55267_storage_ptr_$_t_address_$returns$_t_bool_$","typeString":"function (struct Types.State storage pointer,address) view returns (bool)"}},"id":53234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4272:24:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53239,"nodeType":"IfStatement","src":"4267:76:65","trueBody":{"id":53238,"nodeType":"Block","src":"4298:45:65","statements":[{"expression":{"hexValue":"66616c7365","id":53236,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4323:5:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":53216,"id":53237,"nodeType":"Return","src":"4316:12:65"}]}},{"id":53243,"nodeType":"UncheckedBlock","src":"4356:46:65","statements":[{"expression":{"id":53241,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4384:3:65","subExpression":{"id":53240,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53218,"src":"4386:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53242,"nodeType":"ExpressionStatement","src":"4384:3:65"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53224,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53221,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53218,"src":"4184:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":53222,"name":"traderList","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53212,"src":"4188:10:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[] calldata"}},"id":53223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"4188:17:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4184:21:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53245,"initializationExpression":{"assignments":[53218],"declarations":[{"constant":false,"id":53218,"mutability":"mutable","name":"i","nameLocation":"4177:1:65","nodeType":"VariableDeclaration","scope":53245,"src":"4169:9:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53217,"name":"uint256","nodeType":"ElementaryTypeName","src":"4169:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53220,"initialValue":{"hexValue":"30","id":53219,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4181:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4169:13:65"},"nodeType":"ForStatement","src":"4164:248:65"},{"expression":{"hexValue":"74727565","id":53246,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4428:4:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":53216,"id":53247,"nodeType":"Return","src":"4421:11:65"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_isAllMMSafe","nameLocation":"4032:12:65","parameters":{"id":53213,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53209,"mutability":"mutable","name":"state","nameLocation":"4074:5:65","nodeType":"VariableDeclaration","scope":53249,"src":"4054:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53208,"nodeType":"UserDefinedTypeName","pathNode":{"id":53207,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"4054:11:65"},"referencedDeclaration":55267,"src":"4054:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53212,"mutability":"mutable","name":"traderList","nameLocation":"4108:10:65","nodeType":"VariableDeclaration","scope":53249,"src":"4089:29:65","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":53210,"name":"address","nodeType":"ElementaryTypeName","src":"4089:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":53211,"nodeType":"ArrayTypeName","src":"4089:9:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"4044:80:65"},"returnParameters":{"id":53216,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53215,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53249,"src":"4148:4:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53214,"name":"bool","nodeType":"ElementaryTypeName","src":"4148:4:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4147:6:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":53445,"nodeType":"FunctionDefinition","src":"4616:3531:65","nodes":[],"body":{"id":53444,"nodeType":"Block","src":"4781:3366:65","nodes":[],"statements":[{"assignments":[53263],"declarations":[{"constant":false,"id":53263,"mutability":"mutable","name":"maintenanceMarginPrime","nameLocation":"6364:22:65","nodeType":"VariableDeclaration","scope":53444,"src":"6357:29:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53262,"name":"int256","nodeType":"ElementaryTypeName","src":"6357:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53264,"nodeType":"VariableDeclarationStatement","src":"6357:29:65"},{"assignments":[53266],"declarations":[{"constant":false,"id":53266,"mutability":"mutable","name":"netValuePrime","nameLocation":"6403:13:65","nodeType":"VariableDeclaration","scope":53444,"src":"6396:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53265,"name":"int256","nodeType":"ElementaryTypeName","src":"6396:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53279,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53278,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"expression":{"id":53267,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53253,"src":"6419:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53268,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"primaryCredit","nodeType":"MemberAccess","referencedDeclaration":55191,"src":"6419:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_int256_$","typeString":"mapping(address => int256)"}},"id":53270,"indexExpression":{"id":53269,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53255,"src":"6439:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6419:27:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"baseExpression":{"expression":{"id":53273,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53253,"src":"6479:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53274,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondaryCredit","nodeType":"MemberAccess","referencedDeclaration":55195,"src":"6479:21:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53276,"indexExpression":{"id":53275,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53255,"src":"6501:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6479:29:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53271,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"6461:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53272,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"6461:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53277,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6461:48:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6419:90:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"6396:113:65"},{"body":{"id":53370,"nodeType":"Block","src":"6581:888:65","statements":[{"assignments":[53292],"declarations":[{"constant":false,"id":53292,"mutability":"mutable","name":"p","nameLocation":"6603:1:65","nodeType":"VariableDeclaration","scope":53370,"src":"6595:9:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53291,"name":"address","nodeType":"ElementaryTypeName","src":"6595:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":53299,"initialValue":{"baseExpression":{"baseExpression":{"expression":{"id":53293,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53253,"src":"6607:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53294,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"openPositions","nodeType":"MemberAccess","referencedDeclaration":55234,"src":"6607:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_array$_t_address_$dyn_storage_$","typeString":"mapping(address => address[] storage ref)"}},"id":53296,"indexExpression":{"id":53295,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53255,"src":"6627:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6607:27:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":53298,"indexExpression":{"id":53297,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53281,"src":"6635:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6607:30:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6595:42:65"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53300,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53257,"src":"6655:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":53301,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53292,"src":"6663:1:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6655:9:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53365,"nodeType":"IfStatement","src":"6651:749:65","trueBody":{"id":53364,"nodeType":"Block","src":"6666:734:65","statements":[{"assignments":[53304,53306],"declarations":[{"constant":false,"id":53304,"mutability":"mutable","name":"paperAmountPrime","nameLocation":"6713:16:65","nodeType":"VariableDeclaration","scope":53364,"src":"6706:23:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53303,"name":"int256","nodeType":"ElementaryTypeName","src":"6706:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53306,"mutability":"mutable","name":"creditAmountPrime","nameLocation":"6758:17:65","nodeType":"VariableDeclaration","scope":53364,"src":"6751:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53305,"name":"int256","nodeType":"ElementaryTypeName","src":"6751:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53313,"initialValue":{"arguments":[{"id":53311,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53255,"src":"6820:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53308,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53292,"src":"6807:1:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53307,"name":"IPerpetual","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52067,"src":"6796:10:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPerpetual_$52067_$","typeString":"type(contract IPerpetual)"}},"id":53309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6796:13:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPerpetual_$52067","typeString":"contract IPerpetual"}},"id":53310,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":52032,"src":"6796:23:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_int256_$_t_int256_$","typeString":"function (address) view external returns (int256,int256)"}},"id":53312,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6796:31:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$","typeString":"tuple(int256,int256)"}},"nodeType":"VariableDeclarationStatement","src":"6684:143:65"},{"assignments":[53318],"declarations":[{"constant":false,"id":53318,"mutability":"mutable","name":"params","nameLocation":"6870:6:65","nodeType":"VariableDeclaration","scope":53364,"src":"6845:31:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams"},"typeName":{"id":53317,"nodeType":"UserDefinedTypeName","pathNode":{"id":53316,"name":"Types.RiskParams","nodeType":"IdentifierPath","referencedDeclaration":55298,"src":"6845:16:65"},"referencedDeclaration":55298,"src":"6845:16:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams"}},"visibility":"internal"}],"id":53323,"initialValue":{"baseExpression":{"expression":{"id":53319,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53253,"src":"6879:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53320,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"perpRiskParams","nodeType":"MemberAccess","referencedDeclaration":55226,"src":"6879:20:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_RiskParams_$55298_storage_$","typeString":"mapping(address => struct Types.RiskParams storage ref)"}},"id":53322,"indexExpression":{"id":53321,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53292,"src":"6900:1:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6879:23:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage","typeString":"struct Types.RiskParams storage ref"}},"nodeType":"VariableDeclarationStatement","src":"6845:57:65"},{"assignments":[53325],"declarations":[{"constant":false,"id":53325,"mutability":"mutable","name":"price","nameLocation":"6927:5:65","nodeType":"VariableDeclaration","scope":53364,"src":"6920:12:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53324,"name":"int256","nodeType":"ElementaryTypeName","src":"6920:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53335,"initialValue":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":53329,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53318,"src":"6991:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53330,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"markPriceSource","nodeType":"MemberAccess","referencedDeclaration":55293,"src":"6991:22:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53328,"name":"IMarkPriceSource","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52020,"src":"6974:16:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IMarkPriceSource_$52020_$","typeString":"type(contract IMarkPriceSource)"}},"id":53331,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6974:40:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IMarkPriceSource_$52020","typeString":"contract IMarkPriceSource"}},"id":53332,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getMarkPrice","nodeType":"MemberAccess","referencedDeclaration":52019,"src":"6974:53:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6974:55:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53326,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"6935:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53327,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"6935:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53334,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6935:112:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"6920:127:65"},{"expression":{"id":53343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53336,"name":"netValuePrime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53266,"src":"7065:13:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":53339,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53325,"src":"7130:5:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":53337,"name":"paperAmountPrime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53304,"src":"7102:16:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":54513,"src":"7102:27:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":53340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7102:34:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":53341,"name":"creditAmountPrime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53306,"src":"7159:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7102:74:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7065:111:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53344,"nodeType":"ExpressionStatement","src":"7065:111:65"},{"expression":{"id":53362,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53345,"name":"maintenanceMarginPrime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53263,"src":"7194:22:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53350,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53325,"src":"7288:5:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":53348,"name":"paperAmountPrime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53304,"src":"7260:16:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53349,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":54513,"src":"7260:27:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":53351,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7260:34:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53352,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"abs","nodeType":"MemberAccess","referencedDeclaration":54554,"src":"7260:38:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_uint256_$bound_to$_t_int256_$","typeString":"function (int256) pure returns (uint256)"}},"id":53353,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7260:40:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":53354,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53318,"src":"7327:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53355,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"liquidationThreshold","nodeType":"MemberAccess","referencedDeclaration":55287,"src":"7327:27:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7260:94:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53357,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7259:96:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":53358,"name":"Types","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55316,"src":"7358:5:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Types_$55316_$","typeString":"type(library Types)"}},"id":53359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ONE","nodeType":"MemberAccess","referencedDeclaration":55315,"src":"7358:9:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7259:108:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53346,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"7220:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"7220:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53361,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7220:165:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7194:191:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53363,"nodeType":"ExpressionStatement","src":"7194:191:65"}]}},{"id":53369,"nodeType":"UncheckedBlock","src":"7413:46:65","statements":[{"expression":{"id":53367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"7441:3:65","subExpression":{"id":53366,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53281,"src":"7443:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53368,"nodeType":"ExpressionStatement","src":"7441:3:65"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53290,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53284,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53281,"src":"6539:1:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"baseExpression":{"expression":{"id":53285,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53253,"src":"6543:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53286,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"openPositions","nodeType":"MemberAccess","referencedDeclaration":55234,"src":"6543:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_array$_t_address_$dyn_storage_$","typeString":"mapping(address => address[] storage ref)"}},"id":53288,"indexExpression":{"id":53287,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53255,"src":"6563:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6543:27:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":53289,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"6543:34:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6539:38:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53371,"initializationExpression":{"assignments":[53281],"declarations":[{"constant":false,"id":53281,"mutability":"mutable","name":"i","nameLocation":"6532:1:65","nodeType":"VariableDeclaration","scope":53371,"src":"6524:9:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53280,"name":"uint256","nodeType":"ElementaryTypeName","src":"6524:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53283,"initialValue":{"hexValue":"30","id":53282,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6536:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"6524:13:65"},"nodeType":"ForStatement","src":"6519:950:65"},{"assignments":[53373,53375],"declarations":[{"constant":false,"id":53373,"mutability":"mutable","name":"paperAmount","nameLocation":"7486:11:65","nodeType":"VariableDeclaration","scope":53444,"src":"7479:18:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53372,"name":"int256","nodeType":"ElementaryTypeName","src":"7479:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53375,"mutability":"mutable","name":"creditAmount","nameLocation":"7506:12:65","nodeType":"VariableDeclaration","scope":53444,"src":"7499:19:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53374,"name":"int256","nodeType":"ElementaryTypeName","src":"7499:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53382,"initialValue":{"arguments":[{"id":53380,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53255,"src":"7562:6:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53377,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53257,"src":"7533:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53376,"name":"IPerpetual","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52067,"src":"7522:10:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPerpetual_$52067_$","typeString":"type(contract IPerpetual)"}},"id":53378,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7522:16:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPerpetual_$52067","typeString":"contract IPerpetual"}},"id":53379,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":52032,"src":"7522:26:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_int256_$_t_int256_$","typeString":"function (address) view external returns (int256,int256)"}},"id":53381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7522:56:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$","typeString":"tuple(int256,int256)"}},"nodeType":"VariableDeclarationStatement","src":"7478:100:65"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53383,"name":"paperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53373,"src":"7592:11:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53384,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7607:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7592:16:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53389,"nodeType":"IfStatement","src":"7588:55:65","trueBody":{"id":53388,"nodeType":"Block","src":"7610:33:65","statements":[{"expression":{"hexValue":"30","id":53386,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7631:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":53261,"id":53387,"nodeType":"Return","src":"7624:8:65"}]}},{"assignments":[53391],"declarations":[{"constant":false,"id":53391,"mutability":"mutable","name":"multiplier","nameLocation":"7659:10:65","nodeType":"VariableDeclaration","scope":53444,"src":"7652:17:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53390,"name":"int256","nodeType":"ElementaryTypeName","src":"7652:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53418,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53394,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53392,"name":"paperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53373,"src":"7672:11:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53393,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7686:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7672:15:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53415,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":53408,"name":"Types","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55316,"src":"7860:5:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Types_$55316_$","typeString":"type(library Types)"}},"id":53409,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ONE","nodeType":"MemberAccess","referencedDeclaration":55315,"src":"7860:9:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"baseExpression":{"expression":{"id":53410,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53253,"src":"7872:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53411,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"perpRiskParams","nodeType":"MemberAccess","referencedDeclaration":55226,"src":"7872:20:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_RiskParams_$55298_storage_$","typeString":"mapping(address => struct Types.RiskParams storage ref)"}},"id":53413,"indexExpression":{"id":53412,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53257,"src":"7893:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7872:26:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage","typeString":"struct Types.RiskParams storage ref"}},"id":53414,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"liquidationThreshold","nodeType":"MemberAccess","referencedDeclaration":55287,"src":"7872:47:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7860:59:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53406,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"7825:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53407,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"7825:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53416,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7825:108:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53417,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"7672:261:65","trueExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":53397,"name":"Types","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55316,"src":"7737:5:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Types_$55316_$","typeString":"type(library Types)"}},"id":53398,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ONE","nodeType":"MemberAccess","referencedDeclaration":55315,"src":"7737:9:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"baseExpression":{"expression":{"id":53399,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53253,"src":"7749:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53400,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"perpRiskParams","nodeType":"MemberAccess","referencedDeclaration":55226,"src":"7749:20:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_RiskParams_$55298_storage_$","typeString":"mapping(address => struct Types.RiskParams storage ref)"}},"id":53402,"indexExpression":{"id":53401,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53257,"src":"7770:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7749:26:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage","typeString":"struct Types.RiskParams storage ref"}},"id":53403,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"liquidationThreshold","nodeType":"MemberAccess","referencedDeclaration":55287,"src":"7749:47:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7737:59:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53395,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"7702:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"7702:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7702:108:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7652:281:65"},{"assignments":[53420],"declarations":[{"constant":false,"id":53420,"mutability":"mutable","name":"liqPrice","nameLocation":"7950:8:65","nodeType":"VariableDeclaration","scope":53444,"src":"7943:15:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53419,"name":"int256","nodeType":"ElementaryTypeName","src":"7943:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53433,"initialValue":{"arguments":[{"id":53431,"name":"multiplier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53391,"src":"8076:10:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"arguments":[{"id":53428,"name":"paperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53373,"src":"8052:11:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53425,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53421,"name":"maintenanceMarginPrime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53263,"src":"7962:22:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53422,"name":"netValuePrime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53266,"src":"7999:13:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7962:50:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53424,"name":"creditAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53375,"src":"8027:12:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7962:77:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"id":53426,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7961:79:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53427,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalDiv","nodeType":"MemberAccess","referencedDeclaration":54530,"src":"7961:90:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":53429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7961:103:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalDiv","nodeType":"MemberAccess","referencedDeclaration":54530,"src":"7961:114:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":53432,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7961:126:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7943:144:65"},{"expression":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53434,"name":"liqPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53420,"src":"8104:8:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":53435,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8115:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8104:12:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":53440,"name":"liqPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53420,"src":"8131:8:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":53439,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8123:7:65","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":53438,"name":"uint256","nodeType":"ElementaryTypeName","src":"8123:7:65","typeDescriptions":{}}},"id":53441,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8123:17:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8104:36:65","trueExpression":{"hexValue":"30","id":53437,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8119:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53261,"id":53443,"nodeType":"Return","src":"8097:43:65"}]},"documentation":{"id":53250,"nodeType":"StructuredDocumentation","src":"4445:166:65","text":"@return liquidationPrice It should be considered as the position can never be\n liquidated (absolutely safe) or being liquidated at the present if return 0."},"functionSelector":"8bb9082c","implemented":true,"kind":"function","modifiers":[],"name":"getLiquidationPrice","nameLocation":"4625:19:65","parameters":{"id":53258,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53253,"mutability":"mutable","name":"state","nameLocation":"4674:5:65","nodeType":"VariableDeclaration","scope":53445,"src":"4654:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53252,"nodeType":"UserDefinedTypeName","pathNode":{"id":53251,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"4654:11:65"},"referencedDeclaration":55267,"src":"4654:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53255,"mutability":"mutable","name":"trader","nameLocation":"4697:6:65","nodeType":"VariableDeclaration","scope":53445,"src":"4689:14:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53254,"name":"address","nodeType":"ElementaryTypeName","src":"4689:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53257,"mutability":"mutable","name":"perp","nameLocation":"4721:4:65","nodeType":"VariableDeclaration","scope":53445,"src":"4713:12:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53256,"name":"address","nodeType":"ElementaryTypeName","src":"4713:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4644:87:65"},"returnParameters":{"id":53261,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53260,"mutability":"mutable","name":"liquidationPrice","nameLocation":"4763:16:65","nodeType":"VariableDeclaration","scope":53445,"src":"4755:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53259,"name":"uint256","nodeType":"ElementaryTypeName","src":"4755:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4754:26:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":53584,"nodeType":"FunctionDefinition","src":"8313:1617:65","nodes":[],"body":{"id":53583,"nodeType":"Block","src":"8649:1281:65","nodes":[],"statements":[{"expression":{"arguments":[{"id":53469,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8710:35:65","subExpression":{"arguments":[{"id":53466,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53449,"src":"8721:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},{"id":53467,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53453,"src":"8728:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":53465,"name":"_isMMSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53139,"src":"8711:9:65","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_State_$55267_storage_ptr_$_t_address_$returns$_t_bool_$","typeString":"function (struct Types.State storage pointer,address) view returns (bool)"}},"id":53468,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8711:34:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":53470,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52288,"src":"8747:6:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Errors_$52288_$","typeString":"type(library Errors)"}},"id":53471,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ACCOUNT_IS_SAFE","nodeType":"MemberAccess","referencedDeclaration":52254,"src":"8747:22:65","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":53464,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8702:7:65","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":53472,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8702:68:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53473,"nodeType":"ExpressionStatement","src":"8702:68:65"},{"assignments":[53475,null],"declarations":[{"constant":false,"id":53475,"mutability":"mutable","name":"brokenPaperAmount","nameLocation":"8858:17:65","nodeType":"VariableDeclaration","scope":53583,"src":"8851:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53474,"name":"int256","nodeType":"ElementaryTypeName","src":"8851:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},null],"id":53482,"initialValue":{"arguments":[{"id":53480,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53453,"src":"8921:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":53477,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53451,"src":"8892:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53476,"name":"IPerpetual","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52067,"src":"8881:10:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IPerpetual_$52067_$","typeString":"type(contract IPerpetual)"}},"id":53478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8881:16:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IPerpetual_$52067","typeString":"contract IPerpetual"}},"id":53479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":52032,"src":"8881:26:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_int256_$_t_int256_$","typeString":"function (address) view external returns (int256,int256)"}},"id":53481,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8881:66:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$","typeString":"tuple(int256,int256)"}},"nodeType":"VariableDeclarationStatement","src":"8850:97:65"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53484,"name":"brokenPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53475,"src":"8965:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":53485,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8986:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8965:22:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":53487,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52288,"src":"8989:6:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Errors_$52288_$","typeString":"type(library Errors)"}},"id":53488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"TRADER_HAS_NO_POSITION","nodeType":"MemberAccess","referencedDeclaration":52260,"src":"8989:29:65","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":53483,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8957:7:65","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":53489,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8957:62:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53490,"nodeType":"ExpressionStatement","src":"8957:62:65"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53496,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53494,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53492,"name":"requestPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53455,"src":"9050:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":53493,"name":"brokenPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53475,"src":"9071:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"9050:38:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53495,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9091:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9050:42:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":53497,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52288,"src":"9106:6:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Errors_$52288_$","typeString":"type(library Errors)"}},"id":53498,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"LIQUIDATION_REQUEST_AMOUNT_WRONG","nodeType":"MemberAccess","referencedDeclaration":52272,"src":"9106:39:65","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":53491,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"9029:7:65","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":53499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9029:126:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53500,"nodeType":"ExpressionStatement","src":"9029:126:65"},{"expression":{"id":53512,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53501,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53458,"src":"9165:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53508,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53502,"name":"requestPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53455,"src":"9185:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53503,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"abs","nodeType":"MemberAccess","referencedDeclaration":54554,"src":"9185:22:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_uint256_$bound_to$_t_int256_$","typeString":"function (int256) pure returns (uint256)"}},"id":53504,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9185:24:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53505,"name":"brokenPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53475,"src":"9212:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"abs","nodeType":"MemberAccess","referencedDeclaration":54554,"src":"9212:21:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_uint256_$bound_to$_t_int256_$","typeString":"function (int256) pure returns (uint256)"}},"id":53507,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9212:23:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9185:50:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":53510,"name":"requestPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53455,"src":"9282:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53511,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"9185:115:65","trueExpression":{"id":53509,"name":"brokenPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53475,"src":"9250:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"9165:135:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53513,"nodeType":"ExpressionStatement","src":"9165:135:65"},{"assignments":[53518],"declarations":[{"constant":false,"id":53518,"mutability":"mutable","name":"params","nameLocation":"9357:6:65","nodeType":"VariableDeclaration","scope":53583,"src":"9332:31:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams"},"typeName":{"id":53517,"nodeType":"UserDefinedTypeName","pathNode":{"id":53516,"name":"Types.RiskParams","nodeType":"IdentifierPath","referencedDeclaration":55298,"src":"9332:16:65"},"referencedDeclaration":55298,"src":"9332:16:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams"}},"visibility":"internal"}],"id":53523,"initialValue":{"baseExpression":{"expression":{"id":53519,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53449,"src":"9366:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53520,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"perpRiskParams","nodeType":"MemberAccess","referencedDeclaration":55226,"src":"9366:20:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_RiskParams_$55298_storage_$","typeString":"mapping(address => struct Types.RiskParams storage ref)"}},"id":53522,"indexExpression":{"id":53521,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53451,"src":"9387:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9366:26:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage","typeString":"struct Types.RiskParams storage ref"}},"nodeType":"VariableDeclarationStatement","src":"9332:60:65"},{"assignments":[53525],"declarations":[{"constant":false,"id":53525,"mutability":"mutable","name":"price","nameLocation":"9410:5:65","nodeType":"VariableDeclaration","scope":53583,"src":"9402:13:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53524,"name":"uint256","nodeType":"ElementaryTypeName","src":"9402:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53532,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":53527,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53518,"src":"9435:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53528,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"markPriceSource","nodeType":"MemberAccess","referencedDeclaration":55293,"src":"9435:22:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53526,"name":"IMarkPriceSource","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52020,"src":"9418:16:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IMarkPriceSource_$52020_$","typeString":"type(contract IMarkPriceSource)"}},"id":53529,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9418:40:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IMarkPriceSource_$52020","typeString":"contract IMarkPriceSource"}},"id":53530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getMarkPrice","nodeType":"MemberAccess","referencedDeclaration":52019,"src":"9418:53:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53531,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9418:55:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9402:71:65"},{"assignments":[53534],"declarations":[{"constant":false,"id":53534,"mutability":"mutable","name":"priceOffset","nameLocation":"9491:11:65","nodeType":"VariableDeclaration","scope":53583,"src":"9483:19:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53533,"name":"uint256","nodeType":"ElementaryTypeName","src":"9483:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53543,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53538,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53535,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53525,"src":"9506:5:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":53536,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53518,"src":"9514:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53537,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"liquidationPriceOff","nodeType":"MemberAccess","referencedDeclaration":55289,"src":"9514:26:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9506:34:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53539,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9505:36:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":53540,"name":"Types","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55316,"src":"9544:5:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Types_$55316_$","typeString":"type(library Types)"}},"id":53541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ONE","nodeType":"MemberAccess","referencedDeclaration":55315,"src":"9544:9:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9505:48:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9483:70:65"},{"expression":{"id":53555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53544,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53525,"src":"9563:5:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53545,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53458,"src":"9571:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53546,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9591:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9571:21:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53553,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53551,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53525,"src":"9641:5:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":53552,"name":"priceOffset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53534,"src":"9649:11:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9641:19:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"9571:89:65","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53550,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53548,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53525,"src":"9607:5:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53549,"name":"priceOffset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53534,"src":"9615:11:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9607:19:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9563:97:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53556,"nodeType":"ExpressionStatement","src":"9563:97:65"},{"expression":{"id":53568,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53557,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53460,"src":"9706:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53559,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9739:2:65","subExpression":{"hexValue":"31","id":53558,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9740:1:65","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_rational_minus_1_by_1","typeString":"int_const -1"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[{"arguments":[{"id":53564,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53525,"src":"9803:5:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53562,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"9785:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"9785:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53565,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9785:24:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":53560,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53458,"src":"9756:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":54513,"src":"9756:28:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":53566,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9756:54:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"9739:71:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"9706:104:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53569,"nodeType":"ExpressionStatement","src":"9706:104:65"},{"expression":{"id":53581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53570,"name":"insuranceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53462,"src":"9820:12:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53571,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53460,"src":"9848:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"abs","nodeType":"MemberAccess","referencedDeclaration":54554,"src":"9848:22:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_uint256_$bound_to$_t_int256_$","typeString":"function (int256) pure returns (uint256)"}},"id":53573,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9848:24:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":53574,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53518,"src":"9875:6:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage_ptr","typeString":"struct Types.RiskParams storage pointer"}},"id":53575,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"insuranceFeeRate","nodeType":"MemberAccess","referencedDeclaration":55291,"src":"9875:23:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9848:50:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53577,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9847:52:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"expression":{"id":53578,"name":"Types","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55316,"src":"9914:5:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Types_$55316_$","typeString":"type(library Types)"}},"id":53579,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"ONE","nodeType":"MemberAccess","referencedDeclaration":55315,"src":"9914:9:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9847:76:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9820:103:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53582,"nodeType":"ExpressionStatement","src":"9820:103:65"}]},"documentation":{"id":53446,"nodeType":"StructuredDocumentation","src":"8153:155:65","text":"@notice Using a fixed discount price model.\n Charge fee from liquidated trader.\n Will limit you liquidation request to the position size."},"functionSelector":"a67da8b0","implemented":true,"kind":"function","modifiers":[],"name":"getLiquidateCreditAmount","nameLocation":"8322:24:65","parameters":{"id":53456,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53449,"mutability":"mutable","name":"state","nameLocation":"8376:5:65","nodeType":"VariableDeclaration","scope":53584,"src":"8356:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53448,"nodeType":"UserDefinedTypeName","pathNode":{"id":53447,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"8356:11:65"},"referencedDeclaration":55267,"src":"8356:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53451,"mutability":"mutable","name":"perp","nameLocation":"8399:4:65","nodeType":"VariableDeclaration","scope":53584,"src":"8391:12:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53450,"name":"address","nodeType":"ElementaryTypeName","src":"8391:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53453,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"8421:16:65","nodeType":"VariableDeclaration","scope":53584,"src":"8413:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53452,"name":"address","nodeType":"ElementaryTypeName","src":"8413:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53455,"mutability":"mutable","name":"requestPaperAmount","nameLocation":"8454:18:65","nodeType":"VariableDeclaration","scope":53584,"src":"8447:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53454,"name":"int256","nodeType":"ElementaryTypeName","src":"8447:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"8346:132:65"},"returnParameters":{"id":53463,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53458,"mutability":"mutable","name":"liqtorPaperChange","nameLocation":"8544:17:65","nodeType":"VariableDeclaration","scope":53584,"src":"8537:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53457,"name":"int256","nodeType":"ElementaryTypeName","src":"8537:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53460,"mutability":"mutable","name":"liqtorCreditChange","nameLocation":"8582:18:65","nodeType":"VariableDeclaration","scope":53584,"src":"8575:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53459,"name":"int256","nodeType":"ElementaryTypeName","src":"8575:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53462,"mutability":"mutable","name":"insuranceFee","nameLocation":"8622:12:65","nodeType":"VariableDeclaration","scope":53584,"src":"8614:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53461,"name":"uint256","nodeType":"ElementaryTypeName","src":"8614:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8523:121:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":53720,"nodeType":"FunctionDefinition","src":"9982:1893:65","nodes":[],"body":{"id":53719,"nodeType":"Block","src":"10396:1479:65","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53612,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53610,"name":"executor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53592,"src":"10427:8:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":53611,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53594,"src":"10439:10:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10427:22:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"baseExpression":{"baseExpression":{"expression":{"id":53613,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53588,"src":"10469:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53614,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"operatorRegistry","nodeType":"MemberAccess","referencedDeclaration":55260,"src":"10469:22:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_bool_$_$","typeString":"mapping(address => mapping(address => bool))"}},"id":53616,"indexExpression":{"id":53615,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53594,"src":"10492:10:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10469:34:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":53618,"indexExpression":{"id":53617,"name":"executor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53592,"src":"10504:8:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10469:44:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"10427:86:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":53620,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52288,"src":"10527:6:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Errors_$52288_$","typeString":"type(library Errors)"}},"id":53621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"INVALID_LIQUIDATION_EXECUTOR","nodeType":"MemberAccess","referencedDeclaration":52227,"src":"10527:35:65","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":53609,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"10406:7:65","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":53622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10406:166:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53623,"nodeType":"ExpressionStatement","src":"10406:166:65"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":53627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53625,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53596,"src":"10603:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":53626,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53594,"src":"10623:10:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10603:30:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"expression":{"id":53628,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52288,"src":"10647:6:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Errors_$52288_$","typeString":"type(library Errors)"}},"id":53629,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"SELF_LIQUIDATION_NOT_ALLOWED","nodeType":"MemberAccess","referencedDeclaration":52275,"src":"10647:35:65","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":53624,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"10582:7:65","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":53630,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10582:110:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53631,"nodeType":"ExpressionStatement","src":"10582:110:65"},{"assignments":[53633],"declarations":[{"constant":false,"id":53633,"mutability":"mutable","name":"insuranceFee","nameLocation":"10710:12:65","nodeType":"VariableDeclaration","scope":53719,"src":"10702:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53632,"name":"uint256","nodeType":"ElementaryTypeName","src":"10702:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53634,"nodeType":"VariableDeclarationStatement","src":"10702:20:65"},{"expression":{"id":53645,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":53635,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"10746:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53636,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53603,"src":"10777:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53637,"name":"insuranceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53633,"src":"10809:12:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":53638,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"10732:99:65","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$_t_uint256_$","typeString":"tuple(int256,int256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":53640,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53588,"src":"10872:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},{"id":53641,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53590,"src":"10891:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53642,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53596,"src":"10909:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53643,"name":"requestPaperAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53598,"src":"10939:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":53639,"name":"getLiquidateCreditAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53584,"src":"10834:24:65","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_State_$55267_storage_ptr_$_t_address_$_t_address_$_t_int256_$returns$_t_int256_$_t_int256_$_t_uint256_$","typeString":"function (struct Types.State storage pointer,address,address,int256) view returns (int256,int256,uint256)"}},"id":53644,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10834:133:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$_t_uint256_$","typeString":"tuple(int256,int256,uint256)"}},"src":"10732:235:65","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53646,"nodeType":"ExpressionStatement","src":"10732:235:65"},{"expression":{"id":53657,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":53647,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53588,"src":"10977:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53651,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"primaryCredit","nodeType":"MemberAccess","referencedDeclaration":55191,"src":"10977:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_int256_$","typeString":"mapping(address => int256)"}},"id":53652,"indexExpression":{"expression":{"id":53649,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53588,"src":"10997:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53650,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"insurance","nodeType":"MemberAccess","referencedDeclaration":55262,"src":"10997:15:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10977:36:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"id":53655,"name":"insuranceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53633,"src":"11035:12:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53653,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"11017:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53654,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"11017:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53656,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11017:31:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"10977:71:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53658,"nodeType":"ExpressionStatement","src":"10977:71:65"},{"expression":{"id":53669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53659,"name":"liqedCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53607,"src":"11103:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53668,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53663,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53660,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53603,"src":"11135:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":53662,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"11168:2:65","subExpression":{"hexValue":"31","id":53661,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11169:1:65","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_rational_minus_1_by_1","typeString":"int_const -1"}},"src":"11135:35:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":53666,"name":"insuranceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53633,"src":"11203:12:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53664,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49160,"src":"11185:8:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$49160_$","typeString":"type(library SafeCast)"}},"id":53665,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":49159,"src":"11185:17:65","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53667,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11185:31:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"11135:81:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"11103:113:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53670,"nodeType":"ExpressionStatement","src":"11103:113:65"},{"expression":{"id":53676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53671,"name":"liqedPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53605,"src":"11226:16:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":53675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53672,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"11245:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":53674,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"11265:2:65","subExpression":{"hexValue":"31","id":53673,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11266:1:65","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_rational_minus_1_by_1","typeString":"int_const -1"}},"src":"11245:22:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"11226:41:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53677,"nodeType":"ExpressionStatement","src":"11226:41:65"},{"assignments":[53679],"declarations":[{"constant":false,"id":53679,"mutability":"mutable","name":"ltSN","nameLocation":"11304:4:65","nodeType":"VariableDeclaration","scope":53719,"src":"11296:12:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53678,"name":"uint256","nodeType":"ElementaryTypeName","src":"11296:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53686,"initialValue":{"baseExpression":{"baseExpression":{"expression":{"id":53680,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53588,"src":"11311:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53681,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"positionSerialNum","nodeType":"MemberAccess","referencedDeclaration":55240,"src":"11311:23:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(address => mapping(address => uint256))"}},"id":53683,"indexExpression":{"id":53682,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53596,"src":"11335:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11311:41:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53685,"indexExpression":{"id":53684,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53590,"src":"11353:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11311:47:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11296:62:65"},{"assignments":[53688],"declarations":[{"constant":false,"id":53688,"mutability":"mutable","name":"liquidatorSN","nameLocation":"11376:12:65","nodeType":"VariableDeclaration","scope":53719,"src":"11368:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53687,"name":"uint256","nodeType":"ElementaryTypeName","src":"11368:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53695,"initialValue":{"baseExpression":{"baseExpression":{"expression":{"id":53689,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53588,"src":"11391:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53690,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"positionSerialNum","nodeType":"MemberAccess","referencedDeclaration":55240,"src":"11391:23:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(address => mapping(address => uint256))"}},"id":53692,"indexExpression":{"id":53691,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53594,"src":"11415:10:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11391:35:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53694,"indexExpression":{"id":53693,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53590,"src":"11427:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11391:41:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11368:64:65"},{"eventCall":{"arguments":[{"id":53697,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53590,"src":"11476:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53698,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53596,"src":"11494:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53699,"name":"liqedPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53605,"src":"11524:16:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53700,"name":"liqedCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53607,"src":"11554:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53701,"name":"ltSN","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53679,"src":"11585:4:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53696,"name":"BeingLiquidated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52941,"src":"11447:15:65","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_int256_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,address,int256,int256,uint256)"}},"id":53702,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11447:152:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53703,"nodeType":"EmitStatement","src":"11442:157:65"},{"eventCall":{"arguments":[{"id":53705,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53590,"src":"11643:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53706,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53594,"src":"11661:10:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53707,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53596,"src":"11685:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53708,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53601,"src":"11715:17:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53709,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53603,"src":"11746:18:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53710,"name":"liquidatorSN","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53688,"src":"11778:12:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53704,"name":"JoinLiquidation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52955,"src":"11614:15:65","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_address_$_t_int256_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,address,address,int256,int256,uint256)"}},"id":53711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11614:186:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53712,"nodeType":"EmitStatement","src":"11609:191:65"},{"eventCall":{"arguments":[{"id":53714,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53590,"src":"11831:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53715,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53596,"src":"11837:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53716,"name":"insuranceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53633,"src":"11855:12:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53713,"name":"ChargeInsurance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52963,"src":"11815:15:65","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":53717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11815:53:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53718,"nodeType":"EmitStatement","src":"11810:58:65"}]},"documentation":{"id":53585,"nodeType":"StructuredDocumentation","src":"9936:41:65","text":"@notice execute a liquidation request"},"functionSelector":"39a9cd22","implemented":true,"kind":"function","modifiers":[],"name":"requestLiquidation","nameLocation":"9991:18:65","parameters":{"id":53599,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53588,"mutability":"mutable","name":"state","nameLocation":"10039:5:65","nodeType":"VariableDeclaration","scope":53720,"src":"10019:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53587,"nodeType":"UserDefinedTypeName","pathNode":{"id":53586,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"10019:11:65"},"referencedDeclaration":55267,"src":"10019:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53590,"mutability":"mutable","name":"perp","nameLocation":"10062:4:65","nodeType":"VariableDeclaration","scope":53720,"src":"10054:12:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53589,"name":"address","nodeType":"ElementaryTypeName","src":"10054:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53592,"mutability":"mutable","name":"executor","nameLocation":"10084:8:65","nodeType":"VariableDeclaration","scope":53720,"src":"10076:16:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53591,"name":"address","nodeType":"ElementaryTypeName","src":"10076:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53594,"mutability":"mutable","name":"liquidator","nameLocation":"10110:10:65","nodeType":"VariableDeclaration","scope":53720,"src":"10102:18:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53593,"name":"address","nodeType":"ElementaryTypeName","src":"10102:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53596,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"10138:16:65","nodeType":"VariableDeclaration","scope":53720,"src":"10130:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53595,"name":"address","nodeType":"ElementaryTypeName","src":"10130:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":53598,"mutability":"mutable","name":"requestPaperAmount","nameLocation":"10171:18:65","nodeType":"VariableDeclaration","scope":53720,"src":"10164:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53597,"name":"int256","nodeType":"ElementaryTypeName","src":"10164:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"10009:186:65"},"returnParameters":{"id":53608,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53601,"mutability":"mutable","name":"liqtorPaperChange","nameLocation":"10250:17:65","nodeType":"VariableDeclaration","scope":53720,"src":"10243:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53600,"name":"int256","nodeType":"ElementaryTypeName","src":"10243:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53603,"mutability":"mutable","name":"liqtorCreditChange","nameLocation":"10288:18:65","nodeType":"VariableDeclaration","scope":53720,"src":"10281:25:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53602,"name":"int256","nodeType":"ElementaryTypeName","src":"10281:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53605,"mutability":"mutable","name":"liqedPaperChange","nameLocation":"10327:16:65","nodeType":"VariableDeclaration","scope":53720,"src":"10320:23:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53604,"name":"int256","nodeType":"ElementaryTypeName","src":"10320:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":53607,"mutability":"mutable","name":"liqedCreditChange","nameLocation":"10364:17:65","nodeType":"VariableDeclaration","scope":53720,"src":"10357:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53606,"name":"int256","nodeType":"ElementaryTypeName","src":"10357:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"10229:162:65"},"scope":53823,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":53743,"nodeType":"FunctionDefinition","src":"11881:236:65","nodes":[],"body":{"id":53742,"nodeType":"Block","src":"12004:113:65","nodes":[],"statements":[{"expression":{"id":53740,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53730,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53728,"src":"12014:5:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"baseExpression":{"expression":{"id":53732,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53723,"src":"12039:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53733,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"perpRiskParams","nodeType":"MemberAccess","referencedDeclaration":55226,"src":"12039:20:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_RiskParams_$55298_storage_$","typeString":"mapping(address => struct Types.RiskParams storage ref)"}},"id":53735,"indexExpression":{"id":53734,"name":"perp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53725,"src":"12060:4:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12039:26:65","typeDescriptions":{"typeIdentifier":"t_struct$_RiskParams_$55298_storage","typeString":"struct Types.RiskParams storage ref"}},"id":53736,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"markPriceSource","nodeType":"MemberAccess","referencedDeclaration":55293,"src":"12039:42:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":53731,"name":"IMarkPriceSource","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52020,"src":"12022:16:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IMarkPriceSource_$52020_$","typeString":"type(contract IMarkPriceSource)"}},"id":53737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12022:60:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IMarkPriceSource_$52020","typeString":"contract IMarkPriceSource"}},"id":53738,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getMarkPrice","nodeType":"MemberAccess","referencedDeclaration":52019,"src":"12022:86:65","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":53739,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12022:88:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12014:96:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53741,"nodeType":"ExpressionStatement","src":"12014:96:65"}]},"functionSelector":"f4392a95","implemented":true,"kind":"function","modifiers":[],"name":"getMarkPrice","nameLocation":"11890:12:65","parameters":{"id":53726,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53723,"mutability":"mutable","name":"state","nameLocation":"11932:5:65","nodeType":"VariableDeclaration","scope":53743,"src":"11912:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53722,"nodeType":"UserDefinedTypeName","pathNode":{"id":53721,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"11912:11:65"},"referencedDeclaration":55267,"src":"11912:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53725,"mutability":"mutable","name":"perp","nameLocation":"11955:4:65","nodeType":"VariableDeclaration","scope":53743,"src":"11947:12:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53724,"name":"address","nodeType":"ElementaryTypeName","src":"11947:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"11902:63:65"},"returnParameters":{"id":53729,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53728,"mutability":"mutable","name":"price","nameLocation":"11997:5:65","nodeType":"VariableDeclaration","scope":53743,"src":"11989:13:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53727,"name":"uint256","nodeType":"ElementaryTypeName","src":"11989:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11988:15:65"},"scope":53823,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":53822,"nodeType":"FunctionDefinition","src":"12123:821:65","nodes":[],"body":{"id":53821,"nodeType":"Block","src":"12230:714:65","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":53764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"expression":{"id":53751,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12257:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53752,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"openPositions","nodeType":"MemberAccess","referencedDeclaration":55234,"src":"12257:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_array$_t_address_$dyn_storage_$","typeString":"mapping(address => address[] storage ref)"}},"id":53754,"indexExpression":{"id":53753,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53748,"src":"12277:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12257:37:65","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":53755,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"12257:44:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53756,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12305:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12257:49:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"id":53763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"12322:47:65","subExpression":{"arguments":[{"id":53760,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12345:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},{"id":53761,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53748,"src":"12352:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":53758,"name":"Liquidation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53823,"src":"12323:11:65","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Liquidation_$53823_$","typeString":"type(library Liquidation)"}},"id":53759,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"_isMMSafe","nodeType":"MemberAccess","referencedDeclaration":53139,"src":"12323:21:65","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_State_$55267_storage_ptr_$_t_address_$returns$_t_bool_$","typeString":"function (struct Types.State storage pointer,address) view returns (bool)"}},"id":53762,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12323:46:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"12257:112:65","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53820,"nodeType":"IfStatement","src":"12240:698:65","trueBody":{"id":53819,"nodeType":"Block","src":"12380:558:65","statements":[{"assignments":[53766],"declarations":[{"constant":false,"id":53766,"mutability":"mutable","name":"primaryCredit","nameLocation":"12401:13:65","nodeType":"VariableDeclaration","scope":53819,"src":"12394:20:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53765,"name":"int256","nodeType":"ElementaryTypeName","src":"12394:6:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":53771,"initialValue":{"baseExpression":{"expression":{"id":53767,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12417:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53768,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"primaryCredit","nodeType":"MemberAccess","referencedDeclaration":55191,"src":"12417:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_int256_$","typeString":"mapping(address => int256)"}},"id":53770,"indexExpression":{"id":53769,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53748,"src":"12437:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12417:37:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"12394:60:65"},{"assignments":[53773],"declarations":[{"constant":false,"id":53773,"mutability":"mutable","name":"secondaryCredit","nameLocation":"12476:15:65","nodeType":"VariableDeclaration","scope":53819,"src":"12468:23:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53772,"name":"uint256","nodeType":"ElementaryTypeName","src":"12468:7:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":53778,"initialValue":{"baseExpression":{"expression":{"id":53774,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12494:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53775,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondaryCredit","nodeType":"MemberAccess","referencedDeclaration":55195,"src":"12494:21:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53777,"indexExpression":{"id":53776,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53748,"src":"12516:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12494:39:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12468:65:65"},{"expression":{"id":53785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":53779,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12547:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53782,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"primaryCredit","nodeType":"MemberAccess","referencedDeclaration":55191,"src":"12547:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_int256_$","typeString":"mapping(address => int256)"}},"id":53783,"indexExpression":{"id":53781,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53748,"src":"12567:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12547:37:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":53784,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12587:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12547:41:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53786,"nodeType":"ExpressionStatement","src":"12547:41:65"},{"expression":{"id":53793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":53787,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12602:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53790,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondaryCredit","nodeType":"MemberAccess","referencedDeclaration":55195,"src":"12602:21:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53791,"indexExpression":{"id":53789,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53748,"src":"12624:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12602:39:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":53792,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12644:1:65","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12602:43:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53794,"nodeType":"ExpressionStatement","src":"12602:43:65"},{"expression":{"id":53802,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":53795,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12659:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53799,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"primaryCredit","nodeType":"MemberAccess","referencedDeclaration":55191,"src":"12659:19:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_int256_$","typeString":"mapping(address => int256)"}},"id":53800,"indexExpression":{"expression":{"id":53797,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12679:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53798,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"insurance","nodeType":"MemberAccess","referencedDeclaration":55262,"src":"12679:15:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12659:36:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":53801,"name":"primaryCredit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53766,"src":"12699:13:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"12659:53:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53803,"nodeType":"ExpressionStatement","src":"12659:53:65"},{"expression":{"id":53811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":53804,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12726:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53808,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondaryCredit","nodeType":"MemberAccess","referencedDeclaration":55195,"src":"12726:21:65","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":53809,"indexExpression":{"expression":{"id":53806,"name":"state","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53746,"src":"12748:5:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State storage pointer"}},"id":53807,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"insurance","nodeType":"MemberAccess","referencedDeclaration":55262,"src":"12748:15:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12726:38:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":53810,"name":"secondaryCredit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53773,"src":"12768:15:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12726:57:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53812,"nodeType":"ExpressionStatement","src":"12726:57:65"},{"eventCall":{"arguments":[{"id":53814,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53748,"src":"12833:16:65","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":53815,"name":"primaryCredit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53766,"src":"12867:13:65","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":53816,"name":"secondaryCredit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53773,"src":"12898:15:65","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53813,"name":"HandleBadDebt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52971,"src":"12802:13:65","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256,uint256)"}},"id":53817,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12802:125:65","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53818,"nodeType":"EmitStatement","src":"12797:130:65"}]}}]},"functionSelector":"35b270c8","implemented":true,"kind":"function","modifiers":[],"name":"handleBadDebt","nameLocation":"12132:13:65","parameters":{"id":53749,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53746,"mutability":"mutable","name":"state","nameLocation":"12175:5:65","nodeType":"VariableDeclaration","scope":53822,"src":"12155:25:65","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"},"typeName":{"id":53745,"nodeType":"UserDefinedTypeName","pathNode":{"id":53744,"name":"Types.State","nodeType":"IdentifierPath","referencedDeclaration":55267,"src":"12155:11:65"},"referencedDeclaration":55267,"src":"12155:11:65","typeDescriptions":{"typeIdentifier":"t_struct$_State_$55267_storage_ptr","typeString":"struct Types.State"}},"visibility":"internal"},{"constant":false,"id":53748,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"12198:16:65","nodeType":"VariableDeclaration","scope":53822,"src":"12190:24:65","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53747,"name":"address","nodeType":"ElementaryTypeName","src":"12190:7:65","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"12145:75:65"},"returnParameters":{"id":53750,"nodeType":"ParameterList","parameters":[],"src":"12230:0:65"},"scope":53823,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"Liquidation","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[53823],"name":"Liquidation","nameLocation":"379:11:65","scope":53824,"usedErrors":[]}],"license":"BUSL-1.1"},"id":65}