{"abi":[{"type":"constructor","inputs":[{"name":"_owner","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"balanceOf","inputs":[{"name":"trader","type":"address","internalType":"address"}],"outputs":[{"name":"paper","type":"int256","internalType":"int256"},{"name":"credit","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getFundingRate","inputs":[],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"liquidate","inputs":[{"name":"liquidator","type":"address","internalType":"address"},{"name":"liquidatedTrader","type":"address","internalType":"address"},{"name":"requestPaper","type":"int256","internalType":"int256"},{"name":"expectCredit","type":"int256","internalType":"int256"}],"outputs":[{"name":"liqtorPaperChange","type":"int256","internalType":"int256"},{"name":"liqtorCreditChange","type":"int256","internalType":"int256"}],"stateMutability":"nonpayable"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"trade","inputs":[{"name":"tradeData","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateFundingRate","inputs":[{"name":"newFundingRate","type":"int256","internalType":"int256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"BalanceChange","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"paperChange","type":"int256","indexed":false,"internalType":"int256"},{"name":"creditChange","type":"int256","indexed":false,"internalType":"int256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UpdateFundingRate","inputs":[{"name":"oldFundingRate","type":"int256","indexed":false,"internalType":"int256"},{"name":"newFundingRate","type":"int256","indexed":false,"internalType":"int256"}],"anonymous":false}],"bytecode":{"object":"0x60806040523480156200001157600080fd5b506040516200121938038062001219833981016040819052620000349162000182565b6200003f3362000051565b6200004a81620000a1565b50620001b4565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b620000ab62000124565b6001600160a01b038116620001165760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084015b60405180910390fd5b620001218162000051565b50565b6000546001600160a01b03163314620001805760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016200010d565b565b6000602082840312156200019557600080fd5b81516001600160a01b0381168114620001ad57600080fd5b9392505050565b61105580620001c46000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c806395196f7e1161005b57806395196f7e146100f2578063c179037014610103578063c2684de614610116578063f2fde38b1461012957600080fd5b80631037ea511461008d57806370a08231146100a2578063715018a6146100cf5780638da5cb5b146100d7575b600080fd5b6100a061009b366004610abc565b61013c565b005b6100b56100b0366004610b43565b610313565b604080519283526020830191909152015b60405180910390f35b6100a061035c565b6000546040516001600160a01b0390911681526020016100c6565b6002546040519081526020016100c6565b6100b5610111366004610b60565b610370565b6100a0610124366004610ba6565b61066a565b6100a0610137366004610b43565b6106b7565b60008060006101536000546001600160a01b031690565b6001600160a01b0316633cd9523d3387876040518463ffffffff1660e01b815260040161018293929190610bbf565b600060405180830381600087803b15801561019c57600080fd5b505af11580156101b0573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526101d89190810190610cd5565b92509250925060005b8351811015610248576102408482815181106101ff576101ff610dbe565b602002602001015184838151811061021957610219610dbe565b602002602001015184848151811061023357610233610dbe565b6020026020010151610730565b6001016101e1565b50600054604051630c0fa49160e11b81526001600160a01b039091169063181f492290610279908690600401610dd4565b60206040518083038186803b15801561029157600080fd5b505afa1580156102a5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102c99190610e21565b61030c5760405162461bcd60e51b815260206004820152600f60248201526e5452414445525f4e4f545f5341464560881b60448201526064015b60405180910390fd5b5050505050565b6001600160a01b038116600090815260016020526040812054600254600f82810b9392600160801b9004900b9061034b908490610983565b6103559190610e59565b9050915091565b6103646109a9565b61036e6000610a03565b565b6000806000806103886000546001600160a01b031690565b60405163be5b037160e01b81523360048201526001600160a01b038a81166024830152898116604483015260648201899052919091169063be5b037190608401608060405180830381600087803b1580156103e257600080fd5b505af11580156103f6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061041a9190610e9a565b929650909450925090506000841215610494576104378486610ed0565b6104418785610ed0565b131561048f5760405162461bcd60e51b815260206004820152601c60248201527f4c49515549444154494f4e5f50524943455f50524f54454354494f4e000000006044820152606401610303565b6104f6565b61049e8486610ed0565b6104a88785610ed0565b12156104f65760405162461bcd60e51b815260206004820152601c60248201527f4c49515549444154494f4e5f50524943455f50524f54454354494f4e000000006044820152606401610303565b610501878383610730565b61050c888585610730565b6000546001600160a01b0316604051631da68a2b60e21b81526001600160a01b038a81166004830152919091169063769a28ac9060240160206040518083038186803b15801561055b57600080fd5b505afa15801561056f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105939190610e21565b6105d55760405162461bcd60e51b81526020600482015260136024820152724c495155494441544f525f4e4f545f5341464560681b6044820152606401610303565b6001600160a01b038716600090815260016020526040902054600f0b61065f576000546001600160a01b03166040516311fd52e160e01b81526001600160a01b03898116600483015291909116906311fd52e190602401600060405180830381600087803b15801561064657600080fd5b505af115801561065a573d6000803e3d6000fd5b505050505b505094509492505050565b6106726109a9565b600280549082905560408051828152602081018490527f41a4e7eeb93ced398be7dabdc68a1aabb9a4755a11e80587da132e9c09f6e3c5910160405180910390a15050565b6106bf6109a9565b6001600160a01b0381166107245760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610303565b61072d81610a03565b50565b6001600160a01b038316600090815260016020526040812054600254600f82810b80159492938692600160801b909104900b9061076d9085610983565b6107779190610e59565b6107819190610e59565b9050600061078e86610a53565b6001600160a01b0388166000908152600160205260409020546107b49190600f0b610f55565b905060006107d86107c9600f84900b86610983565b6107d39085610fa4565b610a53565b6001600160a01b038916600081815260016020526040908190206001600160801b03808516600160801b0290871617905551919250907f4671546415242c95e8c6ef84d4785a1477e86e46fab15b87e504a3da994eba7c90610846908a908a90918252602082015260400190565b60405180910390a284156108be576000546001600160a01b03166040516375df5d3760e11b81526001600160a01b038a81166004830152919091169063ebbeba6e90602401600060405180830381600087803b1580156108a557600080fd5b505af11580156108b9573d6000803e3d6000fd5b505050505b81600f0b60001415610979576000546001600160a01b03166001600160a01b03898116600081815260016020526040908190205490516315e3ecb960e01b81526004810192909252600160801b9004600f0b60248201529116906315e3ecb990604401600060405180830381600087803b15801561093b57600080fd5b505af115801561094f573d6000803e3d6000fd5b5050506001600160a01b038916600090815260016020526040902080546001600160801b03169055505b5050505050505050565b6000670de0b6b3a76400006109988385610ed0565b6109a29190610fe3565b9392505050565b6000546001600160a01b0316331461036e5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610303565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80600f81900b8114610ab75760405162461bcd60e51b815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e20316044820152663238206269747360c81b6064820152608401610303565b919050565b60008060208385031215610acf57600080fd5b823567ffffffffffffffff80821115610ae757600080fd5b818501915085601f830112610afb57600080fd5b813581811115610b0a57600080fd5b866020828501011115610b1c57600080fd5b60209290920196919550909350505050565b6001600160a01b038116811461072d57600080fd5b600060208284031215610b5557600080fd5b81356109a281610b2e565b60008060008060808587031215610b7657600080fd5b8435610b8181610b2e565b93506020850135610b9181610b2e565b93969395505050506040820135916060013590565b600060208284031215610bb857600080fd5b5035919050565b6001600160a01b03841681526040602082018190528101829052818360608301376000818301606090810191909152601f909201601f1916010192915050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715610c3e57610c3e610bff565b604052919050565b600067ffffffffffffffff821115610c6057610c60610bff565b5060051b60200190565b600082601f830112610c7b57600080fd5b81516020610c90610c8b83610c46565b610c15565b82815260059290921b84018101918181019086841115610caf57600080fd5b8286015b84811015610cca5780518352918301918301610cb3565b509695505050505050565b600080600060608486031215610cea57600080fd5b835167ffffffffffffffff80821115610d0257600080fd5b818601915086601f830112610d1657600080fd5b81516020610d26610c8b83610c46565b82815260059290921b8401810191818101908a841115610d4557600080fd5b948201945b83861015610d6c578551610d5d81610b2e565b82529482019490820190610d4a565b91890151919750909350505080821115610d8557600080fd5b610d9187838801610c6a565b93506040860151915080821115610da757600080fd5b50610db486828701610c6a565b9150509250925092565b634e487b7160e01b600052603260045260246000fd5b6020808252825182820181905260009190848201906040850190845b81811015610e155783516001600160a01b031683529284019291840191600101610df0565b50909695505050505050565b600060208284031215610e3357600080fd5b815180151581146109a257600080fd5b634e487b7160e01b600052601160045260246000fd5b600080821280156001600160ff1b0384900385131615610e7b57610e7b610e43565b600160ff1b8390038412811615610e9457610e94610e43565b50500190565b60008060008060808587031215610eb057600080fd5b505082516020840151604085015160609095015191969095509092509050565b60006001600160ff1b0381841382841380821686840486111615610ef657610ef6610e43565b600160ff1b6000871282811687830589121615610f1557610f15610e43565b60008712925087820587128484161615610f3157610f31610e43565b87850587128184161615610f4757610f47610e43565b505050929093029392505050565b600081600f0b83600f0b600082128260016001607f1b0303821381151615610f7f57610f7f610e43565b8260016001607f1b0319038212811615610f9b57610f9b610e43565b50019392505050565b60008083128015600160ff1b850184121615610fc257610fc2610e43565b6001600160ff1b0384018313811615610fdd57610fdd610e43565b50500390565b60008261100057634e487b7160e01b600052601260045260246000fd5b600160ff1b82146000198414161561101a5761101a610e43565b50059056fea2646970667358221220434f89744075032096b5a70160eb2dfb1c59e111c86187e1d8d1253908165f9d64736f6c63430008090033","sourceMap":"319:6890:11:-:0;;;1327:80;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;936:32:67;719:10:77;936:18:67;:32::i;:::-;1375:25:11::1;1393:6:::0;1375:17:::1;:25::i;:::-;1327:80:::0;319:6890;;2433:187:67;2506:16;2525:6;;-1:-1:-1;;;;;2541:17:67;;;-1:-1:-1;;;;;;2541:17:67;;;;;;2573:40;;2525:6;;;;;;;2573:40;;2506:16;2573:40;2496:124;2433:187;:::o;2081:198::-;1094:13;:11;:13::i;:::-;-1:-1:-1;;;;;2169:22:67;::::1;2161:73;;;::::0;-1:-1:-1;;;2161:73:67;;511:2:97;2161:73:67::1;::::0;::::1;493:21:97::0;550:2;530:18;;;523:30;589:34;569:18;;;562:62;-1:-1:-1;;;640:18:97;;;633:36;686:19;;2161:73:67::1;;;;;;;;;2244:28;2263:8:::0;2244:18:::1;:28::i;:::-;2081:198:::0;:::o;1359:130::-;1247:7;1273:6;-1:-1:-1;;;;;1273:6:67;719:10:77;1422:23:67;1414:68;;;;-1:-1:-1;;;1414:68:67;;918:2:97;1414:68:67;;;900:21:97;;;937:18;;;930:30;996:34;976:18;;;969:62;1048:18;;1414:68:67;716:356:97;1414:68:67;1359:130::o;14:290:97:-;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:97;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:97:o;716:356::-;319:6890:11;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100885760003560e01c806395196f7e1161005b57806395196f7e146100f2578063c179037014610103578063c2684de614610116578063f2fde38b1461012957600080fd5b80631037ea511461008d57806370a08231146100a2578063715018a6146100cf5780638da5cb5b146100d7575b600080fd5b6100a061009b366004610abc565b61013c565b005b6100b56100b0366004610b43565b610313565b604080519283526020830191909152015b60405180910390f35b6100a061035c565b6000546040516001600160a01b0390911681526020016100c6565b6002546040519081526020016100c6565b6100b5610111366004610b60565b610370565b6100a0610124366004610ba6565b61066a565b6100a0610137366004610b43565b6106b7565b60008060006101536000546001600160a01b031690565b6001600160a01b0316633cd9523d3387876040518463ffffffff1660e01b815260040161018293929190610bbf565b600060405180830381600087803b15801561019c57600080fd5b505af11580156101b0573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526101d89190810190610cd5565b92509250925060005b8351811015610248576102408482815181106101ff576101ff610dbe565b602002602001015184838151811061021957610219610dbe565b602002602001015184848151811061023357610233610dbe565b6020026020010151610730565b6001016101e1565b50600054604051630c0fa49160e11b81526001600160a01b039091169063181f492290610279908690600401610dd4565b60206040518083038186803b15801561029157600080fd5b505afa1580156102a5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102c99190610e21565b61030c5760405162461bcd60e51b815260206004820152600f60248201526e5452414445525f4e4f545f5341464560881b60448201526064015b60405180910390fd5b5050505050565b6001600160a01b038116600090815260016020526040812054600254600f82810b9392600160801b9004900b9061034b908490610983565b6103559190610e59565b9050915091565b6103646109a9565b61036e6000610a03565b565b6000806000806103886000546001600160a01b031690565b60405163be5b037160e01b81523360048201526001600160a01b038a81166024830152898116604483015260648201899052919091169063be5b037190608401608060405180830381600087803b1580156103e257600080fd5b505af11580156103f6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061041a9190610e9a565b929650909450925090506000841215610494576104378486610ed0565b6104418785610ed0565b131561048f5760405162461bcd60e51b815260206004820152601c60248201527f4c49515549444154494f4e5f50524943455f50524f54454354494f4e000000006044820152606401610303565b6104f6565b61049e8486610ed0565b6104a88785610ed0565b12156104f65760405162461bcd60e51b815260206004820152601c60248201527f4c49515549444154494f4e5f50524943455f50524f54454354494f4e000000006044820152606401610303565b610501878383610730565b61050c888585610730565b6000546001600160a01b0316604051631da68a2b60e21b81526001600160a01b038a81166004830152919091169063769a28ac9060240160206040518083038186803b15801561055b57600080fd5b505afa15801561056f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105939190610e21565b6105d55760405162461bcd60e51b81526020600482015260136024820152724c495155494441544f525f4e4f545f5341464560681b6044820152606401610303565b6001600160a01b038716600090815260016020526040902054600f0b61065f576000546001600160a01b03166040516311fd52e160e01b81526001600160a01b03898116600483015291909116906311fd52e190602401600060405180830381600087803b15801561064657600080fd5b505af115801561065a573d6000803e3d6000fd5b505050505b505094509492505050565b6106726109a9565b600280549082905560408051828152602081018490527f41a4e7eeb93ced398be7dabdc68a1aabb9a4755a11e80587da132e9c09f6e3c5910160405180910390a15050565b6106bf6109a9565b6001600160a01b0381166107245760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610303565b61072d81610a03565b50565b6001600160a01b038316600090815260016020526040812054600254600f82810b80159492938692600160801b909104900b9061076d9085610983565b6107779190610e59565b6107819190610e59565b9050600061078e86610a53565b6001600160a01b0388166000908152600160205260409020546107b49190600f0b610f55565b905060006107d86107c9600f84900b86610983565b6107d39085610fa4565b610a53565b6001600160a01b038916600081815260016020526040908190206001600160801b03808516600160801b0290871617905551919250907f4671546415242c95e8c6ef84d4785a1477e86e46fab15b87e504a3da994eba7c90610846908a908a90918252602082015260400190565b60405180910390a284156108be576000546001600160a01b03166040516375df5d3760e11b81526001600160a01b038a81166004830152919091169063ebbeba6e90602401600060405180830381600087803b1580156108a557600080fd5b505af11580156108b9573d6000803e3d6000fd5b505050505b81600f0b60001415610979576000546001600160a01b03166001600160a01b03898116600081815260016020526040908190205490516315e3ecb960e01b81526004810192909252600160801b9004600f0b60248201529116906315e3ecb990604401600060405180830381600087803b15801561093b57600080fd5b505af115801561094f573d6000803e3d6000fd5b5050506001600160a01b038916600090815260016020526040902080546001600160801b03169055505b5050505050505050565b6000670de0b6b3a76400006109988385610ed0565b6109a29190610fe3565b9392505050565b6000546001600160a01b0316331461036e5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610303565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80600f81900b8114610ab75760405162461bcd60e51b815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e20316044820152663238206269747360c81b6064820152608401610303565b919050565b60008060208385031215610acf57600080fd5b823567ffffffffffffffff80821115610ae757600080fd5b818501915085601f830112610afb57600080fd5b813581811115610b0a57600080fd5b866020828501011115610b1c57600080fd5b60209290920196919550909350505050565b6001600160a01b038116811461072d57600080fd5b600060208284031215610b5557600080fd5b81356109a281610b2e565b60008060008060808587031215610b7657600080fd5b8435610b8181610b2e565b93506020850135610b9181610b2e565b93969395505050506040820135916060013590565b600060208284031215610bb857600080fd5b5035919050565b6001600160a01b03841681526040602082018190528101829052818360608301376000818301606090810191909152601f909201601f1916010192915050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715610c3e57610c3e610bff565b604052919050565b600067ffffffffffffffff821115610c6057610c60610bff565b5060051b60200190565b600082601f830112610c7b57600080fd5b81516020610c90610c8b83610c46565b610c15565b82815260059290921b84018101918181019086841115610caf57600080fd5b8286015b84811015610cca5780518352918301918301610cb3565b509695505050505050565b600080600060608486031215610cea57600080fd5b835167ffffffffffffffff80821115610d0257600080fd5b818601915086601f830112610d1657600080fd5b81516020610d26610c8b83610c46565b82815260059290921b8401810191818101908a841115610d4557600080fd5b948201945b83861015610d6c578551610d5d81610b2e565b82529482019490820190610d4a565b91890151919750909350505080821115610d8557600080fd5b610d9187838801610c6a565b93506040860151915080821115610da757600080fd5b50610db486828701610c6a565b9150509250925092565b634e487b7160e01b600052603260045260246000fd5b6020808252825182820181905260009190848201906040850190845b81811015610e155783516001600160a01b031683529284019291840191600101610df0565b50909695505050505050565b600060208284031215610e3357600080fd5b815180151581146109a257600080fd5b634e487b7160e01b600052601160045260246000fd5b600080821280156001600160ff1b0384900385131615610e7b57610e7b610e43565b600160ff1b8390038412811615610e9457610e94610e43565b50500190565b60008060008060808587031215610eb057600080fd5b505082516020840151604085015160609095015191969095509092509050565b60006001600160ff1b0381841382841380821686840486111615610ef657610ef6610e43565b600160ff1b6000871282811687830589121615610f1557610f15610e43565b60008712925087820587128484161615610f3157610f31610e43565b87850587128184161615610f4757610f47610e43565b505050929093029392505050565b600081600f0b83600f0b600082128260016001607f1b0303821381151615610f7f57610f7f610e43565b8260016001607f1b0319038212811615610f9b57610f9b610e43565b50019392505050565b60008083128015600160ff1b850184121615610fc257610fc2610e43565b6001600160ff1b0384018313811615610fdd57610fdd610e43565b50500390565b60008261100057634e487b7160e01b600052601260045260246000fd5b600160ff1b82146000198414161561101a5761101a610e43565b50059056fea2646970667358221220434f89744075032096b5a70160eb2dfb1c59e111c86187e1d8d1253908165f9d64736f6c63430008090033","sourceMap":"319:6890:11:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2848:543;;;;;;:::i;:::-;;:::i;:::-;;2175:273;;;;;;:::i;:::-;;:::i;:::-;;;;1168:25:97;;;1224:2;1209:18;;1202:34;;;;1141:18;2175:273:11;;;;;;;;1831:101:67;;;:::i;1201:85::-;1247:7;1273:6;1201:85;;-1:-1:-1;;;;;1273:6:67;;;1393:51:97;;1381:2;1366:18;1201:85:67;1247:203:97;2683:92:11;2757:11;;2683:92;;1599:25:97;;;1587:2;1572:18;2683:92:11;1455:175:97;3470:2272:11;;;;;;:::i;:::-;;:::i;2454:223::-;;;;;;:::i;:::-;;:::i;2081:198:67:-;;;;;;:::i;:::-;;:::i;2848:543:11:-;2922:27;2963:31;3008:32;3061:7;1247::67;1273:6;-1:-1:-1;;;;;1273:6:67;;1201:85;3061:7:11;-1:-1:-1;;;;;3053:29:11;;3083:10;3095:9;;3053:52;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;3053:52:11;;;;;;;;;;;;:::i;:::-;2908:197;;;;;;3121:9;3116:192;3140:10;:17;3136:1;:21;3116:192;;;3175:63;3183:10;3194:1;3183:13;;;;;;;;:::i;:::-;;;;;;;3198:15;3214:1;3198:18;;;;;;;;:::i;:::-;;;;;;;3218:16;3235:1;3218:19;;;;;;;;:::i;:::-;;;;;;;3175:7;:63::i;:::-;3280:3;;3116:192;;;-1:-1:-1;1247:7:67;1273:6;3326:38:11;;-1:-1:-1;;;3326:38:11;;-1:-1:-1;;;;;1273:6:67;;;;3326:26:11;;:38;;3353:10;;3326:38;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3318:66;;;;-1:-1:-1;;;3318:66:11;;6819:2:97;3318:66:11;;;6801:21:97;6858:2;6838:18;;;6831:30;-1:-1:-1;;;6877:18:97;;;6870:45;6932:18;;3318:66:11;;;;;;;;;2898:493;;;2848:543;;:::o;2175:273::-;-1:-1:-1;;;;;2301:18:11;;2247:12;2301:18;;;:10;:18;;;;;:24;2374:11;;2301:24;;;;;2247:12;-1:-1:-1;;;2408:32:11;;;;;2357:29;;2301:24;;2357:16;:29::i;:::-;:84;;;;:::i;:::-;2336:105;;2175:273;;;:::o;1831:101:67:-;1094:13;:11;:13::i;:::-;1895:30:::1;1922:1;1895:18;:30::i;:::-;1831:101::o:0;3470:2272:11:-;3633:24;3659:25;3841:23;3874:24;4053:7;1247::67;1273:6;-1:-1:-1;;;;;1273:6:67;;1201:85;4053:7:11;4045:149;;-1:-1:-1;;;4045:149:11;;4094:10;4045:149;;;7630:34:97;-1:-1:-1;;;;;7700:15:97;;;7680:18;;;7673:43;7752:15;;;7732:18;;;7725:43;7784:18;;;7777:34;;;4045:35:11;;;;;;;7564:19:97;;4045:149:11;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3908:286;;-1:-1:-1;3908:286:11;;-1:-1:-1;3908:286:11;-1:-1:-1;3908:286:11;-1:-1:-1;4357:1:11;4337:21;;4333:1058;;;4768:32;4783:17;4768:12;:32;:::i;:::-;4711:33;4732:12;4711:18;:33;:::i;:::-;:89;;4686:176;;;;-1:-1:-1;;;4686:176:11;;8951:2:97;4686:176:11;;;8933:21:97;8990:2;8970:18;;;8963:30;9029;9009:18;;;9002:58;9077:18;;4686:176:11;8749:352:97;4686:176:11;4333:1058;;;5286:32;5301:17;5286:12;:32;:::i;:::-;5229:33;5250:12;5229:18;:33;:::i;:::-;:89;;5204:176;;;;-1:-1:-1;;;5204:176:11;;8951:2:97;5204:176:11;;;8933:21:97;8990:2;8970:18;;;8963:30;9029;9009:18;;;9002:58;9077:18;;5204:176:11;8749:352:97;5204:176:11;5401:62;5409:16;5427;5445:17;5401:7;:62::i;:::-;5473:58;5481:10;5493:17;5512:18;5473:7;:58::i;:::-;1247:7:67;1273:6;-1:-1:-1;;;;;1273:6:67;5549:35:11;;-1:-1:-1;;;5549:35:11;;-1:-1:-1;;;;;1411:32:97;;;5549:35:11;;;1393:51:97;5549:23:11;;;;;;;1366:18:97;;5549:35:11;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5541:67;;;;-1:-1:-1;;;5541:67:11;;9308:2:97;5541:67:11;;;9290:21:97;9347:2;9327:18;;;9320:30;-1:-1:-1;;;9366:18:97;;;9359:49;9425:18;;5541:67:11;9106:343:97;5541:67:11;-1:-1:-1;;;;;5622:28:11;;;;;;:10;:28;;;;;:34;;;5618:118;;1247:7:67;1273:6;-1:-1:-1;;;;;1273:6:67;5677:48:11;;-1:-1:-1;;;5677:48:11;;-1:-1:-1;;;;;1411:32:97;;;5677:48:11;;;1393:51:97;5677:30:11;;;;;;;1366:18:97;;5677:48:11;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5618:118;3686:2056;;3470:2272;;;;;;;:::o;2454:223::-;1094:13:67;:11;:13::i;:::-;2557:11:11::1;::::0;;2578:28;;;;2621:49:::1;::::0;;1168:25:97;;;1224:2;1209:18;;1202:34;;;2621:49:11::1;::::0;1141:18:97;2621:49:11::1;;;;;;;2523:154;2454:223:::0;:::o;2081:198:67:-;1094:13;:11;:13::i;:::-;-1:-1:-1;;;;;2169:22:67;::::1;2161:73;;;::::0;-1:-1:-1;;;2161:73:67;;9656:2:97;2161:73:67::1;::::0;::::1;9638:21:97::0;9695:2;9675:18;;;9668:30;9734:34;9714:18;;;9707:62;-1:-1:-1;;;9785:18:97;;;9778:36;9831:19;;2161:73:67::1;9454:402:97::0;2161:73:67::1;2244:28;2263:8;2244:18;:28::i;:::-;2081:198:::0;:::o;6101:1106:11:-;-1:-1:-1;;;;;6245:18:11;;6224;6245;;;:10;:18;;;;;:24;6298:11;;6245:24;;;;:29;;;6298:11;;6468:12;;-1:-1:-1;;;6420:32:11;;;;;;6349:49;;6298:11;6349:43;:49::i;:::-;:104;;;;:::i;:::-;:131;;;;:::i;:::-;6333:147;;6490:15;6547:30;6565:11;6547:17;:30::i;:::-;-1:-1:-1;;;;;6508:18:11;;;;;;:10;:18;;;;;:24;:69;;;:24;;:69;:::i;:::-;6490:87;-1:-1:-1;6587:23:11;6613:83;6653:33;:16;;;;6681:4;6653:27;:33::i;:::-;6644:42;;:6;:42;:::i;:::-;6613:17;:83::i;:::-;-1:-1:-1;;;;;6706:18:11;;;;;;:10;:18;;;;;;;-1:-1:-1;;;;;6751:51:11;;;-1:-1:-1;;;6751:51:11;6706:35;;;6751:51;;;6817:48;6587:109;;-1:-1:-1;6706:18:11;6817:48;;;;6839:11;;6852:12;;1168:25:97;;;1224:2;1209:18;;1202:34;1156:2;1141:18;;998:244;6817:48:11;;;;;;;;6879:13;6875:81;;;1247:7:67;1273:6;-1:-1:-1;;;;;1273:6:67;6908:37:11;;-1:-1:-1;;;6908:37:11;;-1:-1:-1;;;;;1411:32:97;;;6908:37:11;;;1393:51:97;6908:29:11;;;;;;;1366:18:97;;6908:37:11;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6875:81;6969:8;:13;;6981:1;6969:13;6965:236;;;1247:7:67;1273:6;-1:-1:-1;;;;;1273:6:67;-1:-1:-1;;;;;7094:18:11;;;;;;;:10;:18;;;;;;;:32;7025:115;;-1:-1:-1;;;7025:115:11;;;;;10706:51:97;;;;-1:-1:-1;;;7094:32:11;;;;10773:18:97;;;10766:50;7025:27:11;;;;;10679:18:97;;7025:115:11;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;7154:18:11;;7189:1;7154:18;;;:10;:18;;;;;:36;;-1:-1:-1;;;;;7154:36:11;;;-1:-1:-1;6965:236:11;6214:993;;;;;6101:1106;;;:::o;224:114:44:-;287:6;211;313:5;317:1;313;:5;:::i;:::-;312:19;;;;:::i;:::-;305:26;224:114;-1:-1:-1;;;224:114:44:o;1359:130:67:-;1247:7;1273:6;-1:-1:-1;;;;;1273:6:67;719:10:77;1422:23:67;1414:68;;;;-1:-1:-1;;;1414:68:67;;11324:2:97;1414:68:67;;;11306:21:97;;;11343:18;;;11336:30;11402:34;11382:18;;;11375:62;11454:18;;1414:68:67;11122:356:97;2433:187:67;2506:16;2525:6;;-1:-1:-1;;;;;2541:17:67;;;-1:-1:-1;;;;;;2541:17:67;;;;;;2573:40;;2525:6;;;;;;;2573:40;;2506:16;2573:40;2496:124;2433:187;:::o;26101:198:81:-;26205:5;26229:19;;;;;;26221:71;;;;-1:-1:-1;;;26221:71:81;;11685:2:97;26221:71:81;;;11667:21:97;11724:2;11704:18;;;11697:30;11763:34;11743:18;;;11736:62;-1:-1:-1;;;11814:18:97;;;11807:37;11861:19;;26221:71:81;11483:403:97;26221:71:81;26101:198;;;:::o;14:591:97:-;84:6;92;145:2;133:9;124:7;120:23;116:32;113:52;;;161:1;158;151:12;113:52;201:9;188:23;230:18;271:2;263:6;260:14;257:34;;;287:1;284;277:12;257:34;325:6;314:9;310:22;300:32;;370:7;363:4;359:2;355:13;351:27;341:55;;392:1;389;382:12;341:55;432:2;419:16;458:2;450:6;447:14;444:34;;;474:1;471;464:12;444:34;519:7;514:2;505:6;501:2;497:15;493:24;490:37;487:57;;;540:1;537;530:12;487:57;571:2;563:11;;;;;593:6;;-1:-1:-1;14:591:97;;-1:-1:-1;;;;14:591:97:o;610:131::-;-1:-1:-1;;;;;685:31:97;;675:42;;665:70;;731:1;728;721:12;746:247;805:6;858:2;846:9;837:7;833:23;829:32;826:52;;;874:1;871;864:12;826:52;913:9;900:23;932:31;957:5;932:31;:::i;1635:523::-;1719:6;1727;1735;1743;1796:3;1784:9;1775:7;1771:23;1767:33;1764:53;;;1813:1;1810;1803:12;1764:53;1852:9;1839:23;1871:31;1896:5;1871:31;:::i;:::-;1921:5;-1:-1:-1;1978:2:97;1963:18;;1950:32;1991:33;1950:32;1991:33;:::i;:::-;1635:523;;2043:7;;-1:-1:-1;;;;2097:2:97;2082:18;;2069:32;;2148:2;2133:18;2120:32;;1635:523::o;2163:179::-;2221:6;2274:2;2262:9;2253:7;2249:23;2245:32;2242:52;;;2290:1;2287;2280:12;2242:52;-1:-1:-1;2313:23:97;;2163:179;-1:-1:-1;2163:179:97:o;2347:485::-;-1:-1:-1;;;;;2532:32:97;;2514:51;;2601:2;2596;2581:18;;2574:30;;;2620:18;;2613:34;;;2640:6;2689;2684:2;2669:18;;2656:48;2753:1;2724:22;;;2748:2;2720:31;;;2713:42;;;;2816:2;2795:15;;;-1:-1:-1;;2791:29:97;2776:45;2772:54;;2347:485;-1:-1:-1;;2347:485:97:o;2837:127::-;2898:10;2893:3;2889:20;2886:1;2879:31;2929:4;2926:1;2919:15;2953:4;2950:1;2943:15;2969:275;3040:2;3034:9;3105:2;3086:13;;-1:-1:-1;;3082:27:97;3070:40;;3140:18;3125:34;;3161:22;;;3122:62;3119:88;;;3187:18;;:::i;:::-;3223:2;3216:22;2969:275;;-1:-1:-1;2969:275:97:o;3249:183::-;3309:4;3342:18;3334:6;3331:30;3328:56;;;3364:18;;:::i;:::-;-1:-1:-1;3409:1:97;3405:14;3421:4;3401:25;;3249:183::o;3437:658::-;3501:5;3554:3;3547:4;3539:6;3535:17;3531:27;3521:55;;3572:1;3569;3562:12;3521:55;3601:6;3595:13;3627:4;3651:60;3667:43;3707:2;3667:43;:::i;:::-;3651:60;:::i;:::-;3745:15;;;3831:1;3827:10;;;;3815:23;;3811:32;;;3776:12;;;;3855:15;;;3852:35;;;3883:1;3880;3873:12;3852:35;3919:2;3911:6;3907:15;3931:135;3947:6;3942:3;3939:15;3931:135;;;4013:10;;4001:23;;4044:12;;;;3964;;3931:135;;;-1:-1:-1;4084:5:97;3437:658;-1:-1:-1;;;;;;3437:658:97:o;4100:1435::-;4261:6;4269;4277;4330:2;4318:9;4309:7;4305:23;4301:32;4298:52;;;4346:1;4343;4336:12;4298:52;4379:9;4373:16;4408:18;4449:2;4441:6;4438:14;4435:34;;;4465:1;4462;4455:12;4435:34;4503:6;4492:9;4488:22;4478:32;;4548:7;4541:4;4537:2;4533:13;4529:27;4519:55;;4570:1;4567;4560:12;4519:55;4599:2;4593:9;4621:4;4645:60;4661:43;4701:2;4661:43;:::i;4645:60::-;4739:15;;;4821:1;4817:10;;;;4809:19;;4805:28;;;4770:12;;;;4845:19;;;4842:39;;;4877:1;4874;4867:12;4842:39;4901:11;;;;4921:210;4937:6;4932:3;4929:15;4921:210;;;5010:3;5004:10;5027:31;5052:5;5027:31;:::i;:::-;5071:18;;4954:12;;;;5109;;;;4921:210;;;5186:18;;;5180:25;5150:5;;-1:-1:-1;5180:25:97;;-1:-1:-1;;;5217:16:97;;;5214:36;;;5246:1;5243;5236:12;5214:36;5269:73;5334:7;5323:8;5312:9;5308:24;5269:73;:::i;:::-;5259:83;;5388:2;5377:9;5373:18;5367:25;5351:41;;5417:2;5407:8;5404:16;5401:36;;;5433:1;5430;5423:12;5401:36;;5456:73;5521:7;5510:8;5499:9;5495:24;5456:73;:::i;:::-;5446:83;;;4100:1435;;;;;:::o;5540:127::-;5601:10;5596:3;5592:20;5589:1;5582:31;5632:4;5629:1;5622:15;5656:4;5653:1;5646:15;5672:658;5843:2;5895:21;;;5965:13;;5868:18;;;5987:22;;;5814:4;;5843:2;6066:15;;;;6040:2;6025:18;;;5814:4;6109:195;6123:6;6120:1;6117:13;6109:195;;;6188:13;;-1:-1:-1;;;;;6184:39:97;6172:52;;6279:15;;;;6244:12;;;;6220:1;6138:9;6109:195;;;-1:-1:-1;6321:3:97;;5672:658;-1:-1:-1;;;;;;5672:658:97:o;6335:277::-;6402:6;6455:2;6443:9;6434:7;6430:23;6426:32;6423:52;;;6471:1;6468;6461:12;6423:52;6503:9;6497:16;6556:5;6549:13;6542:21;6535:5;6532:32;6522:60;;6578:1;6575;6568:12;6961:127;7022:10;7017:3;7013:20;7010:1;7003:31;7053:4;7050:1;7043:15;7077:4;7074:1;7067:15;7093:265;7132:3;7160:9;;;7185:10;;-1:-1:-1;;;;;7204:27:97;;;7197:35;;7181:52;7178:78;;;7236:18;;:::i;:::-;-1:-1:-1;;;7283:19:97;;;7276:27;;7268:36;;7265:62;;;7307:18;;:::i;:::-;-1:-1:-1;;7343:9:97;;7093:265::o;7822:364::-;7915:6;7923;7931;7939;7992:3;7980:9;7971:7;7967:23;7963:33;7960:53;;;8009:1;8006;7999:12;7960:53;-1:-1:-1;;8032:16:97;;8088:2;8073:18;;8067:25;8132:2;8117:18;;8111:25;8176:2;8161:18;;;8155:25;8032:16;;8067:25;;-1:-1:-1;8155:25:97;;-1:-1:-1;7822:364:97;-1:-1:-1;7822:364:97:o;8191:553::-;8230:7;-1:-1:-1;;;;;8300:9:97;;;8328;;;8353:11;;;8372:10;;;8366:17;;8349:35;8346:61;;;8387:18;;:::i;:::-;-1:-1:-1;;;8463:1:97;8456:9;;8481:11;;;8501;;;8494:19;;8477:37;8474:63;;;8517:18;;:::i;:::-;8563:1;8560;8556:9;8546:19;;8610:1;8606:2;8601:11;8598:1;8594:19;8589:2;8585;8581:11;8577:37;8574:63;;;8617:18;;:::i;:::-;8682:1;8678:2;8673:11;8670:1;8666:19;8661:2;8657;8653:11;8649:37;8646:63;;;8689:18;;:::i;:::-;-1:-1:-1;;;8729:9:97;;;;;8191:553;-1:-1:-1;;;8191:553:97:o;9861:396::-;9900:3;9944:1;9940:2;9929:17;9981:1;9977:2;9966:17;10011:1;10006:3;10002:11;10090:3;-1:-1:-1;;;;;10050:44:97;10045:3;10041:54;10036:2;10029:10;10025:71;10022:97;;;10099:18;;:::i;:::-;10193:3;-1:-1:-1;;;;;10152:39:97;10148:49;10143:3;10139:59;10135:2;10131:68;10128:94;;;10202:18;;:::i;:::-;-1:-1:-1;10238:13:97;;9861:396;-1:-1:-1;;;9861:396:97:o;10262:267::-;10301:4;10330:9;;;10355:10;;-1:-1:-1;;;10374:19:97;;10367:27;;10351:44;10348:70;;;10398:18;;:::i;:::-;-1:-1:-1;;;;;10445:27:97;;10438:35;;10430:44;;10427:70;;;10477:18;;:::i;:::-;-1:-1:-1;;10514:9:97;;10262:267::o;10827:290::-;10866:1;10892;10882:132;;10936:10;10931:3;10927:20;10924:1;10917:31;10971:4;10968:1;10961:15;10999:4;10996:1;10989:15;10882:132;-1:-1:-1;;;11030:18:97;;-1:-1:-1;;11050:13:97;;11026:38;11023:64;;;11067:18;;:::i;:::-;-1:-1:-1;11101:10:97;;10827:290::o","linkReferences":{}},"methodIdentifiers":{"balanceOf(address)":"70a08231","getFundingRate()":"95196f7e","liquidate(address,address,int256,int256)":"c1790370","owner()":"8da5cb5b","renounceOwnership()":"715018a6","trade(bytes)":"1037ea51","transferOwnership(address)":"f2fde38b","updateFundingRate(int256)":"c2684de6"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"paperChange\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"creditChange\",\"type\":\"int256\"}],\"name\":\"BalanceChange\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"oldFundingRate\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"newFundingRate\",\"type\":\"int256\"}],\"name\":\"UpdateFundingRate\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"paper\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"credit\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getFundingRate\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"liquidator\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"liquidatedTrader\",\"type\":\"address\"},{\"internalType\":\"int256\",\"name\":\"requestPaper\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"expectCredit\",\"type\":\"int256\"}],\"name\":\"liquidate\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"liqtorPaperChange\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"liqtorCreditChange\",\"type\":\"int256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"tradeData\",\"type\":\"bytes\"}],\"name\":\"trade\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"newFundingRate\",\"type\":\"int256\"}],\"name\":\"updateFundingRate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"balanceOf(address)\":{\"returns\":{\"credit\":\"is not related to position direction or entry price, only used to calculate risk ratio and net value.\",\"paper\":\"is positive when the trader holds a long position and negative when the trader holds a short position.\"}},\"liquidate(address,address,int256,int256)\":{\"details\":\"Because the liquidation is open to public, there is no guarantee that your request will be executed. It will not be executed or partially executed if: 1) someone else submitted a liquidation request before you, or 2) the trader deposited enough margin in time, or 3) the mark price moved beyond your price protection. Your liquidation will be limited to the position size. For example, if the position remains 10ETH and you're requesting a 15ETH liquidation. Only 10ETH will be executed. And the other 5ETH request will be cancelled.\",\"params\":{\"expectCredit\":\"is the amount of credit you want to pay (when liquidating a short position) or receive (when liquidating a long position)\",\"liquidatedTrader\":\"is the trader you want to liquidate.\",\"requestPaper\":\"is the size of position you want to take . requestPaper is positive when you want to liquidate a long position, negative when short.\"},\"returns\":{\"liqtorCreditChange\":\"is the final executed change of liquidator's credit amount\",\"liqtorPaperChange\":\"is the final executed change of liquidator's paper amount\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"},\"trade(bytes)\":{\"details\":\"tradeData will be forwarded to the Dealer contract and waiting for matching result. Then the Perpetual contract will execute the result.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"balanceOf(address)\":{\"notice\":\"Return the paper amount and credit amount of a certain trader.\"},\"getFundingRate()\":{\"notice\":\"Get funding rate of this perpetual market. Funding rate is a 1e18 based decimal.\"},\"liquidate(address,address,int256,int256)\":{\"notice\":\"Liquidate a position with customized paper amount and price protection.\"},\"trade(bytes)\":{\"notice\":\"Match and settle orders.\"},\"updateFundingRate(int256)\":{\"notice\":\"Update funding rate, owner only function.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/impl/Perpetual.sol\":\"Perpetual\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@mean-finance/=node_modules/@mean-finance/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":@rari-capital/=node_modules/@rari-capital/\",\":@uniswap/=node_modules/@uniswap/\",\":base64-sol/=node_modules/base64-sol/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\"]},\"sources\":{\"contracts/impl/Perpetual.sol\":{\"keccak256\":\"0x69f2c1a8a17f8aa9ac82200aff3414f6aeafeca4c9ff4d0e2618feee732c9bea\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://3229293e97f3e1abdf14327b8f1f287943ffad70230836825ccfaa2ea7b3fc05\",\"dweb:/ipfs/QmVZjFzhPPVSQ2sKSmY1JaMgET5veHQqpGbfEYKdxFynQF\"]},\"contracts/intf/IDealer.sol\":{\"keccak256\":\"0x7e5ea25fb3d3545329cbf8e5c2021ba2314c24554720678c583385dfcd99378a\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://ffd0ff5d3bb58ba3923e713c79a916082907c604aa60761bf400fa9e73ab882c\",\"dweb:/ipfs/QmdDGqBjkQjCYzn1S1PG9VUtff6D37MAiKz6CdpTVxQi89\"]},\"contracts/intf/IPerpetual.sol\":{\"keccak256\":\"0x5cb20445c3f9cce9d57c5823a2d9d3d51982786896d2a1c5b4fb59496a6091a5\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://7a76c41a8cddd3f9f7e0fab04eb620a41c2763fd4b6f10784e6c1a0b140b82a8\",\"dweb:/ipfs/QmPauywUAsrJEfuvocg3TSKhXkNiTVjBkuC484bzadi1JP\"]},\"contracts/lib/Types.sol\":{\"keccak256\":\"0x86ebf76724a433dea625290e0418c09b40387a17ef2917e4bbd2ccbec808fc96\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://d3af2e85ca328ed8e48ba00610d96ec0fb93c9df7ca2246aea64d6230354e662\",\"dweb:/ipfs/QmajVy2FCZXsyTcJinNHSEBwaz3FG8crGTKQFks59JmvfD\"]},\"contracts/utils/SignedDecimalMath.sol\":{\"keccak256\":\"0x4f110110bfe52a17fabc6795279f971793c494eea40386ca7f454c9b66d14c22\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://13673ef58bc958e49f5c494a92631389c45f214745511013a2351c9a6337c6b0\",\"dweb:/ipfs/QmSrk5PNt7KnebJVhh9ZBp1fvbYyiebdMtQJ1QK4sSDbsU\"]},\"node_modules/@openzeppelin/contracts/access/Ownable.sol\":{\"keccak256\":\"0xa94b34880e3c1b0b931662cb1c09e5dfa6662f31cba80e07c5ee71cd135c9673\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://40fb1b5102468f783961d0af743f91b9980cf66b50d1d12009f6bb1869cea4d2\",\"dweb:/ipfs/QmYqEbJML4jB1GHbzD4cUZDtJg5wVwNm3vDJq1GbyDus8y\"]},\"node_modules/@openzeppelin/contracts/utils/Context.sol\":{\"keccak256\":\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92\",\"dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3\"]},\"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol\":{\"keccak256\":\"0x52a8cfb0f5239d11b457dcdd1b326992ef672714ca8da71a157255bddd13f3ad\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://495145362c7ff1c9ca88c58bbbbcb412e3c2004406647412394486552ff6c278\",\"dweb:/ipfs/QmNNCeng6d5eRPDn6tkWSQhjE39XWfQEfjA63rRwHmr1iH\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.9+commit.e5eed63a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"int256","name":"paperChange","type":"int256","indexed":false},{"internalType":"int256","name":"creditChange","type":"int256","indexed":false}],"type":"event","name":"BalanceChange","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"int256","name":"oldFundingRate","type":"int256","indexed":false},{"internalType":"int256","name":"newFundingRate","type":"int256","indexed":false}],"type":"event","name":"UpdateFundingRate","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address"}],"stateMutability":"view","type":"function","name":"balanceOf","outputs":[{"internalType":"int256","name":"paper","type":"int256"},{"internalType":"int256","name":"credit","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getFundingRate","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[{"internalType":"address","name":"liquidator","type":"address"},{"internalType":"address","name":"liquidatedTrader","type":"address"},{"internalType":"int256","name":"requestPaper","type":"int256"},{"internalType":"int256","name":"expectCredit","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"liquidate","outputs":[{"internalType":"int256","name":"liqtorPaperChange","type":"int256"},{"internalType":"int256","name":"liqtorCreditChange","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"bytes","name":"tradeData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"trade"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"int256","name":"newFundingRate","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"updateFundingRate"}],"devdoc":{"kind":"dev","methods":{"balanceOf(address)":{"returns":{"credit":"is not related to position direction or entry price, only used to calculate risk ratio and net value.","paper":"is positive when the trader holds a long position and negative when the trader holds a short position."}},"liquidate(address,address,int256,int256)":{"details":"Because the liquidation is open to public, there is no guarantee that your request will be executed. It will not be executed or partially executed if: 1) someone else submitted a liquidation request before you, or 2) the trader deposited enough margin in time, or 3) the mark price moved beyond your price protection. Your liquidation will be limited to the position size. For example, if the position remains 10ETH and you're requesting a 15ETH liquidation. Only 10ETH will be executed. And the other 5ETH request will be cancelled.","params":{"expectCredit":"is the amount of credit you want to pay (when liquidating a short position) or receive (when liquidating a long position)","liquidatedTrader":"is the trader you want to liquidate.","requestPaper":"is the size of position you want to take . requestPaper is positive when you want to liquidate a long position, negative when short."},"returns":{"liqtorCreditChange":"is the final executed change of liquidator's credit amount","liqtorPaperChange":"is the final executed change of liquidator's paper amount"}},"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"trade(bytes)":{"details":"tradeData will be forwarded to the Dealer contract and waiting for matching result. Then the Perpetual contract will execute the result."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"version":1},"userdoc":{"kind":"user","methods":{"balanceOf(address)":{"notice":"Return the paper amount and credit amount of a certain trader."},"getFundingRate()":{"notice":"Get funding rate of this perpetual market. Funding rate is a 1e18 based decimal."},"liquidate(address,address,int256,int256)":{"notice":"Liquidate a position with customized paper amount and price protection."},"trade(bytes)":{"notice":"Match and settle orders."},"updateFundingRate(int256)":{"notice":"Update funding rate, owner only function."}},"version":1}},"settings":{"remappings":["@mean-finance/=node_modules/@mean-finance/","@openzeppelin/=node_modules/@openzeppelin/","@rari-capital/=node_modules/@rari-capital/","@uniswap/=node_modules/@uniswap/","base64-sol/=node_modules/base64-sol/","ds-test/=lib/forge-std/lib/ds-test/src/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/impl/Perpetual.sol":"Perpetual"},"libraries":{}},"sources":{"contracts/impl/Perpetual.sol":{"keccak256":"0x69f2c1a8a17f8aa9ac82200aff3414f6aeafeca4c9ff4d0e2618feee732c9bea","urls":["bzz-raw://3229293e97f3e1abdf14327b8f1f287943ffad70230836825ccfaa2ea7b3fc05","dweb:/ipfs/QmVZjFzhPPVSQ2sKSmY1JaMgET5veHQqpGbfEYKdxFynQF"],"license":"BUSL-1.1"},"contracts/intf/IDealer.sol":{"keccak256":"0x7e5ea25fb3d3545329cbf8e5c2021ba2314c24554720678c583385dfcd99378a","urls":["bzz-raw://ffd0ff5d3bb58ba3923e713c79a916082907c604aa60761bf400fa9e73ab882c","dweb:/ipfs/QmdDGqBjkQjCYzn1S1PG9VUtff6D37MAiKz6CdpTVxQi89"],"license":"BUSL-1.1"},"contracts/intf/IPerpetual.sol":{"keccak256":"0x5cb20445c3f9cce9d57c5823a2d9d3d51982786896d2a1c5b4fb59496a6091a5","urls":["bzz-raw://7a76c41a8cddd3f9f7e0fab04eb620a41c2763fd4b6f10784e6c1a0b140b82a8","dweb:/ipfs/QmPauywUAsrJEfuvocg3TSKhXkNiTVjBkuC484bzadi1JP"],"license":"BUSL-1.1"},"contracts/lib/Types.sol":{"keccak256":"0x86ebf76724a433dea625290e0418c09b40387a17ef2917e4bbd2ccbec808fc96","urls":["bzz-raw://d3af2e85ca328ed8e48ba00610d96ec0fb93c9df7ca2246aea64d6230354e662","dweb:/ipfs/QmajVy2FCZXsyTcJinNHSEBwaz3FG8crGTKQFks59JmvfD"],"license":"BUSL-1.1"},"contracts/utils/SignedDecimalMath.sol":{"keccak256":"0x4f110110bfe52a17fabc6795279f971793c494eea40386ca7f454c9b66d14c22","urls":["bzz-raw://13673ef58bc958e49f5c494a92631389c45f214745511013a2351c9a6337c6b0","dweb:/ipfs/QmSrk5PNt7KnebJVhh9ZBp1fvbYyiebdMtQJ1QK4sSDbsU"],"license":"BUSL-1.1"},"node_modules/@openzeppelin/contracts/access/Ownable.sol":{"keccak256":"0xa94b34880e3c1b0b931662cb1c09e5dfa6662f31cba80e07c5ee71cd135c9673","urls":["bzz-raw://40fb1b5102468f783961d0af743f91b9980cf66b50d1d12009f6bb1869cea4d2","dweb:/ipfs/QmYqEbJML4jB1GHbzD4cUZDtJg5wVwNm3vDJq1GbyDus8y"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/Context.sol":{"keccak256":"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7","urls":["bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92","dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol":{"keccak256":"0x52a8cfb0f5239d11b457dcdd1b326992ef672714ca8da71a157255bddd13f3ad","urls":["bzz-raw://495145362c7ff1c9ca88c58bbbbcb412e3c2004406647412394486552ff6c278","dweb:/ipfs/QmNNCeng6d5eRPDn6tkWSQhjE39XWfQEfjA63rRwHmr1iH"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/impl/Perpetual.sol","id":2562,"exportedSymbols":{"Context":[55736],"IDealer":[2865],"IPerpetual":[2929],"Ownable":[54229],"Perpetual":[2561],"SafeCast":[58678],"SignedDecimalMath":[9335],"Types":[6020]},"nodeType":"SourceUnit","src":"79:7131:11","nodes":[{"id":2144,"nodeType":"PragmaDirective","src":"79:22:11","nodes":[],"literals":["solidity","0.8",".9"]},{"id":2145,"nodeType":"ImportDirective","src":"103:52:11","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/access/Ownable.sol","file":"@openzeppelin/contracts/access/Ownable.sol","nameLocation":"-1:-1:-1","scope":2562,"sourceUnit":54230,"symbolAliases":[],"unitAlias":""},{"id":2146,"nodeType":"ImportDirective","src":"156:57:11","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol","file":"@openzeppelin/contracts/utils/math/SafeCast.sol","nameLocation":"-1:-1:-1","scope":2562,"sourceUnit":58679,"symbolAliases":[],"unitAlias":""},{"id":2147,"nodeType":"ImportDirective","src":"214:29:11","nodes":[],"absolutePath":"contracts/intf/IDealer.sol","file":"../intf/IDealer.sol","nameLocation":"-1:-1:-1","scope":2562,"sourceUnit":2866,"symbolAliases":[],"unitAlias":""},{"id":2148,"nodeType":"ImportDirective","src":"244:32:11","nodes":[],"absolutePath":"contracts/intf/IPerpetual.sol","file":"../intf/IPerpetual.sol","nameLocation":"-1:-1:-1","scope":2562,"sourceUnit":2930,"symbolAliases":[],"unitAlias":""},{"id":2149,"nodeType":"ImportDirective","src":"277:40:11","nodes":[],"absolutePath":"contracts/utils/SignedDecimalMath.sol","file":"../utils/SignedDecimalMath.sol","nameLocation":"-1:-1:-1","scope":2562,"sourceUnit":9336,"symbolAliases":[],"unitAlias":""},{"id":2561,"nodeType":"ContractDefinition","src":"319:6890:11","nodes":[{"id":2156,"nodeType":"UsingForDirective","src":"367:35:11","nodes":[],"libraryName":{"id":2154,"name":"SignedDecimalMath","nodeType":"IdentifierPath","referencedDeclaration":9335,"src":"373:17:11"},"typeName":{"id":2155,"name":"int256","nodeType":"ElementaryTypeName","src":"395:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":2161,"nodeType":"StructDefinition","src":"903:74:11","nodes":[],"canonicalName":"Perpetual.balance","members":[{"constant":false,"id":2158,"mutability":"mutable","name":"paper","nameLocation":"935:5:11","nodeType":"VariableDeclaration","scope":2161,"src":"928:12:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":2157,"name":"int128","nodeType":"ElementaryTypeName","src":"928:6:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":2160,"mutability":"mutable","name":"reducedCredit","nameLocation":"957:13:11","nodeType":"VariableDeclaration","scope":2161,"src":"950:20:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":2159,"name":"int128","nodeType":"ElementaryTypeName","src":"950:6:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"name":"balance","nameLocation":"910:7:11","scope":2561,"visibility":"public"},{"id":2166,"nodeType":"VariableDeclaration","src":"982:38:11","nodes":[],"constant":false,"mutability":"mutable","name":"balanceMap","nameLocation":"1010:10:11","scope":2561,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance)"},"typeName":{"id":2165,"keyType":{"id":2162,"name":"address","nodeType":"ElementaryTypeName","src":"990:7:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"982:27:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance)"},"valueType":{"id":2164,"nodeType":"UserDefinedTypeName","pathNode":{"id":2163,"name":"balance","nodeType":"IdentifierPath","referencedDeclaration":2161,"src":"1001:7:11"},"referencedDeclaration":2161,"src":"1001:7:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage_ptr","typeString":"struct Perpetual.balance"}}},"visibility":"internal"},{"id":2168,"nodeType":"VariableDeclaration","src":"1026:18:11","nodes":[],"constant":false,"mutability":"mutable","name":"fundingRate","nameLocation":"1033:11:11","scope":2561,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2167,"name":"int256","nodeType":"ElementaryTypeName","src":"1026:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"id":2176,"nodeType":"EventDefinition","src":"1088:115:11","nodes":[],"anonymous":false,"name":"BalanceChange","nameLocation":"1094:13:11","parameters":{"id":2175,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2170,"indexed":true,"mutability":"mutable","name":"trader","nameLocation":"1133:6:11","nodeType":"VariableDeclaration","scope":2176,"src":"1117:22:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2169,"name":"address","nodeType":"ElementaryTypeName","src":"1117:7:11","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2172,"indexed":false,"mutability":"mutable","name":"paperChange","nameLocation":"1156:11:11","nodeType":"VariableDeclaration","scope":2176,"src":"1149:18:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2171,"name":"int256","nodeType":"ElementaryTypeName","src":"1149:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":2174,"indexed":false,"mutability":"mutable","name":"creditChange","nameLocation":"1184:12:11","nodeType":"VariableDeclaration","scope":2176,"src":"1177:19:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2173,"name":"int256","nodeType":"ElementaryTypeName","src":"1177:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"1107:95:11"}},{"id":2182,"nodeType":"EventDefinition","src":"1209:70:11","nodes":[],"anonymous":false,"name":"UpdateFundingRate","nameLocation":"1215:17:11","parameters":{"id":2181,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2178,"indexed":false,"mutability":"mutable","name":"oldFundingRate","nameLocation":"1240:14:11","nodeType":"VariableDeclaration","scope":2182,"src":"1233:21:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2177,"name":"int256","nodeType":"ElementaryTypeName","src":"1233:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":2180,"indexed":false,"mutability":"mutable","name":"newFundingRate","nameLocation":"1263:14:11","nodeType":"VariableDeclaration","scope":2182,"src":"1256:21:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2179,"name":"int256","nodeType":"ElementaryTypeName","src":"1256:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"1232:46:11"}},{"id":2194,"nodeType":"FunctionDefinition","src":"1327:80:11","nodes":[],"body":{"id":2193,"nodeType":"Block","src":"1365:42:11","nodes":[],"statements":[{"expression":{"arguments":[{"id":2190,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2184,"src":"1393:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2189,"name":"transferOwnership","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54208,"src":"1375:17:11","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":2191,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1375:25:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2192,"nodeType":"ExpressionStatement","src":"1375:25:11"}]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[],"id":2187,"kind":"baseConstructorSpecifier","modifierName":{"id":2186,"name":"Ownable","nodeType":"IdentifierPath","referencedDeclaration":54229,"src":"1355:7:11"},"nodeType":"ModifierInvocation","src":"1355:9:11"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":2185,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2184,"mutability":"mutable","name":"_owner","nameLocation":"1347:6:11","nodeType":"VariableDeclaration","scope":2194,"src":"1339:14:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2183,"name":"address","nodeType":"ElementaryTypeName","src":"1339:7:11","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1338:16:11"},"returnParameters":{"id":2188,"nodeType":"ParameterList","parameters":[],"src":"1365:0:11"},"scope":2561,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":2230,"nodeType":"FunctionDefinition","src":"2175:273:11","nodes":[],"body":{"id":2229,"nodeType":"Block","src":"2276:172:11","nodes":[],"statements":[{"expression":{"id":2212,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":2204,"name":"paper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2200,"src":"2286:5:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"baseExpression":{"id":2207,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"2301:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2209,"indexExpression":{"id":2208,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2197,"src":"2312:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2301:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2210,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paper","nodeType":"MemberAccess","referencedDeclaration":2158,"src":"2301:24:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":2206,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2294:6:11","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":2205,"name":"int256","nodeType":"ElementaryTypeName","src":"2294:6:11","typeDescriptions":{}}},"id":2211,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2294:32:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2286:40:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2213,"nodeType":"ExpressionStatement","src":"2286:40:11"},{"expression":{"id":2227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":2214,"name":"credit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"2336:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":2217,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2168,"src":"2374:11:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":2215,"name":"paper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2200,"src":"2357:5:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":9293,"src":"2357:16:11","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2218,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2357:29:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"baseExpression":{"id":2221,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"2408:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2223,"indexExpression":{"id":2222,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2197,"src":"2419:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2408:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2224,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"reducedCredit","nodeType":"MemberAccess","referencedDeclaration":2160,"src":"2408:32:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":2220,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2401:6:11","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":2219,"name":"int256","nodeType":"ElementaryTypeName","src":"2401:6:11","typeDescriptions":{}}},"id":2225,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2401:40:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2357:84:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2336:105:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2228,"nodeType":"ExpressionStatement","src":"2336:105:11"}]},"baseFunctions":[2894],"documentation":{"id":2195,"nodeType":"StructuredDocumentation","src":"2144:26:11","text":"@inheritdoc IPerpetual"},"functionSelector":"70a08231","implemented":true,"kind":"function","modifiers":[],"name":"balanceOf","nameLocation":"2184:9:11","parameters":{"id":2198,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2197,"mutability":"mutable","name":"trader","nameLocation":"2211:6:11","nodeType":"VariableDeclaration","scope":2230,"src":"2203:14:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2196,"name":"address","nodeType":"ElementaryTypeName","src":"2203:7:11","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2193:30:11"},"returnParameters":{"id":2203,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2200,"mutability":"mutable","name":"paper","nameLocation":"2254:5:11","nodeType":"VariableDeclaration","scope":2230,"src":"2247:12:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2199,"name":"int256","nodeType":"ElementaryTypeName","src":"2247:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":2202,"mutability":"mutable","name":"credit","nameLocation":"2268:6:11","nodeType":"VariableDeclaration","scope":2230,"src":"2261:13:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2201,"name":"int256","nodeType":"ElementaryTypeName","src":"2261:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"2246:29:11"},"scope":2561,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2251,"nodeType":"FunctionDefinition","src":"2454:223:11","nodes":[],"body":{"id":2250,"nodeType":"Block","src":"2523:154:11","nodes":[],"statements":[{"assignments":[2238],"declarations":[{"constant":false,"id":2238,"mutability":"mutable","name":"oldFundingRate","nameLocation":"2540:14:11","nodeType":"VariableDeclaration","scope":2250,"src":"2533:21:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2237,"name":"int256","nodeType":"ElementaryTypeName","src":"2533:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":2240,"initialValue":{"id":2239,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2168,"src":"2557:11:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"2533:35:11"},{"expression":{"id":2243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":2241,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2168,"src":"2578:11:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2242,"name":"newFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2232,"src":"2592:14:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2578:28:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2244,"nodeType":"ExpressionStatement","src":"2578:28:11"},{"eventCall":{"arguments":[{"id":2246,"name":"oldFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2238,"src":"2639:14:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":2247,"name":"newFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2232,"src":"2655:14:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2245,"name":"UpdateFundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2182,"src":"2621:17:11","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$_t_int256_$returns$__$","typeString":"function (int256,int256)"}},"id":2248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2621:49:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2249,"nodeType":"EmitStatement","src":"2616:54:11"}]},"baseFunctions":[2928],"functionSelector":"c2684de6","implemented":true,"kind":"function","modifiers":[{"id":2235,"kind":"modifierInvocation","modifierName":{"id":2234,"name":"onlyOwner","nodeType":"IdentifierPath","referencedDeclaration":54148,"src":"2513:9:11"},"nodeType":"ModifierInvocation","src":"2513:9:11"}],"name":"updateFundingRate","nameLocation":"2463:17:11","parameters":{"id":2233,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2232,"mutability":"mutable","name":"newFundingRate","nameLocation":"2488:14:11","nodeType":"VariableDeclaration","scope":2251,"src":"2481:21:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2231,"name":"int256","nodeType":"ElementaryTypeName","src":"2481:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"2480:23:11"},"returnParameters":{"id":2236,"nodeType":"ParameterList","parameters":[],"src":"2523:0:11"},"scope":2561,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2259,"nodeType":"FunctionDefinition","src":"2683:92:11","nodes":[],"body":{"id":2258,"nodeType":"Block","src":"2740:35:11","nodes":[],"statements":[{"expression":{"id":2256,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2168,"src":"2757:11:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":2255,"id":2257,"nodeType":"Return","src":"2750:18:11"}]},"baseFunctions":[2922],"functionSelector":"95196f7e","implemented":true,"kind":"function","modifiers":[],"name":"getFundingRate","nameLocation":"2692:14:11","parameters":{"id":2252,"nodeType":"ParameterList","parameters":[],"src":"2706:2:11"},"returnParameters":{"id":2255,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2254,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2259,"src":"2732:6:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2253,"name":"int256","nodeType":"ElementaryTypeName","src":"2732:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"2731:8:11"},"scope":2561,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2324,"nodeType":"FunctionDefinition","src":"2848:543:11","nodes":[],"body":{"id":2323,"nodeType":"Block","src":"2898:493:11","nodes":[],"statements":[{"assignments":[2269,2272,2275],"declarations":[{"constant":false,"id":2269,"mutability":"mutable","name":"traderList","nameLocation":"2939:10:11","nodeType":"VariableDeclaration","scope":2323,"src":"2922:27:11","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":2267,"name":"address","nodeType":"ElementaryTypeName","src":"2922:7:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2268,"nodeType":"ArrayTypeName","src":"2922:9:11","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":2272,"mutability":"mutable","name":"paperChangeList","nameLocation":"2979:15:11","nodeType":"VariableDeclaration","scope":2323,"src":"2963:31:11","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2270,"name":"int256","nodeType":"ElementaryTypeName","src":"2963:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2271,"nodeType":"ArrayTypeName","src":"2963:8:11","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"visibility":"internal"},{"constant":false,"id":2275,"mutability":"mutable","name":"creditChangeList","nameLocation":"3024:16:11","nodeType":"VariableDeclaration","scope":2323,"src":"3008:32:11","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2273,"name":"int256","nodeType":"ElementaryTypeName","src":"3008:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2274,"nodeType":"ArrayTypeName","src":"3008:8:11","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"visibility":"internal"}],"id":2285,"initialValue":{"arguments":[{"expression":{"id":2281,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3083:3:11","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"3083:10:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2283,"name":"tradeData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2262,"src":"3095:9:11","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":2277,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54157,"src":"3061:5:11","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2278,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3061:7:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2276,"name":"IDealer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2865,"src":"3053:7:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDealer_$2865_$","typeString":"type(contract IDealer)"}},"id":2279,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3053:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDealer_$2865","typeString":"contract IDealer"}},"id":2280,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approveTrade","nodeType":"MemberAccess","referencedDeclaration":2650,"src":"3053:29:11","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_int256_$dyn_memory_ptr_$_t_array$_t_int256_$dyn_memory_ptr_$","typeString":"function (address,bytes memory) external returns (address[] memory,int256[] memory,int256[] memory)"}},"id":2284,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3053:52:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_int256_$dyn_memory_ptr_$_t_array$_t_int256_$dyn_memory_ptr_$","typeString":"tuple(address[] memory,int256[] memory,int256[] memory)"}},"nodeType":"VariableDeclarationStatement","src":"2908:197:11"},{"body":{"id":2310,"nodeType":"Block","src":"3161:147:11","statements":[{"expression":{"arguments":[{"baseExpression":{"id":2295,"name":"traderList","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2269,"src":"3183:10:11","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":2297,"indexExpression":{"id":2296,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2287,"src":"3194:1:11","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3183:13:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":2298,"name":"paperChangeList","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2272,"src":"3198:15:11","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2300,"indexExpression":{"id":2299,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2287,"src":"3214:1:11","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3198:18:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"baseExpression":{"id":2301,"name":"creditChangeList","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2275,"src":"3218:16:11","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2303,"indexExpression":{"id":2302,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2287,"src":"3235:1:11","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3218:19:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2294,"name":"_settle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2560,"src":"3175:7:11","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_int256_$returns$__$","typeString":"function (address,int256,int256)"}},"id":2304,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3175:63:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2305,"nodeType":"ExpressionStatement","src":"3175:63:11"},{"id":2309,"nodeType":"UncheckedBlock","src":"3252:46:11","statements":[{"expression":{"id":2307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3280:3:11","subExpression":{"id":2306,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2287,"src":"3282:1:11","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2308,"nodeType":"ExpressionStatement","src":"3280:3:11"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2293,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2290,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2287,"src":"3136:1:11","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":2291,"name":"traderList","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2269,"src":"3140:10:11","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":2292,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"3140:17:11","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3136:21:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2311,"initializationExpression":{"assignments":[2287],"declarations":[{"constant":false,"id":2287,"mutability":"mutable","name":"i","nameLocation":"3129:1:11","nodeType":"VariableDeclaration","scope":2311,"src":"3121:9:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2286,"name":"uint256","nodeType":"ElementaryTypeName","src":"3121:7:11","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2289,"initialValue":{"hexValue":"30","id":2288,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3133:1:11","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3121:13:11"},"nodeType":"ForStatement","src":"3116:192:11"},{"expression":{"arguments":[{"arguments":[{"id":2318,"name":"traderList","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2269,"src":"3353:10:11","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":2314,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54157,"src":"3334:5:11","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2315,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3334:7:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2313,"name":"IDealer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2865,"src":"3326:7:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDealer_$2865_$","typeString":"type(contract IDealer)"}},"id":2316,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3326:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDealer_$2865","typeString":"contract IDealer"}},"id":2317,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"isAllSafe","nodeType":"MemberAccess","referencedDeclaration":2667,"src":"3326:26:11","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_array$_t_address_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (address[] memory) view external returns (bool)"}},"id":2319,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3326:38:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5452414445525f4e4f545f53414645","id":2320,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3366:17:11","typeDescriptions":{"typeIdentifier":"t_stringliteral_f48efd4016f2c74985bba74efbd12695b4f7ac41d78759dcbb27d9130bb4b123","typeString":"literal_string \"TRADER_NOT_SAFE\""},"value":"TRADER_NOT_SAFE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f48efd4016f2c74985bba74efbd12695b4f7ac41d78759dcbb27d9130bb4b123","typeString":"literal_string \"TRADER_NOT_SAFE\""}],"id":2312,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3318:7:11","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2321,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3318:66:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2322,"nodeType":"ExpressionStatement","src":"3318:66:11"}]},"baseFunctions":[2900],"documentation":{"id":2260,"nodeType":"StructuredDocumentation","src":"2817:26:11","text":"@inheritdoc IPerpetual"},"functionSelector":"1037ea51","implemented":true,"kind":"function","modifiers":[],"name":"trade","nameLocation":"2857:5:11","parameters":{"id":2263,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2262,"mutability":"mutable","name":"tradeData","nameLocation":"2878:9:11","nodeType":"VariableDeclaration","scope":2324,"src":"2863:24:11","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2261,"name":"bytes","nodeType":"ElementaryTypeName","src":"2863:5:11","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2862:26:11"},"returnParameters":{"id":2264,"nodeType":"ParameterList","parameters":[],"src":"2898:0:11"},"scope":2561,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2432,"nodeType":"FunctionDefinition","src":"3470:2272:11","nodes":[],"body":{"id":2431,"nodeType":"Block","src":"3686:2056:11","nodes":[],"statements":[{"assignments":[2341],"declarations":[{"constant":false,"id":2341,"mutability":"mutable","name":"liqedPaperChange","nameLocation":"3848:16:11","nodeType":"VariableDeclaration","scope":2431,"src":"3841:23:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2340,"name":"int256","nodeType":"ElementaryTypeName","src":"3841:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":2342,"nodeType":"VariableDeclarationStatement","src":"3841:23:11"},{"assignments":[2344],"declarations":[{"constant":false,"id":2344,"mutability":"mutable","name":"liqedCreditChange","nameLocation":"3881:17:11","nodeType":"VariableDeclaration","scope":2431,"src":"3874:24:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2343,"name":"int256","nodeType":"ElementaryTypeName","src":"3874:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":2345,"nodeType":"VariableDeclarationStatement","src":"3874:24:11"},{"expression":{"id":2362,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":2346,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2336,"src":"3922:17:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":2347,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2338,"src":"3953:18:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":2348,"name":"liqedPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2341,"src":"3985:16:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":2349,"name":"liqedCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2344,"src":"4015:17:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"id":2350,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"3908:134:11","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$_t_int256_$_t_int256_$","typeString":"tuple(int256,int256,int256,int256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":2356,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4094:3:11","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"4094:10:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2358,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2327,"src":"4118:10:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2359,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2329,"src":"4142:16:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2360,"name":"requestPaper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2331,"src":"4172:12:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":2352,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54157,"src":"4053:5:11","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2353,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4053:7:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2351,"name":"IDealer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2865,"src":"4045:7:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDealer_$2865_$","typeString":"type(contract IDealer)"}},"id":2354,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4045:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDealer_$2865","typeString":"contract IDealer"}},"id":2355,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"requestLiquidation","nodeType":"MemberAccess","referencedDeclaration":2705,"src":"4045:35:11","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_address_$_t_int256_$returns$_t_int256_$_t_int256_$_t_int256_$_t_int256_$","typeString":"function (address,address,address,int256) external returns (int256,int256,int256,int256)"}},"id":2361,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4045:149:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_int256_$_t_int256_$_t_int256_$","typeString":"tuple(int256,int256,int256,int256)"}},"src":"3908:286:11","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2363,"nodeType":"ExpressionStatement","src":"3908:286:11"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2364,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2336,"src":"4337:17:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":2365,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4357:1:11","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4337:21:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2390,"nodeType":"Block","src":"4879:512:11","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2386,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2382,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2380,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2338,"src":"5229:18:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":2381,"name":"requestPaper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2331,"src":"5250:12:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"5229:33:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2383,"name":"expectCredit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2333,"src":"5286:12:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":2384,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2336,"src":"5301:17:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"5286:32:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"5229:89:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c49515549444154494f4e5f50524943455f50524f54454354494f4e","id":2387,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5336:30:11","typeDescriptions":{"typeIdentifier":"t_stringliteral_6d43fa073d899f712a640dd54f1bd3c8cce577175f6179dcab6dc6a11ca97752","typeString":"literal_string \"LIQUIDATION_PRICE_PROTECTION\""},"value":"LIQUIDATION_PRICE_PROTECTION"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6d43fa073d899f712a640dd54f1bd3c8cce577175f6179dcab6dc6a11ca97752","typeString":"literal_string \"LIQUIDATION_PRICE_PROTECTION\""}],"id":2379,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5204:7:11","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2388,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5204:176:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2389,"nodeType":"ExpressionStatement","src":"5204:176:11"}]},"id":2391,"nodeType":"IfStatement","src":"4333:1058:11","trueBody":{"id":2378,"nodeType":"Block","src":"4360:513:11","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2374,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2370,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2368,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2338,"src":"4711:18:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":2369,"name":"requestPaper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2331,"src":"4732:12:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4711:33:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2371,"name":"expectCredit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2333,"src":"4768:12:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":2372,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2336,"src":"4783:17:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4768:32:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4711:89:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c49515549444154494f4e5f50524943455f50524f54454354494f4e","id":2375,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4818:30:11","typeDescriptions":{"typeIdentifier":"t_stringliteral_6d43fa073d899f712a640dd54f1bd3c8cce577175f6179dcab6dc6a11ca97752","typeString":"literal_string \"LIQUIDATION_PRICE_PROTECTION\""},"value":"LIQUIDATION_PRICE_PROTECTION"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6d43fa073d899f712a640dd54f1bd3c8cce577175f6179dcab6dc6a11ca97752","typeString":"literal_string \"LIQUIDATION_PRICE_PROTECTION\""}],"id":2367,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4686:7:11","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2376,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4686:176:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2377,"nodeType":"ExpressionStatement","src":"4686:176:11"}]}},{"expression":{"arguments":[{"id":2393,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2329,"src":"5409:16:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2394,"name":"liqedPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2341,"src":"5427:16:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":2395,"name":"liqedCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2344,"src":"5445:17:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2392,"name":"_settle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2560,"src":"5401:7:11","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_int256_$returns$__$","typeString":"function (address,int256,int256)"}},"id":2396,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5401:62:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2397,"nodeType":"ExpressionStatement","src":"5401:62:11"},{"expression":{"arguments":[{"id":2399,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2327,"src":"5481:10:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2400,"name":"liqtorPaperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2336,"src":"5493:17:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":2401,"name":"liqtorCreditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2338,"src":"5512:18:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2398,"name":"_settle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2560,"src":"5473:7:11","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_int256_$_t_int256_$returns$__$","typeString":"function (address,int256,int256)"}},"id":2402,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5473:58:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2403,"nodeType":"ExpressionStatement","src":"5473:58:11"},{"expression":{"arguments":[{"arguments":[{"id":2410,"name":"liquidator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2327,"src":"5573:10:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":2406,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54157,"src":"5557:5:11","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2407,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5557:7:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2405,"name":"IDealer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2865,"src":"5549:7:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDealer_$2865_$","typeString":"type(contract IDealer)"}},"id":2408,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5549:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDealer_$2865","typeString":"contract IDealer"}},"id":2409,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"isSafe","nodeType":"MemberAccess","referencedDeclaration":2658,"src":"5549:23:11","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view external returns (bool)"}},"id":2411,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5549:35:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4c495155494441544f525f4e4f545f53414645","id":2412,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5586:21:11","typeDescriptions":{"typeIdentifier":"t_stringliteral_92d5937ac7e66eb154d98bcdf255f5f85626acd1744c6613495ba0a2945c55da","typeString":"literal_string \"LIQUIDATOR_NOT_SAFE\""},"value":"LIQUIDATOR_NOT_SAFE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_92d5937ac7e66eb154d98bcdf255f5f85626acd1744c6613495ba0a2945c55da","typeString":"literal_string \"LIQUIDATOR_NOT_SAFE\""}],"id":2404,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5541:7:11","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2413,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5541:67:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2414,"nodeType":"ExpressionStatement","src":"5541:67:11"},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":2420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":2415,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"5622:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2417,"indexExpression":{"id":2416,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2329,"src":"5633:16:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5622:28:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2418,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paper","nodeType":"MemberAccess","referencedDeclaration":2158,"src":"5622:34:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2419,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5660:1:11","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5622:39:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2430,"nodeType":"IfStatement","src":"5618:118:11","trueBody":{"id":2429,"nodeType":"Block","src":"5663:73:11","statements":[{"expression":{"arguments":[{"id":2426,"name":"liquidatedTrader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2329,"src":"5708:16:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":2422,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54157,"src":"5685:5:11","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2423,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5685:7:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2421,"name":"IDealer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2865,"src":"5677:7:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDealer_$2865_$","typeString":"type(contract IDealer)"}},"id":2424,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5677:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDealer_$2865","typeString":"contract IDealer"}},"id":2425,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"handleBadDebt","nodeType":"MemberAccess","referencedDeclaration":2711,"src":"5677:30:11","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":2427,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5677:48:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2428,"nodeType":"ExpressionStatement","src":"5677:48:11"}]}}]},"baseFunctions":[2916],"documentation":{"id":2325,"nodeType":"StructuredDocumentation","src":"3439:26:11","text":"@inheritdoc IPerpetual"},"functionSelector":"c1790370","implemented":true,"kind":"function","modifiers":[],"name":"liquidate","nameLocation":"3479:9:11","parameters":{"id":2334,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2327,"mutability":"mutable","name":"liquidator","nameLocation":"3506:10:11","nodeType":"VariableDeclaration","scope":2432,"src":"3498:18:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2326,"name":"address","nodeType":"ElementaryTypeName","src":"3498:7:11","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2329,"mutability":"mutable","name":"liquidatedTrader","nameLocation":"3534:16:11","nodeType":"VariableDeclaration","scope":2432,"src":"3526:24:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2328,"name":"address","nodeType":"ElementaryTypeName","src":"3526:7:11","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2331,"mutability":"mutable","name":"requestPaper","nameLocation":"3567:12:11","nodeType":"VariableDeclaration","scope":2432,"src":"3560:19:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2330,"name":"int256","nodeType":"ElementaryTypeName","src":"3560:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":2333,"mutability":"mutable","name":"expectCredit","nameLocation":"3596:12:11","nodeType":"VariableDeclaration","scope":2432,"src":"3589:19:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2332,"name":"int256","nodeType":"ElementaryTypeName","src":"3589:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"3488:126:11"},"returnParameters":{"id":2339,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2336,"mutability":"mutable","name":"liqtorPaperChange","nameLocation":"3640:17:11","nodeType":"VariableDeclaration","scope":2432,"src":"3633:24:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2335,"name":"int256","nodeType":"ElementaryTypeName","src":"3633:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":2338,"mutability":"mutable","name":"liqtorCreditChange","nameLocation":"3666:18:11","nodeType":"VariableDeclaration","scope":2432,"src":"3659:25:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2337,"name":"int256","nodeType":"ElementaryTypeName","src":"3659:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"3632:53:11"},"scope":2561,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2560,"nodeType":"FunctionDefinition","src":"6101:1106:11","nodes":[],"body":{"id":2559,"nodeType":"Block","src":"6214:993:11","nodes":[],"statements":[{"assignments":[2442],"declarations":[{"constant":false,"id":2442,"mutability":"mutable","name":"isNewPosition","nameLocation":"6229:13:11","nodeType":"VariableDeclaration","scope":2559,"src":"6224:18:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2441,"name":"bool","nodeType":"ElementaryTypeName","src":"6224:4:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":2449,"initialValue":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":2448,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":2443,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"6245:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2445,"indexExpression":{"id":2444,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6256:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6245:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2446,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paper","nodeType":"MemberAccess","referencedDeclaration":2158,"src":"6245:24:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2447,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6273:1:11","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6245:29:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"6224:50:11"},{"assignments":[2451],"declarations":[{"constant":false,"id":2451,"mutability":"mutable","name":"rate","nameLocation":"6291:4:11","nodeType":"VariableDeclaration","scope":2559,"src":"6284:11:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2450,"name":"int256","nodeType":"ElementaryTypeName","src":"6284:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":2453,"initialValue":{"id":2452,"name":"fundingRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2168,"src":"6298:11:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"6284:25:11"},{"assignments":[2455],"declarations":[{"constant":false,"id":2455,"mutability":"mutable","name":"credit","nameLocation":"6340:6:11","nodeType":"VariableDeclaration","scope":2559,"src":"6333:13:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2454,"name":"int256","nodeType":"ElementaryTypeName","src":"6333:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":2476,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":2464,"name":"rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2451,"src":"6393:4:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"arguments":[{"expression":{"baseExpression":{"id":2458,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"6356:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2460,"indexExpression":{"id":2459,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6367:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6356:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2461,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paper","nodeType":"MemberAccess","referencedDeclaration":2158,"src":"6356:24:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":2457,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6349:6:11","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":2456,"name":"int256","nodeType":"ElementaryTypeName","src":"6349:6:11","typeDescriptions":{}}},"id":2462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6349:32:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":9293,"src":"6349:43:11","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6349:49:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"baseExpression":{"id":2468,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"6420:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2470,"indexExpression":{"id":2469,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6431:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6420:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2471,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"reducedCredit","nodeType":"MemberAccess","referencedDeclaration":2160,"src":"6420:32:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":2467,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6413:6:11","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":2466,"name":"int256","nodeType":"ElementaryTypeName","src":"6413:6:11","typeDescriptions":{}}},"id":2472,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6413:40:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6349:104:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":2474,"name":"creditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2438,"src":"6468:12:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6349:131:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"6333:147:11"},{"assignments":[2478],"declarations":[{"constant":false,"id":2478,"mutability":"mutable","name":"newPaper","nameLocation":"6497:8:11","nodeType":"VariableDeclaration","scope":2559,"src":"6490:15:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":2477,"name":"int128","nodeType":"ElementaryTypeName","src":"6490:6:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":2488,"initialValue":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":2487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":2479,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"6508:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2481,"indexExpression":{"id":2480,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6519:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6508:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2482,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paper","nodeType":"MemberAccess","referencedDeclaration":2158,"src":"6508:24:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":2485,"name":"paperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2436,"src":"6565:11:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":2483,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58678,"src":"6547:8:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$58678_$","typeString":"type(library SafeCast)"}},"id":2484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt128","nodeType":"MemberAccess","referencedDeclaration":58304,"src":"6547:17:11","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int128_$","typeString":"function (int256) pure returns (int128)"}},"id":2486,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6547:30:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"6508:69:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"VariableDeclarationStatement","src":"6490:87:11"},{"assignments":[2490],"declarations":[{"constant":false,"id":2490,"mutability":"mutable","name":"newReducedCredit","nameLocation":"6594:16:11","nodeType":"VariableDeclaration","scope":2559,"src":"6587:23:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":2489,"name":"int128","nodeType":"ElementaryTypeName","src":"6587:6:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":2503,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2501,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2493,"name":"credit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2455,"src":"6644:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":2499,"name":"rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2451,"src":"6681:4:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"arguments":[{"id":2496,"name":"newPaper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2478,"src":"6660:8:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":2495,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6653:6:11","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":2494,"name":"int256","nodeType":"ElementaryTypeName","src":"6653:6:11","typeDescriptions":{}}},"id":2497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6653:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2498,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"decimalMul","nodeType":"MemberAccess","referencedDeclaration":9293,"src":"6653:27:11","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2500,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6653:33:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"6644:42:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":2491,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58678,"src":"6613:8:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_SafeCast_$58678_$","typeString":"type(library SafeCast)"}},"id":2492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toInt128","nodeType":"MemberAccess","referencedDeclaration":58304,"src":"6613:17:11","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int128_$","typeString":"function (int256) pure returns (int128)"}},"id":2502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6613:83:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"VariableDeclarationStatement","src":"6587:109:11"},{"expression":{"id":2509,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":2504,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"6706:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2506,"indexExpression":{"id":2505,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6717:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6706:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2507,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"paper","nodeType":"MemberAccess","referencedDeclaration":2158,"src":"6706:24:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2508,"name":"newPaper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2478,"src":"6733:8:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"6706:35:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":2510,"nodeType":"ExpressionStatement","src":"6706:35:11"},{"expression":{"id":2516,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":2511,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"6751:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2513,"indexExpression":{"id":2512,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6762:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6751:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2514,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"reducedCredit","nodeType":"MemberAccess","referencedDeclaration":2160,"src":"6751:32:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2515,"name":"newReducedCredit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"6786:16:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"6751:51:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":2517,"nodeType":"ExpressionStatement","src":"6751:51:11"},{"eventCall":{"arguments":[{"id":2519,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6831:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2520,"name":"paperChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2436,"src":"6839:11:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":2521,"name":"creditChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2438,"src":"6852:12:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2518,"name":"BalanceChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2176,"src":"6817:13:11","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_int256_$_t_int256_$returns$__$","typeString":"function (address,int256,int256)"}},"id":2522,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6817:48:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2523,"nodeType":"EmitStatement","src":"6812:53:11"},{"condition":{"id":2524,"name":"isNewPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2442,"src":"6879:13:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2534,"nodeType":"IfStatement","src":"6875:81:11","trueBody":{"id":2533,"nodeType":"Block","src":"6894:62:11","statements":[{"expression":{"arguments":[{"id":2530,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"6938:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":2526,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54157,"src":"6916:5:11","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2527,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6916:7:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2525,"name":"IDealer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2865,"src":"6908:7:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDealer_$2865_$","typeString":"type(contract IDealer)"}},"id":2528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6908:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDealer_$2865","typeString":"contract IDealer"}},"id":2529,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"openPosition","nodeType":"MemberAccess","referencedDeclaration":2717,"src":"6908:29:11","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":2531,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6908:37:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2532,"nodeType":"ExpressionStatement","src":"6908:37:11"}]}},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":2537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2535,"name":"newPaper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2478,"src":"6969:8:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2536,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6981:1:11","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6969:13:11","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2558,"nodeType":"IfStatement","src":"6965:236:11","trueBody":{"id":2557,"nodeType":"Block","src":"6984:217:11","statements":[{"expression":{"arguments":[{"id":2543,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"7070:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"baseExpression":{"id":2544,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"7094:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2546,"indexExpression":{"id":2545,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"7105:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7094:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2547,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"reducedCredit","nodeType":"MemberAccess","referencedDeclaration":2160,"src":"7094:32:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int128","typeString":"int128"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":2539,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54157,"src":"7033:5:11","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2540,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7033:7:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2538,"name":"IDealer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2865,"src":"7025:7:11","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDealer_$2865_$","typeString":"type(contract IDealer)"}},"id":2541,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7025:16:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IDealer_$2865","typeString":"contract IDealer"}},"id":2542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"realizePnl","nodeType":"MemberAccess","referencedDeclaration":2725,"src":"7025:27:11","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_int256_$returns$__$","typeString":"function (address,int256) external"}},"id":2548,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7025:115:11","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2549,"nodeType":"ExpressionStatement","src":"7025:115:11"},{"expression":{"id":2555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":2550,"name":"balanceMap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"7154:10:11","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_balance_$2161_storage_$","typeString":"mapping(address => struct Perpetual.balance storage ref)"}},"id":2552,"indexExpression":{"id":2551,"name":"trader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"7165:6:11","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7154:18:11","typeDescriptions":{"typeIdentifier":"t_struct$_balance_$2161_storage","typeString":"struct Perpetual.balance storage ref"}},"id":2553,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"reducedCredit","nodeType":"MemberAccess","referencedDeclaration":2160,"src":"7154:32:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":2554,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7189:1:11","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7154:36:11","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":2556,"nodeType":"ExpressionStatement","src":"7154:36:11"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_settle","nameLocation":"6110:7:11","parameters":{"id":2439,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2434,"mutability":"mutable","name":"trader","nameLocation":"6135:6:11","nodeType":"VariableDeclaration","scope":2560,"src":"6127:14:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2433,"name":"address","nodeType":"ElementaryTypeName","src":"6127:7:11","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2436,"mutability":"mutable","name":"paperChange","nameLocation":"6158:11:11","nodeType":"VariableDeclaration","scope":2560,"src":"6151:18:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2435,"name":"int256","nodeType":"ElementaryTypeName","src":"6151:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":2438,"mutability":"mutable","name":"creditChange","nameLocation":"6186:12:11","nodeType":"VariableDeclaration","scope":2560,"src":"6179:19:11","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2437,"name":"int256","nodeType":"ElementaryTypeName","src":"6179:6:11","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"6117:87:11"},"returnParameters":{"id":2440,"nodeType":"ParameterList","parameters":[],"src":"6214:0:11"},"scope":2561,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":2150,"name":"Ownable","nodeType":"IdentifierPath","referencedDeclaration":54229,"src":"341:7:11"},"id":2151,"nodeType":"InheritanceSpecifier","src":"341:7:11"},{"baseName":{"id":2152,"name":"IPerpetual","nodeType":"IdentifierPath","referencedDeclaration":2929,"src":"350:10:11"},"id":2153,"nodeType":"InheritanceSpecifier","src":"350:10:11"}],"canonicalName":"Perpetual","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[2561,2929,54229,55736],"name":"Perpetual","nameLocation":"328:9:11","scope":2562,"usedErrors":[]}],"license":"BUSL-1.1"},"id":11}